[{"title":"Ktorã¨Stripeã§ECã‚µã‚¤ãƒˆã‚’ä½œã£ã¦ã¿ãŸ","date":"","description":"Stripeã™ã”ã„","body":"Kotlin Advent Calendar 2022 æœ¬è¨˜äº‹ã¯Kotlin Advent Calendar 2022 ã®21æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\næ¦‚è¦ ã‚¯ãƒªã‚¹ãƒã‚¹ã¨ã„ãˆã°ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã€‚\nã¨ã„ã†ã“ã¨ã§ECã‚µã‚¤ãƒˆã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚\nECã‚µã‚¤ãƒˆã¨è¨€ã„ã¤ã¤ã‚‚ã‚ã¾ã‚Šè¤‡é›‘ãªã“ã¨ã¯ã›ãšã«ã€Stripeã‹ã‚‰å–å¾—ã—ãŸå•†å“æƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹ç”»é¢ã‚’ä½œã‚‹ã¨ã“ã‚ã¾ã§ã‚„ã‚Šã¾ã™ã€‚\næœ¬ç”»é¢ã‚’å®Ÿè£…ã™ã‚‹éç¨‹ã§ã€APIã‚’çµŒç”±ã—ãŸæƒ…å ±ã®ã‚„ã‚Šã¨ã‚Šâ†’å—ã‘å–ã£ãŸæƒ…å ±ã‚’ç”»é¢ã«è¡¨ç¤ºã™ã‚‹ã¨ã“ã‚ã¾ã§è§¦ã‚Œã¾ã™ã€‚\nã‚ˆã£ã¦ã€æœ¬è¨˜äº‹ã‚’èª­ã‚ã°Kotlinã§å¤–éƒ¨APIï¼ˆä¸»ã«Stripeï¼‰ã‚’ä½¿ã£ãŸã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã–ã£ãã‚Šæ´ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãŸã ãŸã Kotlinã§ä½œã‚‹ã ã‘ã§ã¯ãªãã¦ã€å€‹äººçš„ã«ã“ã‚Œã¾ã§è§¦ã£ãŸã“ã¨ãªã„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦ã¿ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nå€‹äººçš„ã«ã“ã‚Œã¾ã§è§¦ã£ãŸã“ã¨ãªã„\nã‚ãŸã‹ã‚‚Kotlinã¯è§¦ã£ãŸã“ã¨ã‚ã‚‹ã‚ˆã†ãªè¨€ã„æ–¹ã§ã™ãŒã€ç§ã¯ã“ã‚Œã¾ã§Goä¸­å¿ƒã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢äººç”Ÿã§ã—ãŸã€‚\nã—ãŸãŒã£ã¦ã€ãã‚‚ãã‚‚Kotlinè‡ªä½“ã‚ã¾ã‚Šè§¦ã£ãŸã“ã¨ãŒãªã„ã§ã™â†\nKotlinã®ãŠä½œæ³•ã‚’å®ˆã‚Œã¦ã„ãªã„ã¨ã“ã‚ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã“ã‚“ãªæ„Ÿã˜ã§ä½œã‚Œã‚‹ã®ã‹ãã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã¦ã‚‚ã‚‰ãˆã‚‹ã¨å¹¸ã„ã§ã™ã€‚\nã§ã¯ã€æ¡ç”¨æŠ€è¡“ã‚’ç´¹ä»‹ã—ãŸã‚‰ã€ã•ã£ããECã‚µã‚¤ãƒˆã‚’ä½œã£ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nâš ï¸ æœ¬è¨˜äº‹å†…ã«è¨˜è¼‰ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯packageã‚„importå‘¨ã‚Šã®ã‚³ãƒ¼ãƒ‰ã‚’çœç•¥ã—ã¦ã„ã¾ã™ã€‚\nã‚³ãƒ¼ãƒ‰å…¨ä½“ã‚’è¦‹ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒ¼ãƒ‰ã‚’ç½®ã„ã¦ã„ã‚‹ã®ã§ã“ã¡ã‚‰ã‚’å‚ç…§ãã ã•ã„ã€‚\nhttps://github.com/yyh-gl/ktor-shop/ æ¡ç”¨æŠ€è¡“ Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼šKtor ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ï¼šFreeMarker æ±ºæ¸ˆãŠã‚ˆã³å•†å“ç®¡ç†ï¼šStripe DIï¼šKoin Hello World ã¾ãšã¯ã€ŒHello Worldã€ã—ã¦ã„ãã¾ã™ã€‚\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã¯ä¸‹è¨˜å…¬å¼ã‚µã‚¤ãƒˆã«è¨˜è¼‰ã®æ‰‹é †ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nhttps://ktor.io/docs/intellij-idea.html#create_ktor_project ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nã‚³ãƒ¼ãƒ‰ãŒã²ã¨ã¨ãŠã‚Šã§ãã‚ãŒã£ãŸã‚‰ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n$ ./gradlew run\nã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãŸã‚‰ http://localhost:8080/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚\nã€ŒHello World!ã€ã‚’è¡¨ç¤ºã§ãã¾ã—ãŸã€‚\nAuto-reloadã®æœ‰åŠ¹åŒ– é–‹ç™ºã—ã¦ã„ãä¸Šã§ã¯Auto-reloadãŒã‚ã£ãŸæ–¹ãŒä¾¿åˆ©ãªã®ã§Auto-reloadã‚’æœ‰åŠ¹ã«ã—ã¦ã„ãã¾ã™ã€‚\nAuto-reloadã‚’æœ‰åŠ¹åŒ–ã™ã‚‹æ‰‹é †ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\ndevelopmentãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ– ç¶™ç¶šçš„ãªãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œ\n$ ./gradlew -t build ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•\n$ ./gradlew run ã‚µãƒ¼ãƒãƒ¼èµ·å‹•æ‰‹é †ãŒHello Worldã®ã¨ãã‚ˆã‚Šã‚‚2ã¤å¢—ãˆã¦ã„ã¾ã™ã€‚\nè©³ã—ãè¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nå‚è€ƒã‚³ãƒŸãƒƒãƒˆ 1. developmentãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ– developmentãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹æ–¹æ³•ã¯ã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚\nä»Šå›ã¯EngineMainã‚’ä½¿ã£ãŸæ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\nç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã§ã¯embeddedServerã‚’ä½¿ã£ã¦ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ã„ã‚‹ã®ã§EngineMainã«å¤‰æ›´ã—ã¾ã™ã€‚\nï¼ˆEngineMainãŠã‚ˆã³embeddedServerã®é•ã„ã¯ã“ã¡ã‚‰ ï¼‰\n// ktor-shop/src/main/kotlin/com/example/Application.kt fun main(args: Array\u0026lt;String\u0026gt;): Unit = EngineMain.main(args) fun Application.module() { configureRouting() } ç¶šã„ã¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚\nsrc/main/resourcesé…ä¸‹ã«application.confã‚’è¨­ç½®ã—ã¾ã™ã€‚\n// ktor-shop/src/main/resources/application.conf ktor { application { modules = [ com.example.ApplicationKt.module ] } development = true deployment { port = 8080 watch = [ classes, resources ] } } embeddedServerã«æ¸¡ã—ã¦ã„ãŸè¨­å®šæƒ…å ±ã¨åŒæ§˜ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ãƒãƒ¼ãƒˆãªã©ã®è¨­å®šãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nç‰¹ç­†ã™ã¹ãã¯development = trueãŠã‚ˆã³watch = [ classes, resources ]ã§ã™ã€‚\ndevelopment = trueã§developmentãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–ã—ã¦ã„ã¾ã™ã€‚\ndevelopmentãƒ¢ãƒ¼ãƒ‰ãŒç„¡åŠ¹ã ã¨Auto-reloadã¯æœ‰åŠ¹ã«ãªã‚Šã¾ã›ã‚“ã€‚\nwatch = [ classes, resources ]ã¯Auto-reloadã®ç›£è¦–å¯¾è±¡ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nï¼ˆå‚è€ƒ ï¼‰\nEngineMainã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ resourcesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®application.confã¾ãŸã¯application.yamlã‚’å‚ç…§ã™ã‚‹ã®ã§ã€ ä»¥ä¸Šã®ä½œæ¥­ã§developmentãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚\nï¼ˆå‚è€ƒ ï¼‰\n2. ç¶™ç¶šçš„ãªãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œ $ ./gradlew -t build å¤šãã®Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯è¨­å®šã‚’ã„ã˜ã‚Œã°ç°¡å˜ã«Auto-reloadãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™ãŒã€\nKtorã§ã¯ã‚‚ã†ã²ã¨ä½œæ¥­å¿…è¦ã«ãªã‚Šã¾ã™ã€‚\nãã‚ŒãŒç¶™ç¶šçš„ãªãƒ“ãƒ«ãƒ‰ã§ã™ã€‚\nä½œæ¥­ã¨ã—ã¦ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ã€‚\n$ ./gradlew -t build\n-tãŒç¶™ç¶šçš„ãªãƒ“ãƒ«ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚\nã‚³ãƒ¼ãƒ‰ã«å¤‰æ›´ãŒã‚ã‚‹ãŸã³ã«ãƒ“ãƒ«ãƒ‰ã—ç›´ã™ã‹ã‚‰ã€Œç¶™ç¶šçš„ãªãƒ“ãƒ«ãƒ‰ã€ã§ã™ã€‚\nã“ã“ã¾ã§ã§ããŸã‚‰å†åº¦ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n$ ./gradlew run ï¼ˆ./gradlew -t buildã‚‚å®Ÿè¡Œã—ãŸã¾ã¾ï¼‰\nã€ŒHello World!ã€ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚\nã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n// ktor-shop/src/main/kotlin/com/example/plugins/Routing.kt fun Application.configureRouting() { routing { get(\u0026quot;/\u0026quot;) { call.respondText(\u0026quot;Hello World2!\u0026quot;) } } } ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ã¿ã‚‹ã¨ä»¥ä¸‹ã®é€šã‚Šè¡¨ç¤ºãŒå¤‰åŒ–ã—ã¾ã—ãŸã€‚\nã†ã¾ãAuto-reloadã§ãã¦ã„ã¾ã™ã­ã€‚\nå®Ÿè£…ç‰©ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…±æœ‰ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã®FreeMarker ã‚’ä½¿ã„ãªãŒã‚‰ ã“ã‚Œã‹ã‚‰ä½œã‚ã†ã¨ã—ã¦ã„ã‚‹ã‚‚ã®ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…±æœ‰ã—ã¾ã™ã€‚\nå‚è€ƒã‚³ãƒŸãƒƒãƒˆ ã¾ãšã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n// ktor-shop/src/main/resources/templates/contents.ftl \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;#list contents as content\u0026gt; \u0026lt;div\u0026gt; ${content.id} ${content.name} ${content.price} \u0026lt;/div\u0026gt; \u0026lt;/#list\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; \u0026lt;#list contents as content\u0026gt;ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æ¸¡ã—ãŸcontentsã®ä¸­èº«ã‚’ã²ã¨ã¤ãšã¤å–ã‚Šå‡ºã—ã¾ã™ã€‚\nãã—ã¦\n${content.id} ${content.name} ${content.price} ã«ã¦id, name, priceæƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\næ¬¡ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å€¤ã‚’æ¸¡ã—ã¾ã™ã€‚\nRouting.ktã‚’ä»¥ä¸‹ã®é€šã‚Šå¤‰æ›´ã—ã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/plugins/Routing.kt data class Content(val id: Int, val name: String, val price: Int) fun Application.configureRouting() { routing { get(\u0026quot;/\u0026quot;) { val contents: List\u0026lt;Content\u0026gt; = listOf( Content(1, \u0026quot;èµ¤ãƒšãƒ³\u0026quot;, 100), Content(2, \u0026quot;é’ãƒšãƒ³\u0026quot;, 200), ) call.respond(FreeMarkerContent(\u0026quot;contents.ftl\u0026quot;, mapOf(\u0026quot;contents\u0026quot; to contents))) } } } å•†å“æƒ…å ±ï¼ˆcontentsï¼‰ã¯ä¸€æ—¦ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¦ãŠãã¾ã™ã€‚\ncall.respond(FreeMarkerContent(\u0026quot;contents.ftl\u0026quot;, mapOf(\u0026quot;contents\u0026quot; to contents)))ã«ã¦ contents.ftlã«contentsã‚’æ¸¡ã—ãŸä¸Šã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å‡¦ç†ã—ã¦ã„ã¾ã™ã€‚\nçµæœã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ã®ãŒä»¥ä¸‹ã®ç”»é¢ã§ã™ã€‚\nå•†å“æƒ…å ±ãŒã²ã¨ã¤ãšã¤è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ã“ã‚Œä»¥ä¸ŠUIã«ã“ã ã‚ã‚‹ã“ã¨ã¯ã—ã¾ã›ã‚“â†\nã“ã“ã¾ã§ã§ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ã‚³ãƒ¼ãƒ‰ãŠã‚ˆã³é–‹ç™ºã—ã‚„ã™ã„ç’°å¢ƒãŒæ•´ã„ã€ ã“ã‚Œã‹ã‚‰ä½œã£ã¦ã„ãã‚‚ã®ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…±æœ‰ã—ã¾ã—ãŸã€‚\næ¬¡ç« ã‹ã‚‰StripeçµŒç”±ã§å•†å“æƒ…å ±ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ãã¾ã™ã€‚\nå•†å“ç™»éŒ²ï¼ˆStripeï¼‰ Stripeã«è²©å£²ã™ã‚‹å•†å“ã®æƒ…å ±ã‚’ç™»éŒ²ã—ã¾ã™ã€‚\nï¼ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã¯çœç•¥ã—ã¾ã™ï¼‰\nã€å•†å“ã€ãƒšãƒ¼ã‚¸ã‹ã‚‰ã€å•†å“ã‚’è¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—\nå•†å“æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ã€å•†å“ã‚’ä¿å­˜ã€ã™ã‚‹ã¨\nç™»éŒ²ã—ãŸå•†å“ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚\nå•†å“ç™»éŒ²ã¯ä»¥ä¸Šã§OKã§ã™ã€‚\nã§ã¯ã•ã£ããã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\nå•†å“æƒ…å ±ã®å–å¾— ä»Šå›ã¯ãŸã å®Ÿè£…ã™ã‚‹ã ã‘ã§ãªãã€ã‚ã‚‹ç¨‹åº¦ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’åˆ†ã‘ã¦å®Ÿè£…ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nå„å±¤ã‚’é †ã«ä½œã£ã¦ã„ãã€æœ€çµ‚çš„ã«å•†å“æƒ…å ±ã‚’Stripeã‹ã‚‰å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nï¼ˆsrcé…ä¸‹ã ã‘è¡¨ç¤ºï¼‰\nsrc â””â”€â”€ main â”œâ”€â”€ kotlin â”‚Â â””â”€â”€ com â”‚Â â””â”€â”€ example â”‚Â â”œâ”€â”€ Application.kt â”‚Â â”œâ”€â”€ contoroller â”‚Â â”œâ”€â”€ domain â”‚Â â”œâ”€â”€ infrastructure â”‚Â â”œâ”€â”€ plugins â”‚Â â””â”€â”€ usecase â””â”€â”€ resources controllerã‚’uiã€usecaseã‚’applicationãªã©ã¨ã—ã¦ã„ã‚‹ã¨ã“ã‚ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ æ¯”è¼ƒçš„ã‚ˆãè¦‹ã‹ã‘ã‚‹ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†ã‘ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ†ã‘ã‚‹æ§‹æˆï¼ˆãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰ã‚‚ã‚ã‚Šã¾ã™ãŒã€ ä»Šå›ã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ†ã‘ã‚‹ã“ã¨ã§ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’åˆ†é›¢ã—ã¦ã„ã¾ã™ã€‚\nä¸‹è¨˜ã®è¨˜äº‹ã¯ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒæœ¬é¡Œã§ã¯ãªã„ã®ã§ã™ãŒã€ ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã®æ‰‹é †ã‚„è¦ç‚¹ãªã©ãŒè¼‰ã£ã¦ã„ã‚‹ã®ã§ãŠã™ã™ã‚ã§ã™ã€‚\nã€ãªã‚“ã¨ãªãä½¿ã‚ãªã„Gradleï½œãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã€ ï¼ˆä»Šå¹´ã®ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¨˜äº‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã£ã¦å‚ç…§ï¼‰\nControllerå±¤ã‚’è¿½åŠ  ã€å®Ÿè£…ç‰©ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…±æœ‰ã€ã®ç« ã§ã¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‡¦ç†ã§å…¨ã¦ã®å‡¦ç†ã‚’å®Œçµã•ã›ã¦ã„ã¾ã—ãŸã€‚\nã“ã®ã¾ã¾ã§ã¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‡¦ç†ãŒã™ã”ãè¦‹ã¥ã‚‰ããªã£ã¦ã—ã¾ã†ã®ã§ã€ã¾ãšã¯ãã“ã‚’ç›´ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nå‚è€ƒã‚³ãƒŸãƒƒãƒˆ // ktor-shop/src/main/kotlin/com/example/plugins/Routing.kt fun Application.configureRouting() { routing { get(\u0026quot;/\u0026quot;) { val contentController = ContentController() val contents: List\u0026lt;Content\u0026gt; = contentController.list() call.respond(FreeMarkerContent(\u0026quot;contents.ftl\u0026quot;, mapOf(\u0026quot;contents\u0026quot; to contents))) } } } å‡¦ç†ã®ä¸€éƒ¨ã‚’Controllerå±¤ã«ç§»å‹•ã—ã¾ã—ãŸã€‚\nãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‡¦ç†ã¯ä»Šã¯ã¾ã è¡Œæ•°ãŒå°‘ãªã„ã®ã§è¦‹ãŸç›®ã®å¤‰åŒ–ãŒå°‘ãªã„ã§ã™ãŒã€ å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã£ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æ¸¡ã™ã ã‘ã«ãªã‚Šã€è‹¥å¹²å‡¦ç†ãŒè¦‹ã‚„ã™ããªã‚Šã¾ã—ãŸã€‚\nControllerå±¤ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\n// ktor-shop/src/main/kotlin/com/example/contoroller/contents/ContentController.kt data class Content(val id: Int, val name: String, val price: Int) class ContentController() { fun list(): List\u0026lt;Content\u0026gt; { return listOf( Content(1, \u0026quot;èµ¤ãƒšãƒ³\u0026quot;, 100), Content(2, \u0026quot;é’ãƒšãƒ³\u0026quot;, 200), Content(3, \u0026quot;é»„ãƒšãƒ³\u0026quot;, 300), ) } } Controllerã¯ç”»é¢è¡¨ç¤ºã«å¿…è¦ãªæƒ…å ±ã‚’é©åˆ‡ãªå½¢å¼ã§è¿”ã—ã¾ã™ã€‚\nã“ã“ã§ã‚‚å•†å“æƒ…å ±ã¯ä¸€æ—¦ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§ã™ã€‚\nã§ã¯ã€ç”»é¢ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\né»„ãƒšãƒ³ãŒå¢—ãˆã¦ãŠã‚Šã€Controllerã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã›ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚\nUseCaseå±¤ãŠã‚ˆã³Domainå±¤ã‚’è¿½åŠ  æ¬¡ã«ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã‚’åˆ†é›¢ã—ãŸä¸Šã§ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å˜ä½ã§å‡¦ç†ã‚’åˆ†é›¢ã—ã¦ã„ãã¾ã™ã€‚\nãªãŠã€ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã§ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã¨ã„ãˆã‚‹ã€Œãªã«ã‹ã€ã‚’è¦‹ã„ã ã›ã¾ã›ã‚“ã§ã—ãŸã€‚\nã‚ˆã£ã¦ã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¯ãŸã ã®ãƒ‡ãƒ¼ã‚¿ã®è©°ã‚ç‰©ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nå‚è€ƒã‚³ãƒŸãƒƒãƒˆ // ktor-shop/src/main/kotlin/com/example/contoroller/contents/ContentController.kt data class ContentView( val id: Int, val name: String, val price: Int ) { companion object { fun of(content: Content): ContentView { return ContentView( id = content.id, name = content.name, price = content.price, ) } } } data class ContentsView( val values: List\u0026lt;ContentView\u0026gt;, ) { companion object { fun of(contents: List\u0026lt;Content\u0026gt;): ContentsView { return ContentsView( values = contents.map { ContentView.of(it) } ) } } } class ContentController( private val listContentUseCase: ListContentUseCase ) { fun list(): ContentsView { return ContentsView.of(listContentUseCase.execute()) } } Controllerã‚’å¤‰æ›´ã—ã¦ã¿ã¾ã—ãŸã€‚\nä»¥ä¸‹ã®é€šã‚ŠUseCaseçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚\nfun list(): ContentsView { return ContentsView.of(listContentUseCase.execute()) } æˆ»ã‚Šå€¤ã¯Viewã®ãŸã‚ã«ç”¨æ„ã—ãŸdata classã«ç½®ãæ›ãˆã¦ã„ã¾ã™ã€‚\nã“ã†ã™ã‚‹ã“ã¨ã§è¡¨ç¤ºã®ãŸã‚ã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ãŒUseCaseä»¥é™ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆã‚„å‡¦ç†ï¼‰ã«ä¸å¿…è¦ã«ä¾å­˜ã™ã‚‹ã“ã¨ã‚’é˜²ãã¾ã™ã€‚\nï¼ˆé€†ã‚‚ã—ã‹ã‚Šï¼‰\nUseCaseã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/usecase/ListContentUseCase.kt class ListContentUseCase { fun execute(): List\u0026lt;Content\u0026gt; { return listOf( Content(1, \u0026quot;èµ¤ãƒšãƒ³\u0026quot;, 100), Content(2, \u0026quot;é’ãƒšãƒ³\u0026quot;, 200), Content(3, \u0026quot;é»„ãƒšãƒ³\u0026quot;, 300), ) } } ä»Šå›UseCaseã®æˆ»ã‚Šå€¤ã«ã¯å¾Œã»ã©ç¤ºã™Contentã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚\nUseCaseå±¤ã®æˆ»ã‚Šå€¤ç”¨ã«data classã‚’ç”¨æ„ã™ã‚‹ã‚„ã‚Šæ–¹ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ ä»Šå›ã¯è©°ã‚æ›¿ãˆã®ã‚³ãƒ¼ãƒ‰ã‚’çœç•¥ã™ã‚‹ãŸã‚ã«ã“ã†ã—ã¾ã—ãŸã€‚\nè©³ç´°ãªå®Ÿè£…ã¯å¾Œã®ç« ã«ä»»ã›ã¾ã™ã€‚\nContentã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/domain/entity/Content.kt class Content ( val id: Int, val name: String, val price: Int, ) ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã‚’ãªã«ã‚‚è¡¨ç¾ã§ãã¦ã„ãªã„ã®ã§è‰¯ããªã„å®Ÿè£…ã§ã™ãŒã€ å…¨ä½“çš„ãªå®Ÿè£…ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ãŒç›®çš„ãªã®ã§ã“ã‚Œã§OKã¨ã—ã¾ã™ã€‚\næœ€å¾Œã«ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã—ã¾ã™ã€‚\nDIã¾ã‚ã‚Šã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä¸€æ—¦ä½¿ç”¨ã›ãšã€æ„šç›´ã«ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã—ã¦ã„ãã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/plugins/Routing.kt fun Application.configureRouting() { routing { get(\u0026quot;/\u0026quot;) { val listContentUseCase = ListContentUseCase() val contentController = ContentController( listContentUseCase = listContentUseCase ) val contents: ContentsView = contentController.list() call.respond(FreeMarkerContent(\u0026quot;contents.ftl\u0026quot;, mapOf(\u0026quot;contents\u0026quot; to contents.values))) } } } ã“ã“ã¾ã§æ¥ãŸã‚‰ç”»é¢ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nå‰å›ç¢ºèªæ™‚ã¨åŒã˜ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nInfrastructureå±¤ã‚’è¿½åŠ  æœ€å¾Œã«Infrastructureå±¤ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\nã¾ãšã¯Stripeã¨ã®é€šä¿¡ã‚’çœã„ã¦ç°¡ç•¥åŒ–ã—ãŸå‡¦ç†ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\nå‚è€ƒã‚³ãƒŸãƒƒãƒˆ UseCaseå±¤ã‚’ä»¥ä¸‹ã®ã¨ãŠã‚Šå¤‰æ›´ã—ã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/usecase/ListContentUseCase.kt class ListContentUseCase( private val contentRepository: ContentRepository, ) { fun execute(): List\u0026lt;Content\u0026gt; { return contentRepository.listAll() } } RepositoryçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nRepositoryã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/domain/repository/ContentRepository.kt interface ContentRepository { fun listAll(): List\u0026lt;Content\u0026gt; } Domainå±¤ã«ã¯Interfaceã ã‘ç½®ãã€å®Ÿè£…ã¯æ¬¡ã«ç¤ºã™ã¨ãŠã‚ŠInfrastructureå±¤ã«ç½®ãã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/infrastructure/dao/ContentRepositoryImpl.kt class ContentRepositoryImpl: ContentRepository { override fun listAll(): List\u0026lt;Content\u0026gt; { return listOf( Content(1, \u0026quot;èµ¤ãƒšãƒ³\u0026quot;, 100), Content(2, \u0026quot;é’ãƒšãƒ³\u0026quot;, 200), Content(3, \u0026quot;é»„ãƒšãƒ³\u0026quot;, 300), ) } } Interfaceã‚’ã‹ã¾ã—ã¦ã„ã‚‹ã®ã¯ä¾å­˜ã®æ–¹å‘ã‚’é€†è»¢ã•ã›ã‚‹ãŸã‚ã§ã™ã€‚\nã“ã®è¾ºã¯ä¸‹è¨˜ã®è¨˜äº‹ã§è©³ç´°ã‚’èª¬æ˜ã—ã¦ã„ã¾ã™ã®ã§ã€èˆˆå‘³ãŒã‚ã‚Œã°ã”å‚ç…§ãã ã•ã„ã€‚\nã€ã€Go \u0026#43; ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ã€‘DDDã‚’æ„è­˜ã—ã¦Web APIã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹ã€ æ‰‹æŠœãDIã—ã¦æº–å‚™å®Œäº†ã§ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/plugins/Routing.kt fun Application.configureRouting() { routing { get(\u0026quot;/\u0026quot;) { val contentRepository = ContentRepositoryImpl() val listContentUseCase = ListContentUseCase(contentRepository) val contentController = ContentController( listContentUseCase = listContentUseCase ) val contents: ContentsView = contentController.list() call.respond(FreeMarkerContent(\u0026quot;contents.ftl\u0026quot;, mapOf(\u0026quot;contents\u0026quot; to contents.values))) } } } ç”»é¢ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nã“ã‚Œã¾ã§ã¨åŒæ§˜ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã§ãã¦ã„ã¾ã™ã€‚\nInfrastructureå±¤ã‚’æœ¬å®Ÿè£… ãŠå¾…ãŸã›ã—ã¾ã—ãŸã€‚\nStripeã‹ã‚‰å•†å“æƒ…å ±ã‚’å–å¾—ã—ã¦ã„ãã¾ã™ã€‚\nå‚è€ƒã‚³ãƒŸãƒƒãƒˆ ã¾ãšã¯Stripe APIã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å®Ÿè£…ã—ã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/infrastructure/api/StripeClient.kt @Serializable data class ListProductsResponse( val url: String, @SerialName(\u0026quot;object\u0026quot;) val obj: String, @SerialName(\u0026quot;has_more\u0026quot;) val hasMore: Boolean, val data: List\u0026lt;ContentDTO\u0026gt;, ) @Serializable data class ContentDTO( val id: String, @SerialName(\u0026quot;object\u0026quot;) val datumObject: String, val name: String, val url: String? = null, val active: Boolean, val attributes: List\u0026lt;String?\u0026gt;, @SerialName(\u0026quot;default_price\u0026quot;) val defaultPrice: String, val description: String? = null, val images: List\u0026lt;String\u0026gt;, val livemode: Boolean, val metadata: Map\u0026lt;String, String\u0026gt;, @SerialName(\u0026quot;package_dimensions\u0026quot;) val packageDimensions: String? = null, val shippable: Boolean? = null, @SerialName(\u0026quot;statement_descriptor\u0026quot;) val statementDescriptor: String? = null, @SerialName(\u0026quot;tax_code\u0026quot;) val taxCode: String? = null, val type: String, @SerialName(\u0026quot;unit_label\u0026quot;) val unitLabel: String? = null, val created: Long, val updated: Long, ) @Serializable data class ListPricesResponse( val url: String, @SerialName(\u0026quot;object\u0026quot;) val obj: String, @SerialName(\u0026quot;has_more\u0026quot;) val hasMore: Boolean, val data: List\u0026lt;PriceDTO\u0026gt;, ) @Serializable data class PriceDTO( @SerialName(\u0026quot;product\u0026quot;) val productId: String, @SerialName(\u0026quot;unit_amount\u0026quot;) val unitAmount: Int, val active: Boolean, ) class StripeClient { private val client = OkHttpClient() private val baseRequest = Request.Builder() .addHeader(\u0026quot;Authorization\u0026quot;, \u0026quot;Bearer ${System.getenv(\u0026quot;STRIPE_SECRET_KEY\u0026quot;)}\u0026quot;) .addHeader(\u0026quot;ContentType\u0026quot;, \u0026quot;application/x-www-form-urlencoded\u0026quot;) private val jsonDecoder = Json { ignoreUnknownKeys = true } private fun baseUrl(): HttpUrl.Builder { return HttpUrl.Builder().scheme(\u0026quot;https\u0026quot;).host(\u0026quot;api.stripe.com\u0026quot;).addPathSegment(\u0026quot;v1\u0026quot;) } fun listAllProducts(): List\u0026lt;Content\u0026gt; { val listProductsRequest = baseRequest.url(baseUrl().addPathSegment(\u0026quot;products\u0026quot;).build()).get().build() val listProductsResponseBody = client.newCall(listProductsRequest).execute().body val contents = jsonDecoder .decodeFromString\u0026lt;ListProductsResponse\u0026gt;(listProductsResponseBody!!.string()) .data val productIds = contents.map { it.id } val priceMap = listActivePriceMapByProductIDs(productIds) return contents.map { Content(id = it.id, name = it.name, price = priceMap[it.id]!!) } } private fun listActivePriceMapByProductIDs(productIds: List\u0026lt;String\u0026gt;): Map\u0026lt;String, Int\u0026gt; { var productQuery = \u0026quot;\u0026quot; productIds.forEachIndexed { i, id -\u0026gt; productQuery += \u0026quot;product:'${id}'\u0026quot; if (i \u0026lt; productIds.size - 1) { productQuery += \u0026quot; OR \u0026quot; } } val listPricesRequest = baseRequest .url( baseUrl() .addPathSegment(\u0026quot;prices\u0026quot;) .addPathSegment(\u0026quot;search\u0026quot;) .addEncodedQueryParameter(\u0026quot;query\u0026quot;, productQuery) .build() ) .get() .build() val listPricesResponseBody = client.newCall(listPricesRequest).execute().body val prices = jsonDecoder.decodeFromString\u0026lt;ListPricesResponse\u0026gt;(listPricesResponseBody!!.string()).data val priceMap: MutableMap\u0026lt;String, Int\u0026gt; = mutableMapOf() prices.forEach { price -\u0026gt; if (price.active) { priceMap[price.productId] = price.unitAmount } } return priceMap } } å…¨å•†å“æƒ…å ±ã‚’å–å¾—ã™ã‚‹listAllProductsã¨ æŒ‡å®šå•†å“ã«ç´ã¥ãä¾¡æ ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹listActivePriceMapByProductIDsã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚\næ³¨æ„ç‚¹ã¨ã—ã¦ã€Stripeã«ãŠã‘ã‚‹å•†å“æƒ…å ±ã¨ä¾¡æ ¼æƒ…å ±ã¯1:Nã®é–¢ä¿‚ã§ã™ã€‚\nã—ã‹ã—ã€ä»Šå›ã¯æœ‰åŠ¹ãªä¾¡æ ¼æƒ…å ±ãŒ1ã¤ã—ã‹ãªã„ã¨ã„ã†å‰æã®ã‚‚ã¨ã«å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚\nAPIãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ã¯okhttp3ã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚\nokhttp3ã¯æœ‰åãªHTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã®ã§çŸ¥ã£ã¦ã„ã‚‹æ–¹ã‚‚å¤šã„ã§ã—ã‚‡ã†ã€‚\nAuthorizationãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã¯ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ ï¼ˆç’°å¢ƒå¤‰æ•°è¨­å®šæ–¹æ³•ã¯å¾Œã»ã©ï¼‰\nStripeã‹ã‚‰å—ã‘å–ã£ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆJSONï¼‰ã¯ Kotlin Serialization ã‚’ä½¿ã£ã¦data classã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚\nã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºå¯¾è±¡ã®data classã«ã¯Serializableã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ä¸ã—ã¾ã™ã€‚\nãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã¨ã‚­ãƒ¼åãŒä¸€è‡´ã—ãªã„ï¼ˆæ©Ÿæ¢°çš„ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã§ããªã„ï¼‰å ´åˆã¯ã€ SerialNameã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ãƒãƒƒãƒ”ãƒ³ã‚°æ–¹æ³•ã‚’æŒ‡å®šã—ã¾ã™ã€‚\nã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ã‚’ç¶šã‘ã¾ã™ã€‚\nokhttp3ãŠã‚ˆã³Kotlin Serializationã‚’ä½¿ã†ãŸã‚ã«build.gradle.ktsã‚’å¤‰æ›´ã—ã¾ã™ã€‚\n// ktor-shop/build.gradle.kts plugins { application kotlin(\u0026quot;jvm\u0026quot;) version \u0026quot;1.7.21\u0026quot; kotlin(\u0026quot;plugin.serialization\u0026quot;) version \u0026quot;1.7.21\u0026quot; id(\u0026quot;io.ktor.plugin\u0026quot;) version \u0026quot;2.1.3\u0026quot; } \u0026lt;çœç•¥\u0026gt; dependencies { implementation(\u0026quot;io.ktor:ktor-server-core-jvm:$ktor_version\u0026quot;) implementation(\u0026quot;io.ktor:ktor-server-freemarker-jvm:$ktor_version\u0026quot;) implementation(\u0026quot;io.ktor:ktor-server-netty-jvm:$ktor_version\u0026quot;) implementation(\u0026quot;ch.qos.logback:logback-classic:$logback_version\u0026quot;) implementation(\u0026quot;com.squareup.okhttp3:okhttp:4.10.0\u0026quot;) implementation(\u0026quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.4.1\u0026quot;) testImplementation(\u0026quot;io.ktor:ktor-server-tests-jvm:$ktor_version\u0026quot;) testImplementation(\u0026quot;org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\u0026quot;) } Infrastructureå±¤ã®å‡¦ç†ã‚‚å¤‰æ›´ã—ã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/infrastructure/dao/ContentRepositoryImpl.kt class ContentRepositoryImpl( private val stripeClient: StripeClient, ) : ContentRepository { override fun listAll(): List\u0026lt;Content\u0026gt; { val contents = stripeClient.listAllProducts() return contents.map { Content( id = it.id, name = it.name, price = it.price, ) } } } Stripe APIçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nDIå‘¨ã‚Šã‚‚å¤‰æ›´ã§ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/plugins/Routing.kt fun Application.configureRouting() { routing { get(\u0026quot;/\u0026quot;) { val stripeClient = StripeClient() val contentRepository = ContentRepositoryImpl(stripeClient) val listContentUseCase = ListContentUseCase(contentRepository) val contentController = ContentController(listContentUseCase = listContentUseCase) val contents: ContentsView = contentController.list() call.respond(FreeMarkerContent(\u0026quot;contents.ftl\u0026quot;, mapOf(\u0026quot;contents\u0026quot; to contents.values))) } } } Contentã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä¸€éƒ¨å‹å®šç¾©ã‚’é–“é•ã£ã¦ã„ãŸã®ã§ä¿®æ­£ã—ã¾ã™ğŸ™\n// ktor-shop/src/main/kotlin/com/example/domain/entity/Content.kt class Content( val id: String, val name: String, val price: Int, ) ä»¥ä¸Šã§ä¿®æ­£ã¯å®Œäº†ã§ã™ã€‚\nå®Ÿéš›ã«å‹•ã‹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nå®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ãŒå°‘ã—å¤‰ã‚ã‚Šã¾ã™ã€‚\n$ STRIPE_SECRET_KEY=xxx ./gradlew run ï¼ˆ./gradlew -t buildã¯ãã®ã¾ã¾å®Ÿè¡Œã—ãŸã¾ã¾ï¼‰\nã•ãã»ã©èª¬æ˜ã‚’å¾Œå›ã—ã«ã—ã¾ã—ãŸãŒã€ Stripe APIã«æ¸¡ã™Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ï¼ˆSTRIPE_SECRET_KEYï¼‰ã¯ã“ã“ã§è¨­å®šã—ã¦ã„ã¾ã™ã€‚\nè¨­å®šã™ã‚‹å€¤ã¯ã€APIã‚­ãƒ¼ç”»é¢ã€ ã« è¨˜è¼‰ãŒã‚ã‚‹ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã®å€¤ã§ã™ã€‚\nã§ã¯ã€ç”»é¢ã‚’ç¢ºèªã—ã¾ã™ã€‚\nè¡¨ç¤ºå†…å®¹ãŒStripeã§ç™»éŒ²ã—ãŸå•†å“æƒ…å ±ã«å¤‰ã‚ã‚Šã¾ã—ãŸã€‚\nä»¥ä¸Šã§å½“åˆã®ç›®çš„ã§ã‚ã£ãŸ Stripeã‹ã‚‰ã®å•†å“æƒ…å ±å–å¾—â†’è¡¨ç¤ºã¾ã§ã‚’å®Ÿè£…ã§ãã¾ã—ãŸã€‚\nã›ã£ã‹ããªã®ã§DIã‚’ãã¡ã‚“ã¨ã‚„ã£ã¦ãŠãã¾ã™ã€‚\nDI ä»Šå›ã¯Koin ã‚’ä½¿ã„ã¾ã™ã€‚\nå‚è€ƒã‚³ãƒŸãƒƒãƒˆ dependenciesã«Koinã‚’è¿½åŠ ã—ã¾ã™ã€‚\n// ktor-shop/build.gradle.kts dependencies { implementation(\u0026quot;io.ktor:ktor-server-core-jvm:$ktor_version\u0026quot;) implementation(\u0026quot;io.ktor:ktor-server-freemarker-jvm:$ktor_version\u0026quot;) implementation(\u0026quot;io.ktor:ktor-server-netty-jvm:$ktor_version\u0026quot;) implementation(\u0026quot;ch.qos.logback:logback-classic:$logback_version\u0026quot;) implementation(\u0026quot;com.squareup.okhttp3:okhttp:4.10.0\u0026quot;) implementation(\u0026quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.4.1\u0026quot;) implementation(\u0026quot;io.insert-koin:koin-ktor:3.2.2\u0026quot;) implementation(\u0026quot;io.insert-koin:koin-logger-slf4j:3.2.2\u0026quot;) testImplementation(\u0026quot;io.ktor:ktor-server-tests-jvm:$ktor_version\u0026quot;) testImplementation(\u0026quot;org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\u0026quot;) } Koinã«ã‚ˆã‚‹ä¾å­˜è§£æ±ºæ–¹æ³•ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/plugins/Koin.kt fun Application.configureKoin() { install(Koin) { modules(appModule) } } val appModule = module { single { StripeClient() } single { ContentRepositoryImpl(get()) as ContentRepository } single { ListContentUseCase(get()) } single { ContentController(get()) } } single { Xxx() }ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\nãªãŠsingle { ContentRepositoryImpl(get()) as ContentRepository }ã ã‘å°‘ã—è¨˜è¿°ãŒé•ã„ã¾ã™ã€‚\nã“ã‚Œã¯ContentRepositoryï¼ˆInterfaceï¼‰ã®å®Ÿä½“ã¨ã—ã¦ContentRepositoryImplã‚’æŒ‡å®šã—ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚\nä½œæˆã—ãŸApplication.configureKoin()ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/Application.kt fun main(args: Array\u0026lt;String\u0026gt;): Unit = EngineMain.main(args) fun Application.module() { configureKoin() configureTemplating() configureRouting() } æ‰‹å‹•ã§DIã—ã¦ã„ãŸç®‡æ‰€ã‚’Koinã‚’ä½¿ã£ãŸDIã«ç½®ãæ›ãˆã¾ã™ã€‚\n// ktor-shop/src/main/kotlin/com/example/plugins/Routing.kt fun Application.configureRouting() { val contentController by inject\u0026lt;ContentController\u0026gt;() routing { get(\u0026quot;/\u0026quot;) { val contents: ContentsView = contentController.list() call.respond(FreeMarkerContent(\u0026quot;contents.ftl\u0026quot;, mapOf(\u0026quot;contents\u0026quot; to contents.values))) } } } val contentController by inject\u0026lt;ContentController\u0026gt;()ã§ä¾å­˜ã‚’æ³¨å…¥ï¼ˆinjectï¼‰ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ContentControllerã‚’ä½¿ãˆã‚Œã°OKãªã®ã§ContentControllerã ã‘ã‚’æ³¨å…¥ã—ã¾ã™ã€‚\næ³¨å…¥å¾Œã¯contentControllerå¤‰æ•°ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€\nä¿®æ­£å‰ã¨åŒæ§˜ã«contentController.list()ã¨ã™ã‚Œã°ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚\nä»¥ä¸Šã§Koinã®å°å…¥ãŒå®Œäº†ã—ã¾ã—ãŸã€‚\nç”»é¢ã‚’ç¢ºèªã—ã¾ã™ã€‚\nå¤‰ã‚ã‚‰ãšå‹•ä½œã—ã¾ã™ã­ã€‚\nTODO ã€œã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€œ æœ¬å®Ÿè£…ã§ã¯ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å…¨ãã—ã¦ã„ã¾ã›ã‚“ã€‚\nå®Ÿéš›ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã—ã£ã‹ã‚Šã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã¦ã‚„ã‚Šã€ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å‘¨ã‚Šã¯ã¾ãŸåˆ¥ã§è¨˜äº‹ã«ã—ãŸã„ã¨è€ƒãˆã¦ã„ã‚‹ã®ã§å…¬é–‹ã¾ã§ãŠå¾…ã¡ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚\nï¼ˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ–¹æ³•ãŒå…¨ãç•°ãªã‚‹Goã¨æ¯”è¼ƒã—ãŸè¨˜äº‹ã«ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ï¼‰\nã¾ã¨ã‚ ä»Šå›ã¯Kotlin + Ktorã§ï¼ˆã¨ã¦ã‚‚ç°¡æ˜“çš„ãªï¼‰ECã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nå•†å“æƒ…å ±ã¯Stripeã§ç®¡ç†ã—ã€APIçµŒç”±ã§æƒ…å ±ã‚’å–å¾—ã—è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚\næœ¬è¨˜äº‹ã®å†…å®¹ã‚’ç†è§£ã™ã‚Œã°ã€å¤–éƒ¨APIã‚’ä½¿ç”¨ã—ãŸã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæ´ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nç§ãŒKotlinåˆå¿ƒè€…ãªã®ã§ã‚ˆã‚ŠKotlinã‚‰ã—ã„æ›¸ãæ–¹ãŒã§ãã‚‹éƒ¨åˆ†ã‚‚å¤šã€…ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€\nã–ã£ãã‚Šã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ´ã‚“ã§ã„ãŸã ã‘ãŸãªã‚‰å¹¸ã„ã§ã™ã€‚\næ˜æ—¥ä»¥é™ã®ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’æ¥½ã—ã¿ã«ã—ãªãŒã‚‰ã€ä»Šå›ã¯ã“ã“ã§çµ‚ã‚ã‚ŠãŸã„ã¨æ€ã„ã¾ã™ã€‚\næœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\n","ref":"/blog/kotlin-ktor-stripe-tutorial/"},{"title":"è¤‡æ•°ã®docker-compose.ymlã‚’ä½¿ã£ã¦ã€è¨­å®šã®è¿½åŠ ã‚„ä¸Šæ›¸ãã‚’ã‚„ã£ã¦ã¿ã‚‹","date":"","description":"çŸ¥è­˜ã¨ã—ã¦çŸ¥ã£ã¦ã„ã‚‹ã ã‘ã§å®Ÿéš›ã«ä½¿ã£ãŸã“ã¨ã¯ãªã„â†","body":"è¦ç´„ Docker Composeã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯è¤‡æ•°æŒ‡å®šã§ãã¦ã€è¨­å®šã®è¿½åŠ ã‚„ä¸Šæ›¸ããŒã§ãã‚‹ã€‚\næ—©é€Ÿè©³ç´°ã«è¦‹ã¦ã„ãã¾ã—ã‚‡ã†â†“\ndocker-compose.ymlã¯è¤‡æ•°æŒ‡å®šå¯èƒ½ docker compose upå®Ÿè¡Œæ™‚ã«-fã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ã§ã€ å‚ç…§ã™ã‚‹docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’æŒ‡å®šã§ãã‚‹ã“ã¨ã¯ã€ã”å­˜çŸ¥ã®æ–¹ã‚‚å¤šã„ã¨æ€ã„ã¾ã™ã€‚\nã—ã‹ã—ã€è¤‡æ•°ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã§ãã‚‹ã“ã¨ã¯ã‚ã¾ã‚ŠçŸ¥ã‚‰ã‚Œã¦ã„ãªã„ã¨æ€ã„ã¾ã™ï¼ˆå‹æ‰‹ãªæ±ºã‚ã¤ã‘ï¼‰ã€‚\nDocker-docs-ja ã§ã¯ã€ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã§èª¬æ˜ãŒã•ã‚Œã¦ã„ã¾ã™ã€‚\nã€ãƒ•ã‚¡ã‚¤ãƒ«é–“ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–“ã§ã® Compose è¨­å®šã®å…±æœ‰ ã€ å®Ÿéš›ã®å‹•ãã‚’è¦‹ã¦ã¿ã‚‹ ä»¥ä¸‹ã®ã‚ˆã†ãªdocker-compose.ymlã‚’ç”¨æ„ã—ã¾ã™ã€‚\ndocker-compose.yml\nversion: '3' services: web: image: \u0026quot;nginx:latest\u0026quot; docker compose -f docker-compose.yml upã§ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ãŸå¾Œã«ã€ ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã„ã¦http://localhost/ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚\nWebã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nãƒãƒ¼ãƒˆã‚’å…¬é–‹ã—ã¦ã„ãªã„ã®ã§å½“ç„¶ã®çµæœã§ã™ã­ã€‚\næ¬¡ã«ã€ä»¥ä¸‹ã®ã‚ˆã†ãªdocker-compose.override.ymlã‚’ç”¨æ„ã—ã¾ã™ã€‚\ndocker-compose.override.yml\nversion: '3' services: web: ports: - \u0026quot;80:80\u0026quot; ãã—ã¦ã€ä»Šåº¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¦ã€è¤‡æ•°ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚\ndocker compose -f docker-compose.yml -f docker-compose.override.yml up\nã§ã¯ã€http://localhost/ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚\nä»Šåº¦ã¯ç„¡äº‹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã—ãŸã€‚\nãƒãƒ¼ãƒˆå…¬é–‹ãŒã†ã¾ãã§ãã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\nä¸Šè¨˜ã®æŒ™å‹•ã‚’è¦‹ã‚‹ã“ã¨ã§ã€docker-compose.ymlã§ä½¿ç”¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã®æŒ‡å®šãŒã§ãã¦ãŠã‚Šã€ãªãŠã‹ã¤ã€ docker-compose.override.ymlã§ãƒãƒ¼ãƒˆå…¬é–‹ã®è¨­å®šãŒã§ãã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚\nã™ãªã‚ã¡ã€Docker Composeã¯è¿½åŠ ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€è¨­å®šã‚’è¿½åŠ ã§ãã¾ã™ã€‚\nãªãŠã€ä»Šå›ã¯ã‚µãƒ³ãƒ—ãƒ«ã‚’çœãã¾ã—ãŸãŒã€è¿½åŠ ã ã‘ã§ã¯ãªãã€ä¸Šæ›¸ãã‚‚å¯èƒ½ã§ã™ã€‚\nï¼ˆå¾Œã»ã©å‡ºã¦ãã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’è¦‹ã‚Œã°ã€ä¸Šæ›¸ãã®æŒ™å‹•ã‚‚åˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ï¼‰\né‡è¤‡ã—ãŸè¨­å®šé …ç›®ãŒã‚ã‚‹å ´åˆã¯ã©ã¡ã‚‰ãŒå„ªå…ˆã•ã‚Œã‚‹ï¼Ÿ å‰ç« ã®æœ€å¾Œã«ã€ã€Œè¿½åŠ ã ã‘ã§ã¯ãªãã€ä¸Šæ›¸ãã‚‚å¯èƒ½ã§ã™ã€ã¨æ›¸ãã¾ã—ãŸã€‚\næœ¬ç« ã§ã¯ã€è¤‡æ•°ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ãŸã•ã„ã«ã€ ä¾‹ãˆã°ã€åŒã˜ç’°å¢ƒå¤‰æ•°åã«å¯¾ã—ã¦ç•°ãªã‚‹å€¤ã‚’è¨­å®šã—ã¦ã„ãŸå ´åˆã©ã¡ã‚‰ã®è¨­å®šãŒå„ªå…ˆã•ã‚Œã‚‹ã®ã‹ã‚’è§£èª¬ã—ã¾ã™ã€‚\nã¯ã˜ã‚ã«ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚“ã§ã¿ã¾ã™ã€‚\nã€è¨­å®šã®è¿½åŠ ã¨ä¸Šæ›¸ãã€ ã®ç« ã«ã€\nè¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒå…ƒã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸¡æ–¹ã«ã¦å®šç¾©ã•ã‚Œã¦ã„ãŸå ´åˆã¯ã€ å…ƒã®ã‚µãƒ¼ãƒ“ã‚¹ã®å€¤ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®å€¤ã«ã‚ˆã£ã¦ç½®ãæ›ãˆã‚‰ã‚Œã‚‹ã‹ã€ã‚ã‚‹ã„ã¯æ‹¡å¼µã•ã‚Œã¾ã™ã€‚\nã¨ã‚ã‚Šã¾ã™ãŒã€å…ƒã®ã‚µãƒ¼ãƒ“ã‚¹ã£ã¦ã©ã£ã¡ï¼Ÿã¨ãªã‚Šã¾ã™ã€‚\nãªã®ã§ã€å®Ÿéš›ã«å‹•ä½œã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\nä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ã€‚\nmain.go\npackage main import ( \u0026quot;fmt\u0026quot; \u0026quot;os\u0026quot; ) func main() { fmt.Println(os.Getenv(\u0026quot;ENV\u0026quot;)) } docker-compose.yml\nversion: '3' services: app: image: \u0026quot;golang:latest\u0026quot; working_dir: /app volumes: - .:/app environment: - ENV=local command: \u0026quot;go run /app/main.go\u0026quot; docker-compose.override.yml\nversion: '3' services: app: environment: - ENV=prod docker compose upã™ã‚‹ã¨Goã®ã‚³ãƒ¼ãƒ‰ãŒå‹•ã„ã¦ã€ç’°å¢ƒå¤‰æ•°ENVã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã¾ãšã¯ã€docker compose -f docker-compose.yml -f docker-compose.override.yml upã—ã¦ã¿ã¾ã™ã€‚\nçµæœã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n[+] Running 1/1 â ¿ Container test-app-1 Recreated 0.1s Attaching to test-app-1 test-app-1 | prod test-app-1 exited with code 0 4è¡Œç›®ã§prodã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã­ã€‚\nã“ã‚Œã¯docker-compose.override.ymlã§è¨­å®šã—ãŸå†…å®¹ã§ã™ã€‚\nã‚ˆã£ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¨€è‘‰ã«å½“ã¦ã¯ã‚ã‚‹ã¨ã€\nå…ƒã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ = docker-compose.ymlã§å®šç¾©ã—ãŸã‚µãƒ¼ãƒ“ã‚¹\nãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚µãƒ¼ãƒ“ã‚¹ = docker-compose.override.ymlã§å®šç¾©ã—ãŸã‚µãƒ¼ãƒ“ã‚¹\nã¨ãªã‚‹ã®ã§ã€docker-compose.ymlã®å†…å®¹ãŒdocker-compose.override.ymlã®å†…å®¹ã§ä¸Šæ›¸ãã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã§ã¯ã€æ¬¡ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®šé †ã‚’é€†ã«ã—ã¦ã¿ã¾ã™ã€‚\ndocker compose -f docker-compose.override.yml -f docker-compose.yml up\nçµæœã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n[+] Running 1/1 â ¿ Container test-app-1 Recreated 0.1s Attaching to test-app-1 test-app-1 | local test-app-1 exited with code 0 localã¨è¡¨ç¤ºã•ã‚Œã¾ã—ãŸã€‚\ndocker-compose.override.ymlã®å†…å®¹ãŒdocker-compose.ymlã®å†…å®¹ã§ä¸Šæ›¸ãã•ã‚ŒãŸã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚\nä»¥ä¸Šã€2ã¤ã®æ¤œè¨¼ã‹ã‚‰åˆ†ã‹ã£ãŸã“ã¨ã‚’ã¾ã¨ã‚ã‚‹ã¨ã€ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nå…ƒã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ã®å€¤ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚µãƒ¼ãƒ“ã‚¹ã®å€¤ã«ã‚ˆã£ã¦ä¸Šæ›¸ãã•ã‚Œã‚‹ å…ƒã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ = å…ˆã«æŒ‡å®šã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚µãƒ¼ãƒ“ã‚¹ = å¾Œã‹ã‚‰æŒ‡å®šã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ æœ¬æ©Ÿèƒ½ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«é–¢ã—ã¦ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è©³ã—ãè¨˜è¼‰ãŒã‚ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚’ã”è¦§ãã ã•ã„ã€‚\nã€åˆ©ç”¨ä¾‹ã€ ã®é …ã§ã™ã€‚\nã¡ãªã¿ã«ä»Šå›ã®æ©Ÿèƒ½ã«é–¢ã—ã¦ã€ç¾çŠ¶ã€åƒ•ã¯docker-composeã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ã—ã‹ä½¿ã£ã¦ã„ãªã„ã®ã«åŠ ãˆã¦ã€ OSã«ã‚ˆã‚‹å·®åˆ†ã§å›°ã‚‹ã¨ã„ã£ãŸã“ã¨ã‚‚ãªã‹ã£ãŸã®ã§ä½¿ã£ãŸã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã¾ã¨ã‚ Docker Composeã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯è¤‡æ•°æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€è¨­å®šã®è¿½åŠ ã‚„ä¸Šæ›¸ããŒå¯èƒ½ã§ã™ã€‚\né‡è¤‡ã—ã¦ã„ã‚‹è¨­å®šå†…å®¹ã«ã¤ã„ã¦ã¯ã€å…ˆã«æŒ‡å®šã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒå¾Œã«æŒ‡å®šã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã§ä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚\n","ref":"/blog/docker-compose-override/"},{"title":"ã€2021å¹´ã€‘ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã¾ã¨ã‚","date":"","description":"ä»Šå¹´ã‚‚ã„ã‚ã„ã‚ã¨å‹‰å¼·ä¼šå‚åŠ ã—ãŸãªã","body":"ä»Šå¹´ã‚‚â€¦ æ˜¨å¹´ã«å¼•ãç¶šã ã€ ä»Šå¹´ã‚‚LAPRAS ã§1å¹´é–“ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’å‡ºã—ã¦ã¿ã¾ã—ãŸã€‚\nã‚³ãƒ­ãƒŠç¦çœŸã£åªä¸­ã§ã‚‚ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ãŸãã•ã‚“ã®å‹‰å¼·ä¼šã«å‚åŠ ã§ãã¾ã—ãŸã€‚\nä»Šå¹´ã¯è‰¯ã„å‡ºä¼šã„ãŒç‰¹ã«å¤šãã€é‹å–¶å´ã¨ã—ã¦é–¢ã‚ã£ãŸã‚‚ã®ã‚‚å¢—ãˆã¾ã—ãŸã€‚\næ¥å¹´ã‚‚ã•ã‚‰ã«è‰¯ã„å¹´ã«ãªã‚‹ã‚ˆã†ã«ã€å¤šæ–¹é¢ã§é ‘å¼µã£ã¦ã„ãã¾ã™ï¼\nã§ã¯ã€æœ¬é¡Œã®2021å¹´ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã§ã™â†“\n2021å¹´ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ 2021å¹´ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¨å‚åŠ ã‚¤ãƒ™ãƒ³ãƒˆã‚’æŒ¯ã‚Šè¿”ã‚‹ã¨\nã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ãŸã‚‚ã®ã‚„å‚åŠ ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆãªã©ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚\nconnpass 2021/12/08 ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹é§†å‹•é–‹ç™ºã‚’ã‚„ã£ã¦ã¿ãŸ 2021/12/01 Go Language Specification è¼ªèª­ä¼š #32 2021/11/25 merpay Tech Talk ã€œ æ±ºæ¸ˆåŸºç›¤ã®æœªæ¥ã€œ 2021/11/17 Go Language Specification è¼ªèª­ä¼š #31 2021/11/03 Go 1.18\u0026#43; è¨€èªä»•æ§˜å‹‰å¼·ä¼š #3 ã€Genericsã€‘ 2021/10/30 ãƒ©ã‚¤ãƒ–ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã¨ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§ç†è§£ã™ã‚‹DDD (DDDå‹‰å¼·ä¼š2021#1) 2021/10/21 mercari.go #17 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ 2021/10/20 Go Language Specification è¼ªèª­ä¼š #30 2021/10/06 Go Language Specification è¼ªèª­ä¼š #29 2021/09/22 Go 1.18\u0026#43; è¨€èªä»•æ§˜å‹‰å¼·ä¼š #2 ã€Genericsã€‘ 2021/09/11 DDDè³ªå•ç®±ã®ã¤ã¾ã¿å–°ã„ - 1è»’ç›® 2021/09/08 Go Language Specification è¼ªèª­ä¼š #28 2021/09/07 ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã®å­¦ã³æ–¹ï¼šåº§è«‡ä¼š 2021/09/01 LAPRASå…¬é–‹è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ ã€Œt_wadaã•ã‚“ã«ã“ã®ãƒ†ã‚¹ãƒˆã§ã‚µãƒãƒ³ãƒŠã‚’ç”ŸãæŠœã‘ã‚‹ã‹èã„ã¦ã¿ãŸã€ 2021/08/25 Go Language Specification è¼ªèª­ä¼š #27 2021/08/22 Kyoto.go remote #23 golang/go ã® Issues ã‚’èª­ã¿æ¼ã‚‹ä¼š 2021/08/11 GeekGig #1 ã€œGoã¨ç§ã®ä¸€å¹´ã€œ 2021/08/01 Type Sets Proposal å‹‰å¼·ä¼š 2021/07/31 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬17ç«  æˆ¦ç•¥ã‚’ã¾ã¨ã‚ä¸Šã’ã‚‹\u0026amp;amp;ã‚¨ãƒ”ãƒ­ãƒ¼ã‚°ã€ 2021/07/26 Merpay Tech Fest 2021 2021/07/21 Go Language Specification è¼ªèª­ä¼š #26 2021/07/20 DMM.go #3 2021/07/19 mercari.go #16 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ 2021/07/17 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬16ç«  å¤§è¦æ¨¡ãªæ§‹é€ ã€å¾ŒåŠ 2021/07/14 Go Language Specification è¼ªèª­ä¼š #25 2021/07/06 å‰ç¥¥å¯º.pm27ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€‘ 2021/07/03 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬16ç«  å¤§è¦æ¨¡ãªæ§‹é€ ã€å‰ç·¨ 2021/06/25 Future Tech Night #12ï½Goã§å§‹ã‚ã‚‹ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã¨ã„ã†é¸æŠè‚¢ï½ 2021/06/24 Kubernetes Meetup Tokyo #42 2021/06/23 Go Language Specification è¼ªèª­ä¼š #24 2021/06/22 ã€å‡ºç‰ˆè¨˜å¿µã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã€‘ç”Ÿç”£æ€§ã‚’æœ€å¤§åŒ–ã™ã‚‹ï¼ã€ãƒãƒ¼ãƒ ã§è‚²ã¦ã‚‹Androidã‚¢ãƒ—ãƒªè¨­è¨ˆã€ 2021/06/20 Kyoto.go remote #21 Discord ã‚‚ãã‚‚ãä¼š 2021/06/19 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬15ç«  è’¸ç•™ã€å¾Œç·¨ 2021/06/16 iOS Tech Talk ã€œ Multi module æˆ¦ç•¥åº§è«‡ä¼š ã€œ 2021/06/11 Infra Study 2nd #2ã€Œã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚’æ”¯ãˆã‚‹ã‚¤ãƒ³ãƒ•ãƒ©æŠ€è¡“ã€ 2021/06/10 Fukuoka.go#17 (ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬) 2021/06/09 å…¬é–‹è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ŒLAPRASã®DBè¨­è¨ˆã«ã¤ã„ã¦ããƒ¼ã ã„ã•ã‚“ã«ç›¸è«‡ã—ã¦ã¿ãŸã€ 2021/06/09 Go Language Specification è¼ªèª­ä¼š #23 2021/06/08 ã€ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆå…¥é–€ã€Ã—ã€äº‹æ¥­ã‚’ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã™ã‚‹æŠ€è¡“è€…ãŸã¡ã€ãƒ‘ãƒãƒ«ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ 2021/06/05 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬15ç«  è’¸ç•™ã€å‰ç·¨ 2021/05/30 Kyoto.go remote #20 Discord LTä¼š 2021/05/28 The Global Dev Study #2 - JAMstack 2021/05/26 Chatwork Dev Day 2021 2021/05/26 Go Language Specification è¼ªèª­ä¼š #22 2021/05/25 ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ Reduxã€ï½ FPUI ç ”ç©¶ãƒ©ã‚¸ã‚ª #3 2021/05/22 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬14ç«  ãƒ¢ãƒ‡ãƒ«ã®æ•´åˆæ€§ã‚’ç¶­æŒã™ã‚‹ã€å¾Œç·¨ 2021/05/21 Future Tech Night #10 ï½é€²åŒ–ã™ã‚‹Javaã€‚æ¨™æº–API/Tomcatç·¨ï½ 2021/05/20 è£½é€ ç¾å ´ã‚’å¤‰ãˆã‚ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒæŒ‘ã‚€çˆ†é€ŸDX 2021/05/17 GaaS Study #1 ãƒ¼å¹³äº•å¤§è‡£ã«èãã€ãƒ‡ã‚¸ã‚¿ãƒ«åºãŒè§£ãã¹ãèª²é¡Œã¨ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®å½¹å‰² 2021/05/12 Go Language Specification è¼ªèª­ä¼š #21 2021/05/08 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬14ç«  ãƒ¢ãƒ‡ãƒ«ã®æ•´åˆæ€§ã‚’ç¶­æŒã™ã‚‹ã€ä¸­ç·¨ 2021/04/25 Kyoto.go remote #19 GoConæ„Ÿæƒ³æˆ¦ 2021/04/24 Go Conference 2021 Spring (Online) 2021/04/24 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬14ç«  ãƒ¢ãƒ‡ãƒ«ã®æ•´åˆæ€§ã‚’ç¶­æŒã™ã‚‹ã€å‰ç·¨ 2021/04/22 Go Conference 2021 Spring Online å‰å¤œç¥­ 2021/04/21 Go Language Specification è¼ªèª­ä¼š #20 2021/04/20 å‰ç¥¥å¯º.pm26ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€‘ 2021/04/15 å…¥é–€Goè¨€èªä»•æ§˜è¼ªèª­ä¼š ç¬¬3å›ï¼ˆåˆå¿ƒè€…ã§ã‚‚ä¸å¯§ã«ã‚µãƒãƒ¼ãƒˆï¼‰ 2021/04/07 Mercari Platform Group Tech Talk #1 (Day2) 2021/04/07 Go Language Specification è¼ªèª­ä¼š #19 2021/04/03 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬12ã€13ç« ã€ 2021/03/31 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª æœ€çµ‚å› 2021/03/26 ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ DDD ã‚’è€ƒãˆã‚‹ã€ï½ FPUI ç ”ç©¶ãƒ©ã‚¸ã‚ª #2 2021/03/25 Kubernetes Meetup Tokyo #40 2021/03/24 Go Language Specification è¼ªèª­ä¼š #18 2021/03/21 Kyoto.go remote #18 Discord LTä¼š 2021/03/20 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬11ç«  ã‚¢ãƒŠãƒªã‚·ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é©ç”¨ã™ã‚‹ã€ 2021/03/19 Future Tech Night #7 ã€œãƒ•ãƒ¥ãƒ¼ãƒãƒ£ãƒ¼ã®é–‹ç™ºäº‹ä¾‹ã¨å…±ã«å­¦ã¹ã‚‹Goå‹‰å¼·ä¼šã€œ 2021/03/18 å…¥é–€Goè¨€èªä»•æ§˜è¼ªèª­ä¼š ç¬¬2å›ï¼ˆåˆå¿ƒè€…ã§ã‚‚ä¸å¯§ã«ã‚µãƒãƒ¼ãƒˆï¼‰ 2021/03/15 HTTP/Tokyo #2 (ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬) 2021/03/10 Go Language Specification è¼ªèª­ä¼š #17 2021/03/08 GCPUG Tokyo GKE Day March 2021 2021/03/06 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬10ç«  ã—ãªã‚„ã‹ãªè¨­è¨ˆã€å¾ŒåŠ 2021/03/03 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã€ã‚·ãƒ¥ãƒ¼ãƒã‚¤ã€‘Tech Lead Engineerã‹ã‚‰æœ€æ–°æŠ€è¡“ã‚’å­¦ã¹ï¼Goç·¨ 2021/03/02 Monthly AWS Serverless Update 2021/02 2021/02/24 Go Language Specification è¼ªèª­ä¼š #16 2021/02/21 Kyoto.go remote #17 Discord LTä¼š 2021/02/20 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬10ç«  ã—ãªã‚„ã‹ãªè¨­è¨ˆã€å‰åŠ 2021/02/19 GAE 1st Gen Migration Plan Discussion Day Part 2 2021/02/18 å…¥é–€Goè¨€èªä»•æ§˜è¼ªèª­ä¼šï¼ˆåˆå¿ƒè€…ã§ã‚‚ä¸å¯§ã«ã‚µãƒãƒ¼ãƒˆï¼‰ 2021/02/13 ã€ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆå…¥é–€ã€ãƒ‘ãƒãƒ«ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ with ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã‚º 2021/02/10 Go Language Specification è¼ªèª­ä¼š #15 2021/02/06 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬9ç«  æš—é»™çš„ãªæ¦‚å¿µã‚’æ˜ç¤ºçš„ã«ã™ã‚‹ã€å¾ŒåŠ 2021/02/05 mercari.go #15 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ 2021/02/03 Monthly AWS Serverless Update 202101 2021/01/28 Container Runtime Meetup #3 2021/01/28 ã‚¨ãƒ ã‚¹ãƒªãƒ¼ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®æŠ€è¡“ï¼šãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹/èªè¨¼ 2021/01/27 merpay Tech Talk ~ Backendã®ãƒ†ã‚¹ãƒˆã¨QAã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦ 2021/01/27 Go Language Specificationè¼ªèª­ä¼š #14 2021/01/26 Infra Study Meetup #10 ãƒ‘ãƒãƒ«ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ - 2021å¹´ã‚¤ãƒ³ãƒ•ãƒ©å§‹ã‚ç·¨ 2021/01/23 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬9ç«  æš—é»™çš„ãªæ¦‚å¿µã‚’æ˜ç¤ºçš„ã«ã™ã‚‹ã€å‰åŠ 2021/01/20 ãƒ¡ãƒ«ãƒšã‚¤CTO \u0026amp;amp; CBOã«ã‚ˆã‚‹ã€Fintechæ¥­ç•Œ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã¨æœªæ¥ã®è©± ï¼ˆã¤ã¥ãï¼‰ 2021/01/16 Kyoto.go remote #16 ã‚ã‘ã¾ã—ã¦LTä¼š 2021/01/15 Qiita Advent Calendar Online Meetup 2021/01/13 Go Language Specificationè¼ªèª­ä¼š #13 2021/01/09 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬8ç«  ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¹ãƒ«ãƒ¼ã€ Github 2021/10/16 yyh-gl/gomish 2021/03/31 yyh-gl/yyh-gl.deno.dev 2021/03/07 yyh-gl/JetBrainsIDE-settings 2021/01/04 yyh-gl/cron-jobs LAPRASãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¯ã“ã¡ã‚‰ã‹ã‚‰ ","ref":"/blog/activity-2021/"},{"title":"å¾’ç„¶ãªã‚‹ã¾ã¾ã« go build ã¨ build tag ã‚’è¦‹ã¦ã„ã","date":"","description":"Go #1 Advent Calendar 2021 19æ—¥ç›®","body":"\næœ¬è¨˜äº‹ã¯ã€Go #1 Advent Calendar 2021 19æ—¥ç›® ã€ã®è¨˜äº‹ã§ã™ã€‚\nã¯ã˜ã‚ã« Goã«ã¯æ¨™æº–ã§ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚\næœ‰åã©ã“ã‚ã§è¨€ãˆã°ã€\ngenerate fmt vet ãªã©ãŒã‚ã‚Šã¾ã™ã€‚\nä¸­ã§ã‚‚ã€Goã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŸã‚ã®buildã‚³ãƒãƒ³ãƒ‰ã¯ã€ ã¿ãªã•ã‚“ã‚‚æ—¥é ƒã®é–‹ç™ºã§ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\nbuildã¯ç‰¹ã«é›£ã—ã„ã“ã¨ã‚’ã—ãªã‘ã‚Œã°ã€ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã«ä½¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\nã‚ˆã£ã¦ã€ç›´æ„Ÿçš„ã«ã€Œã“ã†ã™ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã‚‹ã‚“ã§ã—ã‚‡ãƒ¼ã€ãã‚‰ã„ã®æ„Ÿè¦šã§ã€ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ³¨è¦–ã—ãªãã¦ã‚‚ä½¿ã„å§‹ã‚ã‚‰ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\nã—ã‹ã—ã€buildã¯æ·±ãè¦‹ã¦ã„ãã¨æ„å¤–ã¨å¥¥ãŒæ·±ã„ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\nä»Šå›ã¯ãã‚“ãªbuildã«ã¤ã„ã¦æ·±ã¼ã£ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nbuildã‚³ãƒãƒ³ãƒ‰ã¨ã¯ ã¾ãšã¯buildã¨ã¯ã©ã†ã„ã£ãŸã‚³ãƒãƒ³ãƒ‰ãªã®ã‹è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\nhelpã‚’ä½¿ã£ã¦èª¿ã¹ã¦ã¿ã¾ã™ã€‚\n$ go help build Build compiles the packages named by the import paths, along with their dependencies, but it does not install the results. \u0026lt;çœç•¥\u0026gt; When compiling packages, build ignores files that end in '_test.go'. \u0026lt;çœç•¥\u0026gt; When compiling multiple packages or a single non-main package, build compiles the packages but discards the resulting object, serving only as a check that the packages can be built. \u0026lt;çœç•¥\u0026gt; -tags tag,list a comma-separated list of build tags to consider satisfied during the build. For more information about build tags, see the description of build constraints in the documentation for the go/build package. (Earlier versions of Go used a space-separated list, and that form is deprecated but still recognized.) \u0026lt;çœç•¥\u0026gt; buildã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚„ã¤ã§ã™ã‚ˆã¨ã„ã†æ–‡ç« ã‹ã‚‰å§‹ã¾ã‚Šã€ ã„ã‚ã„ã‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ä»¥ä¸‹ã®4ç‚¹ã«ã¤ã„ã¦è¦‹ã¦ã¿ã¾ã™ã€‚\nbuildã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã‚ãªã„ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«_test.goãƒ•ã‚¡ã‚¤ãƒ«ã¯ç„¡è¦–ã™ã‚‹ è¤‡æ•°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸orå˜ä¸€ã®émainãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã¯çµæœã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç ´æ£„ã™ã‚‹ build tagã«ã¤ã„ã¦ buildã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã‚ãªã„ buildã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã ã‘ã‚’è¡Œã„ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯è¡Œã„ã¾ã›ã‚“ã€‚\nã€Œãˆã€ãã‚Šã‚ƒãã†ã§ã—ã‚‡ã€ã€Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼Ÿã€ã£ã¦ãªã‚‹äººã‚‚å¤šã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\nå½“ãŸã‚Šå‰ã¨è¨€ã‚ã‚Œã‚Œã°ãã†ã§ã™ãŒã€ãƒ˜ãƒ«ãƒ—ã«ã¦ä¸å¯§ã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¾ãšã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã¯ãªã«ã‹ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã€buildã¨insatllã®æŒ™å‹•ã®é•ã„ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nãªãœã€installã¨æ¯”è¼ƒã™ã‚‹ã‹ã¨è¨€ã†ã¨ã€ä¸‹è¨˜ã®ã¨ãŠã‚Šinstallã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã†ã‚³ãƒãƒ³ãƒ‰ã ã‹ã‚‰ã§ã™ã€‚\n$ go help install usage: go install [build flags] [packages] Install compiles and installs the packages named by the import paths. ã¾ãšã¯buildã—ã¦ã¿ã¾ã™ã€‚\nï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç‰©ã¯GOBINé…ä¸‹ã«é…ç½®ã•ã‚Œã¾ã™ï¼‰\n$ go build main.go $ ls -l $GOBIN/ total 33832 -rwxr-xr-x 1 yyh-gl staff 13989584 8 17 02:05 go -rwxr-xr-x 1 yyh-gl staff 3326080 8 17 02:05 gofmt main.goã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«\u0026amp;ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‚ã®ãŒãªã„ã§ã™ã­ã€‚\næ¬¡ã«installã—ã¦ã¿ã¾ã™ã€‚\n$ go install main.go $ ls -l $GOBIN/ total 37488 -rwxr-xr-x 1 yyh-gl staff 13989584 8 17 02:05 go -rwxr-xr-x 1 yyh-gl staff 3326080 8 17 02:05 gofmt -rwxr-xr-x 1 yyh-gl staff 1869456 12 17 22:30 main main.goã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç‰©ã§ã‚ã‚‹mainãŒGOBINé…ä¸‹ã«è¨­ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¤ã¾ã‚Šã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚\nbuildã¨installã«ã¯ä¸Šè¨˜ã®ã‚ˆã†ãªå·®ãŒã‚ã‚Šã¾ã™ã€‚\nä¸¡è€…ã®ä½¿ã„åˆ†ã‘ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®è¨˜äº‹ãªã©ã‚’å‚è€ƒã«ã™ã‚‹ã¨è‰¯ã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\ngo build vs go install Go best practices, six years in ç¿»è¨³è¨˜äº‹ï¼š6å¹´é–“ã«ãŠã‘ã‚‹Goã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ åƒ•ã¯ã€è‡ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºç‰©ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã«ã¯buildã‚’ä½¿ã„ã€ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¯installã‚’ä½¿ã†ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\né–‹ç™ºç‰©ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœã¯GOBINé…ä¸‹ã‚ˆã‚Šã€ãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé…ä¸‹ã«å…¥ã‚Œã¦ãŠã„ãŸæ–¹ãŒãªã«ã‹ã¨ä¾¿åˆ©ã ã‹ã‚‰ã§ã™ã€‚ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç‰©ã‚’å‹•ã‹ã™å ´æ‰€ãŒãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯ãªã„å ´åˆã€ãã‚‚ãã‚‚GOBINé…ä¸‹ã«ã‚ã‚‹å¿…è¦ã‚‚ãªã„ã§ã™ã—ã­ã€‚\né€†ã«ãƒ„ãƒ¼ãƒ«ç³»ã¯ç‰¹ã«ç†ç”±ãŒãªã„ã‹ãã‚Šã¯ã€GOBINé…ä¸‹ã«ã‚ã£ãŸæ–¹ãŒPATHãŒé€šã£ã¦ã„ã‚‹ã®ã§ä½¿ã„å‹æ‰‹ãŒã„ã„ã§ã™ã‚ˆã­ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«_test.goãƒ•ã‚¡ã‚¤ãƒ«ã¯ç„¡è¦–ã™ã‚‹ ã“ã‚Œã¯çŸ¥ã£ã¦ã„ã‚‹äººã‚‚å¤šã„ã¨æ€ã„ã¾ã™ã€‚\nã‚·ã‚¹ãƒ†ãƒ ã‚’å‹•ã‹ã™ä¸Šã§ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯ä¸è¦ã§ã™ã—ã€ç„¡è¦–ã•ã‚Œã‚‹ã®ã‚‚ç´å¾—ã§ã™ã­ã€‚\nå®Ÿéš›ã«æŒ™å‹•ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\ninvalid_test.goï¼ˆGo Playground ï¼‰ã¨ã„ã†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¯¾è±¡ã«buildã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ go build invalid_test.go \u0026lt;æ­£å¸¸çµ‚äº†ã™ã‚‹ã®ã§ãªã«ã‚‚è¡¨ç¤ºã•ã‚Œãªã„\u0026gt; ã“ã®ã‚ˆã†ã«æ­£å¸¸çµ‚äº†ã—ã¾ã™ã€‚\nã¤ã¾ã‚Šã€ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã«å«ã¾ã‚Œã¦ã„ãªã„ãŸã‚ã€ãã‚‚ãã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ãŠã‚‰ãšã€ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã›ã‚“ã€‚\nåŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’invalid_test2.goã¨ã„ã†åå‰ã«å¤‰æ›´ã—ã€ã‚‚ã†ä¸€åº¦buildã—ã¦ã¿ã¾ã™ã€‚\n$ go build invalid_test2.go # command-line-arguments ./invalid_test2.go:4:1: syntax error: unexpected EOF, expecting name or ( ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã­ã€‚\nä»Šåº¦ã¯ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã«å«ã¾ã‚ŒãŸã‚ˆã†ã§ã™ã€‚\n_test.goã¨ã„ã†å‘½åã‚’åŸºã«ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã‹å¦ã‹ã‚’åˆ¤å®šã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚\nè¤‡æ•°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸orå˜ä¸€ã®émainãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã¯çµæœã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç ´æ£„ã™ã‚‹ helpã§è¨€ã†ã¨ä¸‹è¨˜ã®è¨˜è¿°ã«é–¢ã—ã¦ã®å†…å®¹ã§ã™ã€‚\nWhen compiling multiple packages or a single non-main package, build compiles the packages but discards the resulting object, serving only as a check that the packages can be built. å®Ÿéš›ã«mainãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ãªã„not_main.goï¼ˆGo Playground ï¼‰ã«å¯¾ã—ã¦buildã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ go build not_main.go $ ls -l total 8 -rw-r--r-- 1 yyh-gl staff 65 12 17 23:14 not_main.go ã“ã®ã‚ˆã†ã«ãƒ“ãƒ«ãƒ‰è‡ªä½“ã¯æ­£å¸¸çµ‚äº†ã—ã¾ã™ãŒã€ç”Ÿæˆç‰©ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\næ¬¡ã«ã€not_main.goã«ã‚¨ãƒ©ãƒ¼ã‚’ä»•è¾¼ã‚“ã§ã¿ã¾ã™ã€‚\nï¼ˆGo Playground ï¼‰\n$ go build not_main.go # command-line-arguments ./not_main.go:4:2: undefined: fmt $ ls -l total 8 -rw-r--r-- 1 yyh-gl staff 51 12 17 23:16 not_main.go ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚\nã‚‚ã¡ã‚ã‚“ç”Ÿæˆç‰©ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nserving only as a check that the packages can be built.\nãƒ“ãƒ«ãƒ‰å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã ã‘ã‚’è¡Œã†\nãƒ˜ãƒ«ãƒ—ã«è¨˜è¼‰ã®ã‚ã‚‹ã¨ãŠã‚Šã§ã™ã­ã€‚\nè¤‡æ•°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å¯¾ã—ã¦ãƒ“ãƒ«ãƒ‰ã‚’ã‹ã‘ã¦ã¿ã¦ã‚‚ã€åŒæ§˜ã«ç”Ÿæˆç‰©ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nï¼ˆGo Playground ï¼‰\n$ go build ./... $ ls -l total 24 drwxr-xr-x 3 yyh-gl staff 96 12 18 18:27 foo -rw-r--r-- 1 yyh-gl staff 204 12 18 10:39 go.mod -rw-r--r-- 1 yyh-gl staff 1526 12 17 23:41 go.sum drwxr-xr-x 3 yyh-gl staff 96 12 18 18:26 hoge -rw-r--r-- 1 yyh-gl staff 145 12 18 18:28 main.go hogeã¨fooã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã ã‹ã‚‰æ‹¡å¼µå­ãŒãªã„ã ã‘ã§å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nbuild tagã«ã¤ã„ã¦ æœ€å¾Œã«build tagã«ã¤ã„ã¦è¦‹ã¦çµ‚ã‚ã‚ã†ã¨æ€ã„ã¾ã™ã€‚\nbuild tag ã¨ã¯ //go:build\nâ†‘ã‚³ãƒ¼ãƒ‰ã®å…ˆé ­ä»˜è¿‘ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã“ã‚“ãªã‚„ã¤ã§ã™ã€‚\nå…¬å¼Doc ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã‚’åˆ‡ã‚Šåˆ†ã‘ã‚‹ã®ã«ä½¿ã„ã¾ã™ã€‚\nå®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã™ã€‚\nã¾ãšã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’ç”¨æ„ã—ã¾ã™ã€‚\nGo Playground main.go\npackage main import \u0026quot;github.com/yyh-gl/go-playground/src\u0026quot; func main() { src.Hoge() } src/hoge1.go\n//go:build hoge package src import \u0026quot;fmt\u0026quot; func Hoge() { fmt.Println(\u0026quot;hoge1: //go:build hoge\u0026quot;) } src/hoge2.go\n//go:build !hoge package src import \u0026quot;fmt\u0026quot; func Hoge() { fmt.Println(\u0026quot;hoge2: //go:build !hoge\u0026quot;) } ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ã€ -tagsã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã€ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã‚’æŒ‡å®šã—ãŸä¸Šã§buildã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ go build -tags hoge main.go $ ./main hoge1: //go:build hoge //go:build hogeã‚’æŒã¤hoge1.goã®å†…å®¹ãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸã­ã€‚\né€†ã«//go:build !hogeã‚’æŒã¤hoge2.goã¯ç„¡è¦–ã•ã‚Œã¾ã—ãŸã€‚\nä»Šå›ã¯-tags hogeã‚’æŒ‡å®šã—ãŸã®ã§ã€build tagã¨ã—ã¦hogeã‚’æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ“ãƒ«ãƒ‰å¯¾è±¡ã¨ãªã‚Šã¾ã—ãŸã€‚\né€†ã«//go:build !hogeã¯hogeãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„ã¨ãã«ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã«ãªã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã®ã§ã€ ä»Šå›ã¯ç„¡è¦–ã•ã‚Œã¾ã—ãŸã€‚ï¼ˆ!ãŒå¦å®šã‚’æ„å‘³ã—ã¾ã™ï¼‰\nhoge2.goã‚’ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã¨ã—ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚Œã°ã§ãã¾ã™ã€‚\n$ go build -tags foo main.go $ ./main hoge2: //go:build !hoge $ go build main.go $ ./main hoge2: //go:build !hoge ç‰¹ç­†ã™ã¹ãç‚¹ã¯-tagsã‚’æŒ‡å®šã—ãªã„å ´åˆã‚‚ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã«ãªã‚‹ç‚¹ã§ã™ã€‚\nANDæ¡ä»¶ã‚„ORæ¡ä»¶ã‚‚ä½¿ç”¨ã§ãã‚‹ã®ã§ã€ã§ãã‚‹ã“ã¨ã¯ã„ã‚ã„ã‚ã¨ã‚ã‚Šãã†ã§ã™ã­ã€‚\nå‚è€ƒ build tag ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ä¾‹ æœ€å¾Œã« build tag ãŒå®Ÿéš›ã©ã“ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ã®ã‹ç´¹ä»‹ã—ã¦çµ‚ã‚ã‚Šã¾ã™ã€‚\nGoogleãŒä½œæˆã—ãŸãƒ„ãƒ¼ãƒ«ã§ã€Wireã¨ã„ã†DIãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚\ngoogle/wire Wireã§ã¯ã€ä¾å­˜é–¢ä¿‚ã‚’å®šç¾©ã—ãŸGoãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆwire.goï¼‰ã‚’è¦‹ã¦ã€ ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã—ã€å¿…è¦ãªã‚³ãƒ¼ãƒ‰éƒ¡ï¼ˆwire_gen.goï¼‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\nã‚·ã‚¹ãƒ†ãƒ ã‚’å‹•ã‹ã™ã«ã‚ãŸã£ã¦å¿…è¦ã«ãªã‚‹ã‚³ãƒ¼ãƒ‰ã¯wire_gen.goã®ã¿ã§ã™ã€‚\nwire.goã¯ã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ™‚ã«ã¯å¿…è¦ã§ã™ãŒã€ã‚·ã‚¹ãƒ†ãƒ ã‚’å‹•ã‹ã™ã¨ãã«ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚\nã—ãŸãŒã£ã¦ã€å„ãƒ•ã‚¡ã‚¤ãƒ«ã®build tagã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nwire.go: wireinject wire_gen.go: !wireinject ã™ãªã‚ã¡ã€build tagã®æŒ‡å®šãªã—ã§buildã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ wire.goã¯ç„¡è¦–ã—ã¦wire_gen.goã ã‘ã‚’è¦‹ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã¡ãªã¿ã«ã€wireinjectã‚¿ã‚°ã¯Wireã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ™‚ã«ã®ã¿æŒ‡å®šã•ã‚Œã¾ã™ã€‚\nå‚è€ƒã‚³ãƒ¼ãƒ‰ ã‚ˆã£ã¦ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ™‚ã«ã¯ã€é€†ã«wire_gen.goã¯ç„¡è¦–ã—ã¦wire.goã ã‘ã‚’è¦‹ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nWireå…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« ã«build tagã«é–¢ã™ã‚‹è¨€åŠãŒã‚ã‚‹ã®ã§ã‚ã‚ã›ã¦ã”è¦§ãã ã•ã„ã€‚\nã•ã„ã”ã« ä»Šå›ã¯ã€åƒ•ãŒæ™®æ®µä½•æ°—ãªãä½¿ã£ã¦ã„ãŸbuildã«ã¤ã„ã¦æ·±ã¼ã£ã¦ã¿ã¾ã—ãŸã€‚\nãŸã ã€buildã«ã¯ã¾ã ä»–ã«ã‚‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã®ã§ã€ ä¸€åº¦èª¿ã¹ã¦ã¿ã‚‹ã¨ã€Œã“ã‚“ãªã“ã¨ã§ããŸã‚“ã ã€ã¨ã„ã†ç™ºè¦‹ã«ç¹‹ãŒã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nã¿ãªã•ã‚“ã‚‚ãœã²ä¸€åº¦ã€Goã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦æ·±ã¼ã£ã¦ã¿ã¦ã¯ã„ã‹ã‹ã§ã—ã‚‡ã†ã‹ã€‚\n","ref":"/blog/go-build/"},{"title":"ã€2020å¹´ã€‘ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã¾ã¨ã‚","date":"","description":"ä»Šã•ã‚‰ã§ã¯ã‚ã‚Šã¾ã™ãŒ","body":"LAPRASã§ãŠã‚‚ã—ã‚ã„æ©Ÿèƒ½ã‚’è¦‹ã¤ã‘ãŸ LAPRAS ã«2020å¹´ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’ã¾ã¨ã‚ã¦ãã‚Œã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã—ãŸã€‚\nä»Šå›ã¯ãã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ï¼ˆä»Šã•ã‚‰ãªãŒã‚‰ï¼‰å»å¹´ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠããŸã„ã¨æ€ã„ã¾ã™ã€‚\nä»¥ä¸‹ã€LAPRASã§å‡ºåŠ›ã•ã‚ŒãŸã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’è»¢è¨˜ã—ãŸã‚‚ã®ã§ã™ã€‚\nãƒ»\nãƒ»\nãƒ»\n2020å¹´ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¨å‚åŠ ã‚¤ãƒ™ãƒ³ãƒˆã‚’æŒ¯ã‚Šè¿”ã‚‹ã¨ ä»Šå¹´ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ãŸã‚‚ã®ã‚„å‚åŠ ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆãªã©ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚\nconnpass 2020/12/23 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª ç¬¬å…«å¤œ ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚†ãå¹´ãã‚‹å¹´2020/2021 2020/12/22 merpay Tech Talkï½œQAx DevOps/ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹/Backend vol.2 2020/12/21 Software Design 1æœˆå·ï¼»ç¬¬1ç‰¹é›†ï¼½Goãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¹ã‚­ãƒ«ã‚’ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—åŸ·ç­†è€…åº§è«‡ä¼š 2020/12/19 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬7ç«  è¨€èªã‚’ä½¿ç”¨ã™ã‚‹ï¼šå¿œç”¨ä¾‹ã€ 2020/12/16 Go Language Specificationè¼ªèª­ä¼š #12 2020/12/15 Front-End Study #2ã€ŒPerformance Tuning in depthï¼ˆä»®ï¼‰ã€ 2020/12/09 Go Language Specificationè¼ªèª­ä¼š #11 2020/12/05 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬6ç«  ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã€å¾Œç·¨ 2020/12/03 merpay Tech Talk ~ æ±ºæ¸ˆåŸºç›¤ï¼ˆPayment Platformï¼‰Backendè£è©± 2020/11/30 DMM meetup #22 ã€œDMMã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãŒç›®æŒ‡ã™çµŒæ¸ˆåœã¨ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºæˆ¦ç•¥ã€œ 2020/11/27 Sandbox Live ç¬¬2å›ç›® ã€œã‚²ã‚¹ãƒˆ: ãƒŸãƒé§†å‹•ã•ã‚“ ã¨ ã¨ãƒ¼ã¾ã™ã•ã‚“ã€œ 2020/11/27 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª ç¬¬ä¸ƒå¤œ 2020/11/26 merpay Tech Talkã€œDevOpsxQAã€ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹xQAã€BackendxQAã€œ 2020/11/21 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬6ç«  ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã€å‰ç·¨ 2020/11/18 é–‹ç™ºãƒ©ã‚¤ãƒ–å®Ÿæ³ #7 é«˜é›£æ˜“åº¦Goã‚¯ã‚¤ã‚ºå¤§ä¼š 2020/11/14 Umeda.go 2020 Autumn Online 2020/11/11 Go Language Specificationè¼ªèª­ä¼š #10 2020/11/11 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã€ã‚·ãƒ¥ãƒ¼ãƒã‚¤ã€‘Tech Lead Engineerã‹ã‚‰æœ€æ–°æŠ€è¡“ã‚’å­¦ã¹ï¼ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆç·¨ 2020/11/07 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬5ç«  ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§è¡¨ç¾ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ã€ï¼ˆå¾Œç·¨ï¼‰ 2020/11/05 Monthly AWS Serverless Update 202011 2020/11/04 é–‹ç™ºãƒ©ã‚¤ãƒ–å®Ÿæ³ï½œãƒ¡ãƒ«ã‚«ãƒªã®UIã‚’Jetpack Composeã§å†ç¾ã—ã¦ã¿ã‚ˆã† 2020/11/02 Gophers Office Hours #14 Goã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ vol.2 2020/10/28 Go Language Specificationè¼ªèª­ä¼š #9 2020/10/24 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬5ç«  ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§è¡¨ç¾ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ã€ï¼ˆå‰ç·¨ï¼‰ 2020/10/23 ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã€‘éŠ€åº§Rails#26@ãƒªãƒ³ã‚¯ã‚¢ãƒ³ãƒ‰ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ 2020/10/22 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª ç¬¬å…­å¤œ 2020/10/19 Gophers Office Hours #13 ã€œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å›ã€œ 2020/10/14 Go Language Specificationè¼ªèª­ä¼š #8 2020/10/13 Gophers Office Hours #12 ã€œIoT, ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ å›ã€œ 2020/10/10 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬4ç«  ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’éš”é›¢ã™ã‚‹ã€ 2020/10/10 Go Conference \u0026amp;lsquo;20 in Autumun SENDAI 2020/10/09 ããƒ¼ã ã„ãªã‚‹VOYAGE GROUPã®è£å´ #Zucks ãƒ•ãƒ«ã‚µã‚¤ã‚¯ãƒ«é–‹ç™ºè€…ã®æ–‡åŒ– 2020/09/30 Go Language Specificationè¼ªèª­ä¼š #7 2020/09/29 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª ç¬¬äº”å¤œ - è§£ä½“æ–°æ›¸ - 2020/09/26 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬3ç«  ãƒ¢ãƒ‡ãƒ«ã¨å®Ÿè£…ã‚’çµã³ã¤ã‘ã‚‹ã€ 2020/09/25 MediaDo.go #2 2020/09/23 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã€ã‚·ãƒ¥ãƒ¼ãƒã‚¤ã€‘Tech Lead Engineerã‹ã‚‰æœ€æ–°æŠ€è¡“ã‚’å­¦ã¹ï¼Goç·¨ 2020/09/23 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª ç•ªå¤–ç·¨ 2020/09/16 Go Language Specificationè¼ªèª­ä¼š #6 2020/09/16 é–‹ç™ºãƒ©ã‚¤ãƒ–å®Ÿæ³ #5 ãƒ‡ãƒãƒƒã‚°ã—ã¦ã„ã‚‹ã¨ã“ã‚ã‚’è¦‹ã¦ã¿ã‚ˆã† (ãƒ¡ãƒ«ãƒšã‚¤Backendã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢) 2020/09/09 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª ç¬¬å››å¤œ - å¤ã®æ®‹ã‚Šé¦™ - 2020/09/08 Gophers Office Hours #10 ã€œã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã€ä½ãƒ¬ã‚¤ãƒ¤å› vol.2ã€œ 2020/09/05 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬2ç«  ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨è¨€èªã®ä½¿ã„æ–¹ã€ 2020/09/02 Go Language Specificationè¼ªèª­ä¼š #5 2020/08/31 (Online only) Go 1.15 Release Party in Japan 2020/08/25 Gophers Office Hours #9 ã€œé™çš„è§£æå›ã€œ 2020/08/22 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼šã€Œç¬¬1ç«  çŸ¥è­˜ã‚’ã‹ã¿ç •ãã€ 2020/08/19 Go Language Specificationè¼ªèª­ä¼š #4 2020/08/18 Gophers Office Hours #8 ã€œè‡ªä½œã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã€ä½ãƒ¬ã‚¤ãƒ¤å›ã€œ 2020/08/12 é–‹ç™ºãƒ©ã‚¤ãƒ–å®Ÿæ³#3 ã‚¨ãƒ‡ã‚£ã‚¿ã®è¨­å®šã—ãªã„äººç·¨ byãƒ¡ãƒ«ãƒšã‚¤Expertãƒãƒ¼ãƒ Backendã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ 2020/08/11 Gophers Office Hours #7 ã€œã¨ã«ã‹ãæºœã¾ã£ãŸè³ªå•ã«ç­”ãˆã‚‹å›ã€œ 2020/08/08 ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ è¼ªèª­ä¼š 1å›ã€Œåºæ–‡ã€ç›®æ¬¡ã€ç´¢å¼•ã€ 2020/08/06 mercari.go #14 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ 2020/08/05 Go Language Specificationè¼ªèª­ä¼š #3 2020/08/01 TDD Boot Camp 2020 Online #1 2020/07/29 é–‹ç™ºãƒ©ã‚¤ãƒ–å®Ÿæ³ #2 ã€œãƒ¡ãƒ«ãƒšã‚¤Â Solutionsãƒãƒ¼ãƒ  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¥½ãã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€œ 2020/07/28 Gophers Office Hours #6 ã€œgRPCå›ã€œ 2020/07/22 Go Language Specificationè¼ªèª­ä¼š #2 2020/07/18 Zli Ã— DMM åˆåŒLT 2020/07/18 Container Runtime Meetup #2 2020/07/15 é–‹ç™ºãƒ©ã‚¤ãƒ–å®Ÿæ³ ã€œãƒ¡ãƒ«ãƒšã‚¤Â Architectãƒãƒ¼ãƒ  Backend Engineerã€œ 2020/07/14 Gophers Office Hours #5 ã€œAPIã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›ã€œ 2020/07/14 Fukuoka.go#16 (ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬) 2020/07/09 ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ä»Šæ˜”ç‰©èª 2020/07/08 go/analysisã§ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã©ã†ã‹ç¢ºã‹ã‚ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã™ã‚‹ä¼š 2020/07/08 Kyoto.go remote #6 2020/07/08 Go Language Specificationè¼ªèª­ä¼š #1 2020/06/30 ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€‘Mercari Gophers Office Hours_6/30 2020/06/26 #7 Open Go Friday Online 2020/06/24 Kyoto.go remote #5 2020/06/23 ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€‘Mercari Gophers Office Hours_6/23 2020/06/20 ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚‚ã†ãœï¼ï½Laravelç·¨ï½ 2020/06/10 Kyoto.go remote #4 2020/06/03 ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªGoå®Œå…¨å…¥é–€ è³ªå•ä¼š 2020/05/29 ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã€‘GCPUG Tokyo Spanner Day May 2020 2020/05/15 ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã€‘DMM.go #2 2020/05/06 ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æŒ‡é‡ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€‘ 2020/05/04 ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º(TDD)ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å‹‰å¼·ä¼š #1 ã€ŒTDDå…¥é–€ã€ 2020/05/02 ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€‘å®Ÿè·µã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ 2020/04/20 DDD Talk MeetUp Online #0 2020/04/16 DDDã‚ªãƒ³ãƒ©ã‚¤ãƒ³å‹‰å¼·ä¼š #4ã€ŒDDDã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€ 2020/03/29 DDDã‚ªãƒ³ãƒ©ã‚¤ãƒ³å‹‰å¼·ä¼š ã€Œè¨­è¨ˆã®åŸºæœ¬åŸå‰‡\u0026amp;quot;é«˜å‡é›†ãƒ»ä½çµåˆ\u0026amp;quot;ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€ 2020/03/15 DDDã‚ªãƒ³ãƒ©ã‚¤ãƒ³å‹‰å¼·ä¼š ã€Œé›†ç´„ãƒ»å¢ƒç•Œä»˜ã‘ã‚‰ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ»è¨­è¨ˆã®åŸºæœ¬åŸå‰‡ã€ 2020/03/08 ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ ãƒ¢ãƒ‡ãƒªãƒ³ã‚°/å®Ÿè£…å…¥é–€å‹‰å¼·ä¼š(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³) 2020/02/27 ã‚´ãƒªãƒ©.Go #1 2020/02/16 Object-Oriented Conference 2020/02/16 ï¼ˆæœ¬å‹Ÿé›†ï¼‰Object-Oriented Conference 2020/02/10 mercari.go #13 2020/01/28 DeNA.go #4 2020/01/23 DMM.go #1 2020/01/10 DDD Talk MeetUp #3 Github 2020/09/22 yyh-gl/delsla 2020/09/07 yyh-gl/go-flat-package 2020/08/27 yyh-gl/real-env-recorder 2020/08/24 yyh-gl/yyh-gl 2020/08/02 yyh-gl/akindo 2020/08/01 yyh-gl/tdd_handson 2020/07/19 yyh-gl/tdd_handson_demo 2020/06/21 Ladicle/tcardgen 2020/06/12 yyh-gl/go-ec2 2020/05/26 yyh-gl/gocr 2020/05/17 yyh-gl/go-playground 2020/05/14 yyh-gl/goa-tutorial 2020/04/11 yyh-gl/go-starter-kit 2020/01/24 yyh-gl/go-assembler LAPRASãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¯ã“ã¡ã‚‰ã‹ã‚‰ ","ref":"/blog/activity-2020/"},{"title":"ã€GitHub Actionsã€‘GitHubã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’è‡ªå‹•æ›´æ–°ã™ã‚‹ä»•çµ„ã¿ã‚’ä½œã£ãŸ","date":"","description":"æŠ€è¡“çš„ãªèª¬æ˜ã¯ãªãã€ãŸã ã®ç‹¬ã‚Šè¨€ã§ã™","body":"ãŠã‚‚ã—ã‚ã„ãƒ„ã‚¤ãƒ¼ãƒˆã‚’è¦‹ã¤ã‘ãŸ GitHub Actionsã§Qiita/Zennã®æŠ•ç¨¿ã‚’GitHubãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«è‡ªå‹•åæ˜ ã§ãã‚‹ã‚ˆã†ã«ã—ãŸ pic.twitter.com/o47E7YHSsx\n\u0026mdash; mikkame (@mikkameee) February 14, 2021 ã¨ã¦ã‚‚ä¾¿åˆ©ãã†ã ã£ãŸã®ã§åƒ•ã‚‚ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚\nä½œã£ãŸ â†‘ã“ã‚“ãªæ„Ÿã˜ã§ Recent posts - Blog ğŸ“ ã«ç›´è¿‘5å€‹ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã€\nãªãŠã‹ã¤è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ ã«ç½®ã„ã¦ã‚ã‚Šã¾ã™ã€‚\nã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã€\nGoã§æ›¸ã„ãŸãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆREADMEï¼‰æ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’GitHub Actionsã§å®Ÿè¡Œã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\nèˆˆå‘³ã‚ã£ãŸã‚‰ã‚³ãƒ¼ãƒ‰ã‚’è¦—ã„ã¦ã¿ã¦ãã ã•ã„ã€‚\n","ref":"/blog/profile-readme-updater/"},{"title":"The Go Programming Language Specificationã§çŸ¥ã£ãŸã€Œã“ã‚“ãªã“ã¨ã§ãã‚‹ã ã€ã‚’ç´¹ä»‹","date":"","description":"Go 5 Advent Calendar 2020 8æ—¥ç›®","body":"æœ¬è¨˜äº‹ã¯ã€Go 5 Advent Calendar 2020 8æ—¥ç›® ã€ã®è¨˜äº‹ã§ã™ã€‚\nGo Language Specificationè¼ªèª­ä¼š ç¾åœ¨ã€Go Language Specificationè¼ªèª­ä¼š ã¨ã„ã†ã€ Goã®è¨€èªä»•æ§˜ ã‚’èª­ã‚“ã§ã„ãä¼šã«å‚åŠ ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ã€ãã‚“ãªè¼ªèª­ä¼šã§ã€Œã“ã‚“ãªã“ã¨ã§ãã‚‹ã‚“ã ã€ã¨é©šã„ãŸã‚³ãƒ¼ãƒ‰ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\nï¼ˆæŒ¯ã‚Šè¿”ã‚‹ã¨çµæ§‹ãŸãã•ã‚“ã‚ã£ãŸã®ã§ã€ä»Šå›ã¯ãã®ä¸­ã‹ã‚‰5å€‹é¸ã‚“ã§ç´¹ä»‹ã—ã¾ã™ï¼‰\nã¡ãªã¿ã«ã€ã ã„ãŸã„ã®ã‚³ãƒ¼ãƒ‰ã¯ç¾å ´ã§ä½¿ã†ã¨æ€’ã‚‰ã‚Œãã†ã§ã™ğŸ˜‡ ï¼ˆã„ã‚„ã€ã¾ãšé–“é•ã„ãªãæ€’ã‚‰ã‚Œã‚‹ï¼‰\n1. Comments package main import ( \u0026quot;fmt\u0026quot; ) func main() { var/*comment*/a = 1 fmt.Println(a) } https://play.golang.org/p/9Dun0LiT5N5 ã¾ãšã¯ã“ã¡ã‚‰ã€‚\nå¤‰ãªä½ç½®ã«ã‚³ãƒ¡ãƒ³ãƒˆãŒæŒ¿å…¥ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚³ãƒ¡ãƒ³ãƒˆéƒ¨åˆ†ã‚’æ¶ˆã™ã¨vara = 1ã¨ãªã‚‹ã®ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šãã†ã§ã™ã€‚\nã—ã‹ã—ã€å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€ã™ã‚“ãªã‚Šã¨å¤‰æ•°aã‚’è¡¨ç¤ºã—ã¦ãã‚Œã¾ã™ã€‚\nè§£èª¬ Spec ã‚’å‚ç…§ã™ã‚‹ã¨ä»¥ä¸‹ã®ä¸€æ–‡ãŒã‚ã‚Šã¾ã™ã€‚\nA general comment containing no newlines acts like a space.\næ”¹è¡Œã‚’å«ã¾ãªã„general commentã¯ã‚¹ãƒšãƒ¼ã‚¹ã®ã‚ˆã†ã«ä½œç”¨ã™ã‚‹ã€‚\nï¼ˆgeneral commentã¨ã¯/**/ã§å›²ã‚ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã®ã“ã¨ã‚’æŒ‡ã—ã¾ã™ï¼‰\nã‚ˆã£ã¦ã€å…ˆç¨‹ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã¨åŒã˜ã¨ã„ã†ã“ã¨ã§ã™ã€‚\npackage main import ( \u0026quot;fmt\u0026quot; ) func main() { var a = 1 fmt.Println(a) } ã“ã†ã—ã¦å¤‰æ›ã—ã¦ã¿ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ã§ãªã„ã“ã¨ã¯æ˜ç™½ã§ã™ã­ã€‚\nã¡ãªã¿ã«ã€ã€Œæ”¹è¡Œã‚’å«ã¾ãªã„ã€ã“ã¨ãŒæ¡ä»¶ãªã®ã§ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚\npackage main import ( \u0026quot;fmt\u0026quot; ) func main() { var a/*comment*/= 1 // ã“ã£ã¡ã¯OKã ã‘ã© var b/*com ment*/= 1 // ã“ã£ã¡ã¯NG fmt.Println(a) fmt.Println(b) } https://play.golang.org/p/_IFGaJ4VK4w 2. Identifiers ç¶šã„ã¦ã¯ã“ã¡ã‚‰ã§ã™ã€‚\npackage main import \u0026quot;fmt\u0026quot; func main() { false := true if false { fmt.Println(\u0026quot;false is true\u0026quot;) } } https://play.golang.org/p/kzf4fwRxyAJ ã“ã‚Œã¯Goã‚¯ã‚¤ã‚ºã§ã‚‚ã‚ˆãå‡ºã¦ãã‚‹ã®ã§ã€ã”å­˜ã˜ã®æ–¹ã‚‚å¤šã„ã‹ã¨æ€ã„ã¾ã™ã€‚\nè§£èª¬ ã“ã“ã§é‡è¦ã«ãªã£ã¦ãã‚‹å˜èªã¨ã—ã¦ä»¥ä¸‹ã®2ã¤ãŒã‚ã‚Šã¾ã™ã€‚\nIdentifier Keyword Identifierã«ã¤ã„ã¦ã€Spec ã‚’å‚ç…§ã™ã‚‹ã¨ã€\nIdentifiers name program entities such as variables and types.\nè­˜åˆ¥å­ã¯ã€å¤‰æ•°ã‚„å‹ãªã©ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®åå‰ã‚’ä»˜ã‘ã¾ã™ã€‚\nã¨ã‚ã‚Šã¾ã™ã€‚\nIdentifierã¯ã€ãŸã å˜ã«åå‰ã‚’ä»˜ã‘ã‚‹ãŸã‚ã®ã‚‚ã®ãªã‚“ã§ã™ã­ã€‚\nåŠ ãˆã¦ã€ä»¥ä¸‹ã®ä¸€æ–‡ã‹ã‚‰ã€äº‹å‰ã«å®£è¨€ã•ã‚Œã¦ã„ã‚‹IdentifierãŒã‚ã‚‹ã¨åˆ†ã‹ã‚Šã¾ã™ã€‚\nSome identifiers are predeclared.\nã„ãã¤ã‹ã®è­˜åˆ¥å­ã¯äº‹å‰ã«å®£è¨€ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä»Šå›å–ã‚Šä¸Šã’ãŸfalseã¯ã“ã®äº‹å‰å®£è¨€ã•ã‚ŒãŸIdentifierã«è©²å½“ã—ã¾ã™ã€‚\nï¼ˆäº‹å‰å®£è¨€ã•ã‚Œã¦ã„ã‚‹Identifierä¸€è¦§ã¯ã“ã¡ã‚‰ ï¼‰\næ¬¡ã«ã€Keywordã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã™ã€‚\nSpec ã‚’å‚ç…§ã™ã‚‹ã¨ã€\nThe following keywords are reserved and may not be used as identifiers.\nä»¥ä¸‹ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯äºˆç´„ã•ã‚Œã¦ãŠã‚Šã€è­˜åˆ¥å­ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\nã¨ã‚ã‚Šã¾ã™ã€‚\nã‚ˆã£ã¦ã€ä¸‹è¨˜ã®ã¨ãŠã‚Šdefaultã‚’Identifierã¨ã—ã¦ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚\nï¼ˆdefaultã¯Keywordã§ã™ï¼‰\npackage main import \u0026quot;fmt\u0026quot; func main() { default := true fmt.Println(default) } https://play.golang.org/p/Cxuolg_b7Xx falseã®è©±ã«æˆ»ã—ã¾ã™ãŒã€falseã¯Identifierã§ã‚ã‚Šã€Keywordã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã—ãŸãŒã£ã¦ã€æœ€åˆã«ç¤ºã—ãŸã‚³ãƒ¼ãƒ‰ã®ã¨ãŠã‚Šã€åˆ¥ã®å¯¾è±¡ã«å¯¾ã—ã¦falseã¨åä»˜ã‘ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\n3. Slice types æ¬¡ã¯Sliceé–¢é€£ã§ã™ã€‚\npackage main import \u0026quot;fmt\u0026quot; func main() { a := [5]int{0, 1, 2, 3, 4} b := a[1:3] fmt.Println(b) fmt.Println(b[0:4]) } https://play.golang.org/p/inbRV8SWfNO ä¸€åº¦å®Ÿè¡Œã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nfmt.Println(b[0:4])ã®å‡ºåŠ›çµæœã«é•å’Œæ„ŸãŒãªã„ã§ã—ã‚‡ã†ã‹ã€‚\nbï¼a[1:3]ï¼{1, 2}ã®ã¯ãšã§ã™ã€‚\nå®Ÿéš›ã€fmt.Println(b)ã®å‡ºåŠ›çµæœã¯ãã†ãªã£ã¦ã„ã¾ã™ã€‚\nã‚ˆã£ã¦ã€b[0:4]ã¯å–ã‚Œãªã„ã¯ãšã§ã™ã€‚\nã—ã‹ã—ã€å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨b[0:4]ãŒå–ã‚Œã¦ã„ã¾ã™ã€‚\nè§£èª¬ Spec ã‚’è¦‹ã‚‹ã¨ã€\nA slice is a descriptor for a contiguous segment of an underlying array and provides access to a numbered sequence of elements from that array.\nã‚¹ãƒ©ã‚¤ã‚¹ã¯ã€underlying arrayã®é€£ç¶šã—ãŸã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®è¨˜è¿°å­ã§ã‚ã‚Šã€ãã®underlying arrayã®è¦ç´ ã®ç•ªå·ä»˜ãã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚\nã¨ã‚ã‚Šã¾ã™ã€‚\nã¤ã¾ã‚Šã€Sliceã®å¾Œã‚ã«ã¯ArrayãŒã„ã¦ã€Sliceã¯ãã®Arrayã«å¯¾ã—ã¦ã‚ˆã—ãªã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ã€\nã‚ãŸã‹ã‚‚Sliceã§ã‚ã‚‹ã‹ã®ã‚ˆã†ã«è¦‹ã›ã¦ã„ã¾ã™ã€‚\nã‚ˆã£ã¦ã€\nb := a[1:3] ã“ã†ã—ãŸã¨ãã«bã®å¾Œã‚ã«ã¯[5]int{0, 1, 2, 3, 4}ãŒã„ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nå®Ÿéš›ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã®ã¯{1, 2, 3, 4}ã ã‘ãªã®ã§ã€\nå³å¯†ã«ã¯èƒŒå¾Œã«{1, 2, 3, 4}ã¨ã„ã†è¦ç´ ã‚’æŒã£ãŸé…åˆ—ãŒã„ã‚‹ã‚ˆã†ã«æ€ãˆã‚‹ã§ã—ã‚‡ã†ã€‚\nã“ã“ã¾ã§ãã‚‹ã¨ã€æœ€åˆã®ã‚³ãƒ¼ãƒ‰ã§b[0:4]ã®ç¯„å›²ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããŸã®ã‚‚ç´å¾—ã§ã™ã­ã€‚\n4. Method declarations ç¶šã„ã¦ã¯ã“ã¡ã‚‰ã§ã™ã€‚\npackage main type S int func(S) _() {} func(S) _() {} func _() {} func _() {} func main() {} https://play.golang.org/p/sHq9NZvlPsL åŒã˜é–¢æ•°åãŒä¹±ç«‹ã—ã¦ã„ã¾ã™ã€‚\nã‚‚ã†ãªã‚“ã¨ãªãå¯Ÿã—ã¦ã‚‹æ–¹ã‚‚ãŠã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã™ãŒã€\nã“ã‚Œã¯ãƒ–ãƒ©ãƒ³ã‚¯ï¼ˆ_ï¼‰ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã«æˆã‚Šç«‹ã£ã¦ã„ã¾ã™ã€‚\nè§£èª¬ Spec ã«ä»¥ä¸‹ã®ä¸€æ–‡ãŒã‚ã‚Šã¾ã™ã€‚\nFor a base type, the non-blank names of methods bound to it must be unique.\nBase typeã«ãƒã‚¤ãƒ³ãƒ‰ã•ã‚Œã¦ã„ã‚‹ãƒ–ãƒ©ãƒ³ã‚¯ã§ã¯ãªã„ãƒ¡ã‚½ãƒƒãƒ‰åã¯ä¸€æ„ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nè¨€ã„æ›ãˆã‚‹ã¨ã€é–¢æ•°åãŒãƒ–ãƒ©ãƒ³ã‚¯ã§ã‚ã‚‹å ´åˆã¯ã€ãƒ¦ãƒ‹ãƒ¼ã‚¯ã§ãªãã¦ã‚‚è‰¯ã„ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\n5. Composite literals æœ€å¾Œã¯ã“ã¡ã‚‰ã§ã™ã€‚\npackage main import \u0026quot;fmt\u0026quot; var arr = [3]int{2: 2} var slice = []int{3: 3} func main() { fmt.Println(arr) fmt.Println(slice) } https://play.golang.org/p/7vfUjbDEeCZ 5, 6è¡Œç›®ã®ä¸­æ‹¬å¼§ã®ä¸­ã‚’è¦‹ã‚‹ã¨ã€ä¸€ç¬ã€mapã‹ãªã¨æ€ã£ãŸäººãŒã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nã—ã‹ã—ã€ã“ã‚Œã¯Arrayã¨Sliceã®åˆæœŸåŒ–ã§ã™ã€‚\nè§£èª¬ Arrayã¨Sliceã§ã‚‚ã‚­ãƒ¼ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰æŒ‡å®šã§åˆæœŸåŒ–ã§ãã¾ã™ã€‚\nSpec ã«ã¯ã€ Arrayã¨Sliceã«å¯¾ã—ã¦ä»¥ä¸‹ã®ä¸€æ–‡ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nAn element with a key uses the key as its index. The key must be a non-negative constant representable by a value of type int; and if it is typed it must be of integer type.\nã‚­ãƒ¼ã‚’æŒã¤è¦ç´ ã¯ã€ãã®ã‚­ãƒ¼ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚ã‚­ãƒ¼ã¯ int å‹ã®å€¤ã§è¡¨ã™ã“ã¨ãŒã§ãã‚‹éè² ã®å®šæ•°ã§ãªã‘ã‚Œã°ãªã‚‰ãšã€å‹ä»˜ã‘ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯æ•´æ•°å‹ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\nã¾ãã€ã‚ã¾ã‚Šè¦‹ã‚‹ã“ã¨ã¯ãªã„ã‚³ãƒ¼ãƒ‰ã§ã—ã‚‡ã†ğŸ™ˆ\nã¾ã¨ã‚ Goã®è¨€èªä»•æ§˜ã‚’ã¡ã‚ƒã‚“ã¨å‹‰å¼·ã—å§‹ã‚ãŸã“ã¨ã§ã€\nã“ã†ã„ã†ä»•æ§˜ã ã‹ã‚‰ã€ã“ã†ã‚„ã£ã¦å‡¦ç†ã•ã‚Œã¦ã„ãŸã®ã‹ã¨ã„ã†ã®ãŒç†è§£ã§ãã¦ãã¾ã—ãŸã€‚\nå€‹äººçš„ã«ã¯ã€ã“ã“ã‚’ç†è§£ã—ã¦ãã‚‹ã¨ã€\nãªãœCompilerã‚„LinterãŒæ€’ã£ã¦ã„ãŸã®ã‹ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«ãªã£ã¦ãã¦ã€\nè¨€èªä»•æ§˜ã‚’èª­ã‚€ã®ãŒã•ã‚‰ã«ãŠã‚‚ã—ã‚ããªã‚Šã¾ã—ãŸã€‚\nä»Šå›ã®å†…å®¹ã¯ã€å€‹äººçš„ã«ã€ŒãŠãŠãŠã€ã€ã€ã€ã£ã¨ãªã£ãŸã‚‚ã®ã‚’ä¸­å¿ƒã«å–ã‚Šä¸Šã’ãŸã®ã§ã™ãŒã€\nå®Ÿå‹™ã§ã¯ä½¿ãˆãªã„ã§ã‚ã‚ã†ã‚³ãƒ¼ãƒ‰ã°ã‹ã‚Šã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸğŸ˜‡\nã—ã‹ã—ã€å®Ÿéš›ã«å½¹ã«ç«‹ã¤ç™ºè¦‹ã‚‚å¤šãã‚ã‚‹ã®ã§ã€ãœã²ä¸€ç·’ã«è¨€èªä»•æ§˜ã‚’èª­ã¿é€²ã‚ã‚‰ã‚Œã‚Œã°ãªã¨æ€ã£ã¦ã„ã¾ã™ï¼\nâ–¶â–¶â–¶ Go Language Specificationè¼ªèª­ä¼š æ˜æ—¥ã¯ã€ã€ã€ Go 5 Advent Calendar 2020 ã®æ˜æ—¥ã®æ ã¯ã¾ã ç©ºã„ã¦ã„ã¾ã™ã­ã€œğŸ…\n","ref":"/blog/uncredible-codes-from-go-spec/"},{"title":"ãƒ–ãƒ­ã‚°ã®ç”»åƒã‚’WebPã«å¤‰ãˆãŸè©±ã¨Safariã§è¡¨ç¤ºã•ã‚Œãªã„ä»¶ã«ã¤ã„ã¦","date":"","description":"Safariã¯v14ã‹ã‚‰ã˜ã‚ƒãªã„ã¨è¡¨ç¤ºã§ããªã„ğŸ˜‡","body":"ç”»åƒã®å½¢å¼ã‚’WebPã«å¤‰ãˆãŸ æœ¬ãƒ–ãƒ­ã‚°ã«ã¦ã€Lighthouseä½¿ã£ã¦ã¿ã‚‹ã¨ã€è¡¨ç¤ºé€Ÿåº¦ã‚ãŸã‚Šã§æ€’ã‚‰ã‚Œã¦ã„ãŸã®ã§ã€\nã¾ãšã¯ã‚µãƒ ãƒç”»åƒã‚’WebPã«å¤‰ãˆã¦ã¿ã¾ã—ãŸã€‚\nWebPã¨ã¯ã€GoogleãŒé–‹ç™ºã—ã¦ã„ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ãªé™æ­¢ç”»åƒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€\nãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯é‡è»½æ¸›ã¨è¡¨ç¤ºé€Ÿåº¦çŸ­ç¸®ã‚’ç›®çš„ã—ã¦ã„ã¾ã™ã€‚ ï¼ˆwikiã‹ã‚‰æ‹å€Ÿ ï¼‰\nWebPã‚’æ¡ç”¨ã—ãŸçµæœ ä»¥ä¸‹ã®ãƒ„ã‚¤ãƒ¼ãƒˆã®ã¨ãŠã‚Šã§ã™ã€‚\nãŸã¾ãŸã¾100ãŒæ’®ã‚ŒãŸã ã‘ã§ã€ã‚‚ã†ä¸€å›ãƒ†ã‚¹ãƒˆã—ã¿ã‚‹ã¨å°‘ã—è½ã¡ã¾ã—ãŸã€‚\nãã‚Œã§ã‚‚90å°ã¯ã‚­ãƒ¼ãƒ—ã§ãã¦ã„ãã†ã§ã™ã€‚\nå€‹äººãƒ–ãƒ­ã‚°ï¼ˆDesktopç‰ˆï¼‰ã®PerformanceãŒ78ã ã£ãŸã®ã§ã€ç”»åƒã‚’webpã«å¤‰ãˆãŸã‚‰ä¸€æ°—ã«100ã«ãªã£ãŸğŸŠ\nï¼ˆãƒ¢ãƒã‚¤ãƒ«ã¯æœªã ã«70åˆ‡ã£ã¦ã‚‹ğŸ˜‡ï¼‰ pic.twitter.com/VNxztIsR28\n\u0026mdash; hon-D (@yyh_gl) November 19, 2020 Safariã§ã¯æ³¨æ„ãŒå¿…è¦ å¤šãã®ãƒ–ãƒ©ã‚¦ã‚¶ã§WebPã¸ã®å¯¾å¿œãŒæ—¢ã«å®Œäº†ã—ã¦ã„ã¾ã™ã€‚\nãŸã ã—ã€Safariã«é–¢ã—ã¦ã¯v14ã§ã‚ˆã†ã‚„ãå¯¾å¿œã—ã¾ã—ãŸã€‚\nå¯¾å¿œçŠ¶æ³ Safari v14ã¯2020å¹´9æœˆ17æ—¥ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã°ã‹ã‚Šãªã®ã§ã€\nã¾ã ç”»åƒã‚’ã¡ã‚ƒã‚“ã¨è¦‹ã‚Œãªã„ãƒ¦ãƒ¼ã‚¶ãŒå¤šãå­˜åœ¨ã™ã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚\nãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ Safariã®webpå¯¾å¿œã£ã¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³14ã‹ã‚‰ã ã£ãŸã‚“ã ğŸ˜‡\nè‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã«æ¥ã‚‹äººã®90%å¼±ãŒSafariã˜ã‚ƒãªã„ã‹ã‚‰ã€ã¾ãã„ã„ã‹â†\n\u0026mdash; hon-D (@yyh_gl) November 26, 2020 è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã«æ¥ã‚‹äººã®90%å¼±ãŒSafariã˜ã‚ƒãªã„ã‹ã‚‰ã€ã¾ãã„ã„ã‹â†\nå˜˜ã§ã™ã€10%ã»ã©ã®æ–¹ã€…ã™ã¿ã¾ã›ã‚“ğŸ™‡â€â™‚ WebPã«ã—ãŸã®ã¯ã‚µãƒ ãƒç”»åƒã ã‘ã§ã€è¨˜äº‹æœ¬æ–‡å†…ã®ç”»åƒã¯WebPã˜ã‚ƒãªã„ã®ã§è¨±ã—ã¦ãã ã•ã„ã€‚ã€‚ã€‚\n","ref":"/blog/support-webp/"},{"title":"ã€Goã€‘Switchæ–‡ã®fallthroughã«é–¢ã™ã‚‹ã¾ã¨ã‚","date":"","description":"å¿˜ã‚ŒãŒã¡ã˜ã‚ƒãªã„ã§ã™ã‹ï¼Ÿï¼Ÿ","body":"fallthrough ã¨ã¯ Goã§ã¯Switchæ–‡ã§fallthroughã¨ã„ã†ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ ãŒä½¿ç”¨å¯èƒ½ã§ã™ã€‚\næ©Ÿèƒ½ã¨ã—ã¦ã¯ã€å‡¦ç†ã‚’æ¬¡ã®ç¯€ï¼ˆcaseã‚„defaultï¼‰ã«é€²ã‚ã¾ã™ã€‚ï¼ˆå‚è€ƒ ï¼‰\nè¨€è‘‰ã§èª¬æ˜ã™ã‚‹ã‚ˆã‚Šã‚‚ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã‚‚ã‚‰ã£ãŸæ–¹ãŒã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚\npackage main import \u0026quot;fmt\u0026quot; func main() { num := 1 switch num { case 1: fmt.Print(\u0026quot;I \u0026quot;) fallthrough case 2: fmt.Print(\u0026quot;am \u0026quot;) fallthrough case 3: fmt.Println(\u0026quot;yyh-gl.\u0026quot;) // fallthrough // æ¬¡ã®ç¯€ãŒãªã‘ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ } } // å®Ÿè¡Œçµæœï¼š // I am yyh-gl. Playground defaultã«ã‚‚é£›ã¹ã‚‹ã¨ã„ã†ä¾‹ fallthroughã¯ã€Goè¨€èªã®ORMãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦æœ‰åãªã€GORMã€ã§ã‚‚ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚(ä½¿ç”¨ç®‡æ‰€ )\n","ref":"/blog/go-switch-fallthrough/"},{"title":"texta.fm #1 ã¾ã¨ã‚","date":"","description":"2020å¹´8æœˆ27æ—¥æ”¾é€åˆ†ã®ã¾ã¨ã‚ã§ã™","body":"texta.fm texta.fm #1ï¼ˆ2020å¹´8æœˆ27æ—¥æ”¾é€åˆ†ï¼‰ ã‚’èã„ã¦ã€ç‰¹ã«DDDã«ã¤ã„ã¦å­¦ã³ãŒå¤šã‹ã£ãŸã®ã§ã¾ã¨ã‚ã¾ã—ãŸã€‚\nã‚¨ãƒ´ã‚¡ãƒ³ã‚¹æœ¬ã‚’èª­ã‚€å‰ã«çŸ¥ã£ã¦ãŠã„ãŸæ–¹ãŒã„ã„æ™‚ä»£èƒŒæ™¯ã€ãã—ã¦ã€æ„è­˜ã™ã¹ãç‚¹ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€\næ™‚é–“ãŒã‚ã‚Œã°ãœã²å®Ÿéš›ã«èãã«è¡Œã£ã¦ã¿ã¦ãã ã•ã„ã€‚\nè©±è€…ï¼š\n@_yasaichi ã•ã‚“ @t_wada ã•ã‚“ ä»¥é™ã€å‹‰å¼·ã«ãªã£ãŸç‚¹ã‚’æŠœãå‡ºã—ã¦ã„ãã¾ã™ã€‚\nãªãŠã€\u0026lt;\u0026gt;å†…ã«è¨˜è¼‰ã—ã¦ã„ã‚‹æ™‚é–“ã¯ã€è¨˜è¿°å†…å®¹ãŒå®Ÿéš›ã«è©±ã•ã‚Œã¦ã„ã‚‹æ™‚é–“ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚\nDDDãŒè§£æ±ºã—ãŸã‹ã£ãŸå•é¡Œ \u0026lt;6åˆ†30ç§’ãã‚‰ã„ã‹ã‚‰\u0026gt;\nã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ãŒDDDã§è§£æ±ºã—ã‚ˆã†ã¨ã—ã¦ã„ãŸå•é¡Œã¯ä»¥ä¸‹ã®2ç‚¹\nåˆ†æãƒ¢ãƒ‡ãƒ«ã¨ã‚³ãƒ¼ãƒ‰é–“ã®ä¹–é›¢ï¼šè©³ç´°ã¯å¾Œè¿° ãƒ“ã‚¸ãƒã‚¹å´ã¨é–‹ç™ºå´ã®ä¹–é›¢ï¼šãƒ“ã‚¸ãƒã‚¹å´ã®è¨€è‘‰ã¨é–‹ç™ºå´ã®è¨€è‘‰ãŒç•°ãªã‚‹ã“ã¨ã«ã‚ˆã‚‹é–‹ç™ºã®è¤‡é›‘åŒ– åˆ†æãƒ¢ãƒ‡ãƒ«ã¨ã‚³ãƒ¼ãƒ‰é–“ã®ä¹–é›¢ã£ã¦ãªã«ï¼Ÿ \u0026lt;9åˆ†45ç§’ãã‚‰ã„ã‹ã‚‰\u0026gt;\n2000å¹´ä»£å‰åŠã¯ãƒ•ã‚§ãƒ¼ã‚ºã§åŒºåˆ‡ã£ãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºãŒä¸»æµã ã£ãŸã€‚\nãã—ã¦ã€ãã®åŒºåˆ‡ã‚‰ã‚ŒãŸãƒ•ã‚§ãƒ¼ã‚ºã®ã²ã¨ã¤ã§ã‚ã‚‹ã€Œãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ•ã‚§ãƒ¼ã‚ºã€ã§ã¯ã€\nåˆ†æã‚„è¨­è¨ˆã‚’é€šã—ã¦ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã‚Šä¸Šã’ã¦ã„ãã®ã§ã‚ã‚‹ãŒã€\né–‹ç™ºã®å¯¾è±¡é ˜åŸŸã‚’ãã¡ã‚“ã¨å†™ã—å–ã£ãŸæŠ½è±¡çš„ãªãƒ¢ãƒ‡ãƒ«ï¼ˆåˆ†æãƒ¢ãƒ‡ãƒ«ï¼‰ã‚’ä½œã‚‹ã“ã¨ãŒæœ€å¤§ã®ç›®çš„ã§ã‚ã£ãŸã€‚\nã—ã‹ã—ã€é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºã«å…¥ã£ãŸæ™‚ã€åˆ†æãƒ¢ãƒ‡ãƒ«ã§ã¯ä¸å®Œå…¨ãªã“ã¨ãŒå¤šã‹ã£ãŸã€‚\nã‚ˆã£ã¦ã€é–‹ç™ºã§ä½¿ãˆã‚‹ã‚ˆã†ã«ä¿®æ­£ãŒåŠ ãˆã‚‰ã‚Œã€æœ€çµ‚çš„ã«ã¯åˆ†æãƒ¢ãƒ‡ãƒ«ã¨ã¯å…¨ãç•°ãªã‚‹ãƒ¢ãƒ‡ãƒ«ãŒã§ãã‚ãŒã‚‹ã€‚\nã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‹ãªã„ã¨åˆ†ã‹ã‚‰ãªã„ã“ã¨ã€å®Ÿéš›ã«ã‚·ã‚¹ãƒ†ãƒ ãŒä½¿ã‚ã‚Œå§‹ã‚ãªã„ã¨åˆ†ã‹ã‚‰ãªã„ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€å½“ç„¶ã®çµæœã§ã‚ã‚‹ã€‚\nè§£æ±ºç­–ï¼šæ”¹å–„ã®ãƒ«ãƒ¼ãƒ—ã‚’å›ãã† \u0026lt;17åˆ†20ç§’ãã‚‰ã„ã‹ã‚‰\u0026gt;\nåˆ†æãƒ¢ãƒ‡ãƒ«ã¨ã‚³ãƒ¼ãƒ‰é–“ã®ä¹–é›¢ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€\nåˆ†æãƒ¢ãƒ‡ãƒ«â†’é–‹ç™ºæ™‚ã®ãƒ¢ãƒ‡ãƒ«ã®ä¸€æ–¹é€šè¡Œã§ã¯ãªãã€\né–‹ç™ºæ™‚ã®ãƒ¢ãƒ‡ãƒ«â†”åˆ†æãƒ¢ãƒ‡ãƒ«ã®ã‚ˆã†ã«ä¸¡æ–¹å‘ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã™ã‚‹ã€‚\nãã—ã¦ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã‚‚ã¨ã«æ”¹å–„ã®ãƒ«ãƒ¼ãƒ—ã‚’å›ã—ã¦ã„ãã“ã¨ãŒé‡è¦ã€‚\nï¼ˆï¼ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºæ™‚ä»£ã®æ”¹å–„ãƒ«ãƒ¼ãƒ—ã®å›ã—æ–¹ï¼‰\nä»Šã¯ã‚ã¾ã‚Šåˆ†æãƒ¢ãƒ‡ãƒ«ã¨ã‚³ãƒ¼ãƒ‰é–“ã®ä¹–é›¢ãŒå•é¡Œã«ãªã‚‰ãªã„ \u0026lt;25åˆ†00ç§’ãã‚‰ã„ã‹ã‚‰\u0026gt;\nç¾åœ¨ã§ã¯ã‚ã¾ã‚Šåˆ†æãƒ¢ãƒ‡ãƒ«ã¨ã‚³ãƒ¼ãƒ‰é–“ã®ä¹–é›¢ãŒå•é¡Œã«ãªã‚‰ãªã„ã€‚\nç†ç”±ã¨ã—ã¦ã¯ã€åˆ†æãƒ¢ãƒ‡ãƒ«ã®ä½œæˆãƒ•ã‚§ãƒ¼ã‚ºï¼ˆãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã¨é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºã‚’æ‹…å½“ã™ã‚‹äººãŒåŒã˜ã«ãªã£ã¦ããŸã‹ã‚‰ã€‚\næ˜¨ä»Šã®é–‹ç™ºã§ã¯ã“ã†ã—ãŸé–‹ç™ºä½“åˆ¶ãŒæ™®é€šã«ãªã£ã¦ã„ã‚‹ã®ã§ã€\nãã‚‚ãã‚‚ä»Šã„ã‚‹å¤§åŠã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã¤ãã«ãã„äº‹è±¡ã§ã‚ã‚‹ã€‚\nã—ãŸãŒã£ã¦ã€ç¾åœ¨ã¯ã€DDDã¨è¨€ã‚ã‚Œã‚‹ã¨ãƒ“ã‚¸ãƒã‚¹å´ã¨é–‹ç™ºå´ã®ä¹–é›¢ã«æ³¨ç›®ãŒè¡ŒããŒã¡ã€‚\nã‚¨ãƒ´ã‚¡ãƒ³ã‚¹æœ¬ã‹ã‚‰å­¦ã¶ã¹ãå¤§äº‹ãªã“ã¨ \u0026lt;21åˆ†40ç§’ãã‚‰ã„ã‹ã‚‰\u0026gt;\nã‚³ãƒ¼ãƒ‰ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜é–“ã®ä¹–é›¢ã‚’ç„¡ãã—ã€\nä¸€è‡´ã•ã›ç¶šã‘ã‚‹åå¾©çš„ä½œæ¥­ã“ããŒå¤§äº‹ã§ã‚ã‚‹ã¨è¨´ãˆãŸã“ã¨ãŒã¨ã¦ã‚‚è‰¯ã‹ã£ãŸã€‚\nã¤ã¾ã‚Šã€å…ˆè¿°ã—ãŸã¨ãŠã‚Šã€\nãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒ åˆ†æãƒ¢ãƒ‡ãƒ«â†’é–‹ç™ºæ™‚ã®ãƒ¢ãƒ‡ãƒ«ã®ä¸€æ–¹é€šè¡Œ ã ã£ãŸã‚‚ã®ã‚’ é–‹ç™ºæ™‚ã®ãƒ¢ãƒ‡ãƒ«â†”åˆ†æãƒ¢ãƒ‡ãƒ«ã®ã‚ˆã†ãªä¸¡æ–¹å‘ ã«ã—ã‚ˆã†ã¨æå”±ã—ãŸã“ã¨ã“ããŒæœ€é‡è¦ã€‚\nã“ã“ã‚’æ„è­˜ã—ã¦å­¦ã¼ã†ï¼\n\u0026lt;33åˆ†00ç§’ãã‚‰ã„ã‹ã‚‰\u0026gt;\nãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã®éƒ¨åˆ†ï¼ˆ2éƒ¨ã€3éƒ¨ã‚ãŸã‚Šï¼‰ã¯ã‚‚ã¡ã‚ã‚“å¤§äº‹ã§ã‚ã‚‹ãŒã€\nã‚¨ãƒ´ã‚¡ãƒ³ã‚¹æœ¬ã®æœ¬è³ªçš„ãªéƒ¨åˆ†ã§ã¯ãªã„ã€‚\n","ref":"/blog/podcast-matome-texta-200827/"},{"title":"Goã®å‚ç…§æ¸¡ã—ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸ","date":"","description":"Goã§ã¯å…¨ã¦ãŒå€¤æ¸¡ã—","body":"Goã«ãŠã‘ã‚‹å‚ç…§æ¸¡ã—ï¼ãƒã‚¤ãƒ³ã‚¿ã®å€¤æ¸¡ã— Goã§ã¯é–¢æ•°ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã¨ãã€å…¨ã¦å€¤æ¸¡ã—ã§å®Ÿç¾ã•ã‚Œã¦ã„ã¾ã™ã€‚\nï¼ˆCæ´¾ç”Ÿã®è¨€èªã¯ã™ã¹ã¦ãã†ã‚‰ã—ã„ã§ã™ï¼‰\nã˜ã‚ƒã‚ã€å‚ç…§æ¸¡ã—ã£ã¦ä½•ï¼Ÿã£ã¦ãªã‚Šã¾ã™ã‚ˆã­ã€‚\nå‚ç…§æ¸¡ã—ï¼ãƒã‚¤ãƒ³ã‚¿ã®å€¤æ¸¡ã—ã§ã™ã€‚\nã¤ã¾ã‚Šã€ãƒã‚¤ãƒ³ã‚¿ãã®ã‚‚ã®ã‚’æ¸¡ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªãã€ãƒã‚¤ãƒ³ã‚¿ã®ã‚³ãƒ”ãƒ¼ã‚’æ¸¡ã—ã¦ã„ã¾ã™ã€‚\nå€¤æ¸¡ã—ã¨å‚ç…§æ¸¡ã—ã®å·®ã¯ã€å†…éƒ¨ã®å€¤ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‹ã©ã†ã‹ã§ã™ã€‚\nã“ã¡ã‚‰ã«ã¤ã„ã¦ã¯å¾Œã»ã©ä¾‹ã‚’äº¤ãˆã¦èª¬æ˜ã—ã¾ã™ã€‚\nä»Šå›ã®å†…å®¹ã¯Goå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã€Pointers and Allocationã€ ã®ç« ã« è©³ç´°ãªè¨˜è¼‰ãŒã‚ã‚Šã¾ã™ã€‚\næœ¬è¨˜äº‹ã§ã¯ã€ã€Pointers and Allocationã€ ã‹ã‚‰è¦ç‚¹ã‚’æŠœç²‹ã—ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\nå€¤æ¸¡ã—ã¨å‚ç…§æ¸¡ã—ã®é•ã„ã¯å†…éƒ¨å€¤ã®ã‚³ãƒ”ãƒ¼æœ‰ç„¡ ã¾ãšã¯ã€å…ˆè¿°ã—ãŸ\nå€¤æ¸¡ã—ã¨å‚ç…§æ¸¡ã—ã®å·®ã¯ã€å†…éƒ¨ã®å€¤ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‹ã©ã†ã‹ã§ã™ã€‚\nã«ã¤ã„ã¦è©³ã—ãè¦‹ã¦ã„ãã¾ã™ã€‚\nå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€When are function parameters passed by value?ã€ ã®ç¯€ã«ä»¥ä¸‹ã®è¨˜è¿°ãŒã‚ã‚Šã¾ã™ã€‚\nFor instance, passing an int value to a function makes a copy of the int, and passing a pointer value makes a copy of the pointer, but not the data it points to.\nãŸã¨ãˆã°ã€intå€¤ã‚’é–¢æ•°ã«æ¸¡ã™ã¨intã®ã‚³ãƒ”ãƒ¼ãŒä½œæˆã•ã‚Œã€ãƒã‚¤ãƒ³ã‚¿ãƒ¼å€¤ã‚’æ¸¡ã™ã¨ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã®ã‚³ãƒ”ãƒ¼ãŒä½œæˆã•ã‚Œã¾ã™ãŒã€ãƒã‚¤ãƒ³ã‚¿ãƒ¼ãŒæŒ‡ã™ãƒ‡ãƒ¼ã‚¿ã¯ä½œæˆã•ã‚Œã¾ã›ã‚“ã€‚\nã¤ã¾ã‚Šã€\nå€¤æ¸¡ã—ï¼šå€¤ã®ã‚³ãƒ”ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹ å‚ç…§æ¸¡ã—ï¼šãƒã‚¤ãƒ³ã‚¿ã®ã‚³ãƒ”ãƒ¼ã¯ä½œæˆã•ã‚Œã‚‹ãŒã€ãƒã‚¤ãƒ³ã‚¿ãŒæŒ‡ã™ãƒ‡ãƒ¼ã‚¿ï¼ˆå€¤ï¼‰ã®ã‚³ãƒ”ãƒ¼ã¯ä½œæˆã—ãªã„ ã¨ã„ã£ãŸå·®ãŒã‚ã‚Šã¾ã™ã€‚\nå›³ã«ã™ã‚‹ã¨ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nåŒã˜è‰²ã®ç®±ã¯ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒåŒã˜ã ã¨è€ƒãˆã¦ãã ã•ã„ã€‚\nï¼ˆå›³ãŒä¸‹æ‰‹ãªã¨ã“ã‚ã¯ã»ã£ã¨ã„ã¦ã‚ã’ã¦ãã ã•ã„ğŸ™‡â€â™‚ï¸ï¼‰\nå¤§ããªå·®ãŒã‚ã‚Šã¾ã™ã­ã€‚\nã“ã®å·®ã«ã‚ˆã‚Šã€ä¾‹ãˆã°ã€å¤šãã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã¤æ§‹é€ ä½“ã‚’é–¢æ•°ã®å¼•æ•°ã‚„ãƒ¬ã‚·ãƒ¼ãƒã¨ã—ã¦æ¸¡ã™å ´åˆã€\nå€¤æ¸¡ã—ã§ã¯å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚³ãƒ”ãƒ¼ãŒè¡Œã‚ã‚Œã¦ã—ã¾ã†ãŸã‚ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹çš„ã«è‰¯ããªã„ã¨ã„ã£ãŸé•ã„ãŒç”Ÿã¾ã‚Œã¦ãã¾ã™ã€‚\nç„¡é§„ãªã‚³ãƒ”ãƒ¼ã‚’è¡Œã‚ãªã„ãŸã‚ã«å…¨ã¦å‚ç…§æ¸¡ã—ã«ã—ã¨ã‘ã°ã„ã„ã‹ã€\nã¨ã„ã†ã¨ãã‚Œã¯ã¾ãŸåˆ¥ã§è€ƒæ…®ã™ã¹ãç‚¹ãŒå‡ºã¦ãã¾ã™ã€‚\nã€Œå€¤æ¸¡ã— ã¾ãŸã¯ å‚ç…§æ¸¡ã—ã®ã©ã¡ã‚‰ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€ã«ã¤ã„ã¦ã¯å¤šãã®è­°è«–ãŒãªã•ã‚Œã¦ã„ã¾ã™ã€‚\nGoå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€Should I define methods on values or pointers?ã€ Yury Pitsishinã€Pass by pointer vs pass by value in Goã€ pospomeã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ—¥è¨˜ã€golang ã® å¼•æ•°ã€æˆ»ã‚Šå€¤ã€ãƒ¬ã‚·ãƒ¼ãƒã‚’ãƒã‚¤ãƒ³ã‚¿ã«ã™ã¹ãã‹ã€å€¤ã«ã™ã¹ãã‹ã®åˆ¤æ–­åŸºæº–ã«ã¤ã„ã¦è¿·ã£ã¦ã„ã‚‹ã€ THE Finatext Tech Blogã€Goè¨€èªï¼ˆgolangï¼‰ã«ãŠã‘ã‚‹å€¤æ¸¡ã—ã¨ãƒã‚¤ãƒ³ã‚¿æ¸¡ã—ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿ã«ã¤ã„ã¦ã€ ã‚³ãƒ¼ãƒ‰ã§ç¢ºèª ã§ã¯ã€æœ€å¾Œã«ã“ã“ã¾ã§ã®å†…å®¹ã‚’ã‚³ãƒ¼ãƒ‰ã§ç¢ºèªã—ã¦çµ‚ã‚ã‚Šã¾ã™ã€‚\nplayground ä¸Šè¨˜ã®playgroundã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¾ã—ãŸã€‚\nï¼ˆã‚¢ãƒ‰ãƒ¬ã‚¹éƒ¨åˆ†ã¯å®Ÿè¡Œã”ã¨ã«ç•°ãªã‚Šã¾ã™ï¼‰\nmain()ã«ãŠã‘ã‚‹æ§‹é€ ä½“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š 0xc00010a040 main()ã«ãŠã‘ã‚‹nameã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š 0xc00010a040 PassByReference()ã«ãŠã‘ã‚‹æ§‹é€ ä½“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š 0xc000102020 PassByReference()ã«ãŠã‘ã‚‹nameã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š 0xc00010a040 PassByValue()ã«ãŠã‘ã‚‹æ§‹é€ ä½“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š 0xc00010a050 PassByValue()ã«ãŠã‘ã‚‹nameã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š 0xc00010a050 PassByReference()ãŒãƒ¬ã‚·ãƒ¼ãƒã‚’å‚ç…§æ¸¡ã—ã§å—ã‘å–ã‚‹é–¢æ•°ã§ PassByValue()ãŒãƒ¬ã‚·ãƒ¼ãƒã‚’å€¤æ¸¡ã—ã§å—ã‘å–ã‚‹é–¢æ•°ã§ã™ã€‚\nmain()ã¨PassByReference()ã‚’æ¯”è¼ƒã™ã‚‹ã¨ã€ä¸¡è€…ã®æ§‹é€ ä½“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒç•°ãªã£ã¦ã„ã¾ã™ã€‚\nHumanæ§‹é€ ä½“ãŒã‚‚ã¤nameãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã¤ã„ã¦ã¯åŒã˜ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚\nã¤ã¾ã‚Šã€ãƒ¬ã‚·ãƒ¼ãƒã®ãƒã‚¤ãƒ³ã‚¿ã¯ã‚³ãƒ”ãƒ¼ã—ãŸã‚‚ã®ã‚’å‚ç…§ã—ã¦ã„ã¾ã™ãŒã€\nãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã¯ã‚³ãƒ”ãƒ¼ã§ã¯ãªãã€main()ã§å®šç¾©ã—ãŸã‚‚ã®ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚\nå…ˆè¿°ã®å†…å®¹ã¨ä¸€è‡´ã—ã¾ã™ã­ã€‚\nä¸€æ–¹ã§ã€main()ã¨PassByValue()ã‚’æ¯”è¼ƒã™ã‚‹ã¨ã€\nä¸¡è€…ã®æ§‹é€ ä½“ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŠã‚ˆã³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒã™ã¹ã¦ç•°ãªã‚Šã¾ã™ã€‚\nã™ãªã‚ã¡ã€ãƒ¬ã‚·ãƒ¼ãƒã®ãƒã‚¤ãƒ³ã‚¿ãŠã‚ˆã³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã™ã¹ã¦ã®å€¤ã«é–¢ã—ã¦ã€ã‚³ãƒ”ãƒ¼ã—ãŸã‚‚ã®ã‚’å‚ç…§ã—ã¦ã„ã¾ã™ã€‚\nã“ã¡ã‚‰ã‚‚å…ˆè¿°ã®å†…å®¹ã¨ä¸€è‡´ã—ã¾ã™ã€‚\nç´å¾—ï¼\nã¡ãªã¿ã«ã€ãªãœã™ã¹ã¦å€¤æ¸¡ã—ã§å®Ÿç¾ã—ã¦ã„ã‚‹ã‹ã«ã¤ã„ã¦ã¯ã€\nå…ˆç¨‹ç´¹ä»‹ã—ãŸä¸‹è¨˜ã®è¨˜äº‹ã§è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nYury Pitsishinã€Pass by pointer vs pass by value in Goã€ â†’ã€ŒPassing by value often is cheaperã€ã®ç« \n","ref":"/blog/go-always-passing-by-value/"},{"title":"ã€Go+DDDã€‘ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿè£…æ–¹æ³•ï¼ˆè‡ªå·±æµï¼‰","date":"","description":"ã“ã‚“ãªæ„Ÿã˜ã§ã‚„ã£ã¦ã¾ã™","body":"Goã§DDD ä»Šæ‹…å½“ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Goã§APIã‚’ä½œã£ã¦ã„ã¾ã™ã€‚\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€DDDã®è€ƒãˆæ–¹ã‚„è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚å–ã‚Šå…¥ã‚Œã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯DDDã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸­ã§ã‚‚Entityã¨Value Objectï¼ˆVOï¼‰ã«ã¤ã„ã¦ã€\nåƒ•ãŒGoã§ã©ã†ã‚„ã£ã¦å®Ÿè£…ã—ã¦ã„ã‚‹ã®ã‹ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚\nå®Ÿè£…ä¾‹ å…ã«ã‚‚è§’ã«ã‚‚ã€ã¾ãšã¯ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚\n// animal/dog/dog.go package dog type Dog struct { name Name } func New(name string) (*Dog, error) { n, err := newName(name) if err != nil { return nil, err } return \u0026amp;Dog{ name: *n, }, nil } // animal/dog/name.go package dog import ( \u0026quot;errors\u0026quot; \u0026quot;unicode/utf8\u0026quot; ) type Name string func newName(v string) (*Name, error) { // åå‰ã¯3æ–‡å­—ä»¥ä¸Šã¨ã„ã†ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ if utf8.RuneCountInString(v) \u0026lt; 3 { return nil, errors.New(\u0026quot;åå‰ã¯3æ–‡å­—ä»¥ä¸Šï¼\u0026quot;) } n := Name(v) return \u0026amp;n, nil } // main.go package main import ( \u0026quot;fmt\u0026quot; \u0026quot;playground/animal/dog\u0026quot; ) func main() { // d := dog.Dog{name: \u0026quot;çŠ¬å¤ªéƒ\u0026quot;} ã§ããªã„ d, _ := dog.New(\u0026quot;çŠ¬å¤ªéƒ\u0026quot;) // ã§ãã‚‹ fmt.Printf(\u0026quot;%+v\\n\u0026quot;, d) d, err := dog.New(\u0026quot;çŠ¬\u0026quot;) if err != nil { fmt.Println(err) // çŠ¬ã®åå‰ãŒã€ŒçŠ¬ã€ã¯å¯æ„›ãã†ã ã‹ã‚‰ã§ããªã„() } } playground ä»Šå›ã®ä¾‹ã§ã¯ã€Dogã¨ã„ã†structãŒEntityã§ã€NameãŒVOã§ã™ã€‚\nDogã®nameã¯å¿…ãš3æ–‡å­—ä»¥ä¸Šã«ã™ã‚‹ã¨ã„ã†ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒã‚ã‚Šã¾ã™ã€‚\nãƒã‚¤ãƒ³ãƒˆ1 Entityã¨VOã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†ã‘ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ä¸¡è€…ã¯åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ç½®ã„ã¦ã„ã¾ã™ã€‚\nã©ã‚ŒãŒEntityã§ã©ã‚ŒãŒVOã‹åˆ†ã‹ã‚Šã¥ã‚‰ã„ã¨æ€ã‚ã‚Œã‚‹æ–¹ã‚‚ãŠã‚‰ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€\nå€‹äººçš„ã«ã¯è¨€ã†ã»ã©åˆ†ã‹ã‚Šã¥ã‚‰ãã‚ã‚Šã¾ã›ã‚“ã€‚\nãªãœã‹ã¨è¨€ã†ã¨ã€Entityã¨VOãŒå…¥ã£ã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰åã¨ã€\nEntityã®ãƒ•ã‚¡ã‚¤ãƒ«åãŒä¸€è‡´ã™ã‚‹ã‹ã‚‰ã§ã™ã€‚\nä»Šå›ã®ä¾‹ã§è¨€ãˆã°ã€\nDog Entityã¯/animal/dogãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®dog.goã®ä¸­ã«ã‚ã‚Šã¾ã™ã€‚\nãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã¨Entityã®ãƒ•ã‚¡ã‚¤ãƒ«åãŒä¸€è‡´ã—ã¦ã„ã¾ã™ã€‚\nã“ã®ãƒ«ãƒ¼ãƒ«ãŒåˆ†ã‹ã£ã¦ã„ã‚Œã°ã€ç‰¹ã«å•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nåŠ ãˆã¦ã€Entityã¨VOã¯åŒä¸€ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã«ã‚ã‚‹ã¹ãã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚\nãƒã‚¤ãƒ³ãƒˆ2 Dog Entityã®nameãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å°æ–‡å­—ã«ã™ã‚‹ã“ã¨ã§ã€\nNew()ï¼ˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿çš„ãªã®ï¼‰ã‚’ä½¿ç”¨ã—ãªã„ã¨ã€\nnameã®å€¤ã‚’ã‚»ãƒƒãƒˆã§ããªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nï¼ˆdog.Dog{name: \u0026quot;hoge\u0026quot;} ã¯ã§ããªã„ï¼‰\nã¾ãŸã€New()ã‚’çµŒç”±ã™ã‚‹ã“ã¨ã§ã€å¿…ãšnewName()ãŒä½¿ã‚ã‚Œã‚‹ ãŸã‚ã€\nDogã®nameã¯ 3æ–‡å­—ä»¥ä¸Šã«ã™ã‚‹ã¨ã„ã†ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç¢ºå®Ÿã«å®ˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nç¤¾å†…ã®æ–¹ã«ã€Œdog.Dog{} ã¯ã§ãã¡ã‚ƒã†ã­ã€ã¨ã‚³ãƒ¡ãƒ³ãƒˆã‚’ã„ãŸã ãã¾ã—ãŸã€‚\nã“ã®ä»¶ã«ã¤ã„ã¦ã¯ã€ï¼ˆé¡˜æœ›çš„ãªã¨ã“ã‚ã‚‚å…¥ã£ã¦ãã¦ã—ã¾ã†ã®ã§ã™ãŒï¼‰\nä¸ç”¨æ„ãªsetterã‚’ç”¨æ„ã—ã¦ã„ãªã‘ã‚Œã°ã€\nã€Œã‚ã‚Œï¼Ÿãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å€¤ã‚»ãƒƒãƒˆã§ããªã„ï¼ã€ã£ã¦ãªã‚‹ã¯ãšãªã®ã§ã€\nãã“ã§æ°—ã¥ã„ã¦ã‚‚ã‚‰ãˆã‚‹ã¨æ€ã£ã¦ã„ã¾ã™ã€‚ã€‚ã€‚\nï¼ˆã•ã™ãŒã«åˆæœŸåŒ–ã—ãŸã ã‘ã®æ§‹é€ ä½“ã‚’ä¿å­˜ã™ã‚‹ã‚ˆã†ãªã“ã¨ã¯ãªã„ã¨ä¿¡ã˜ã¦ã¾ã™ï¼‰\nãƒã‚¤ãƒ³ãƒˆ3 VOè‡ªä½“ã¯exportã—ã¾ã™ã€‚\nVOï¼ˆå‹ï¼‰ã‚’å¼•æ•°ã¨ã—ã¦æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã§ã“ã†ã—ã¦ã„ã¾ã™ã€‚\nexportã—ã¡ã‚ƒã†ã¨ã€dog.Name(\u0026quot;ã­ã“å¤ªéƒ\u0026quot;)ã¨ã™ã‚‹ã“ã¨ã§ã€\nä¸æ­£ãªnameã‚’ä½œã‚Œã‚‹ã®ã§ã¯ï¼Ÿã¨è€ƒãˆã‚‹æ–¹ã‚‚ãŠã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãŸã—ã‹ã«ä½œã‚Œã¾ã™ã€‚\nã—ã‹ã—ãªãŒã‚‰ã€ä¿å­˜ã¯Entityå˜ä½ã§è¡Œã†ãŸã‚ã€\nä¸æ­£ãªnameãŒEntityã«ã‚»ãƒƒãƒˆã§ããªã„ã‚ˆã†ã«ãªã£ã¦ã„ã‚Œã°ç„¡å•é¡Œã§ã‚ã‚‹ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚\nãƒã‚¤ãƒ³ãƒˆ4 VOâ†’åŸºæœ¬å‹ã¸ã®å¤‰æ›ãŒå¿…è¦ã«ãªã‚‹ã“ã¨ã¯ã€å¾€ã€…ã«ã—ã¦ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã“ã®ã¨ãå¿…è¦ã«ãªã‚‹ã€åŸºæœ¬å‹ã¸ã®å¤‰æ›å‡¦ç†ã¯VOè‡ªèº«ã«æŒãŸã›ã¦ã„ã¾ã™ã€‚\nï¼ˆã“ã“ã¯ç‰¹ã«è­°è«–ã®ä½™åœ°ãŒã‚ã‚‹ã¨æ€ã£ã¦ã„ã¾ã™ï¼‰\nä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’ã”è¦§ãã ã•ã„ã€‚\n// animal/dog/dog.go package dog type Dog struct { name Name } func New(name string) (*Dog, error) { n, err := newName(name) if err != nil { return nil, err } return \u0026amp;Dog{ name: *n, }, nil } func (d Dog) Name() *Name { return \u0026amp;d.name } // animal/dog/name.go package dog import ( \u0026quot;errors\u0026quot; \u0026quot;unicode/utf8\u0026quot; ) type Name string func newName(v string) (*Name, error) { // åå‰ã¯3æ–‡å­—ä»¥ä¸Šã¨ã„ã†ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ if utf8.RuneCountInString(v) \u0026lt; 3 { return nil, errors.New(\u0026quot;åå‰ã¯3æ–‡å­—ä»¥ä¸Šï¼\u0026quot;) } n := Name(v) return \u0026amp;n, nil } func (n Name) String() string { return string(n) } // main.go package main import ( \u0026quot;fmt\u0026quot; \u0026quot;playground/animal/dog\u0026quot; ) func main() { d, _ := dog.New(\u0026quot;çŠ¬å¤ªéƒ\u0026quot;) fmt.Println(d.Name().String()) } playground ã¾ãšã€Dog Entityã«ï¼ˆä¸æœ¬æ„ãªãŒã‚‰ï¼‰nameã®getterï¼ˆName()ï¼‰ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚\næ¬¡ã«ã€Name VOã«String()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚‚ãŸã›ã¾ã—ãŸã€‚\nãã—ã¦ã€å‘¼ã³å‡ºã—å…ƒã§ã¯ d.Name().String() ã¨ã™ã‚‹ã“ã¨ã§ã€\nåŸºæœ¬å‹ï¼ˆstringï¼‰ã¨ã—ã¦ã®nameã‚’å–å¾—ã§ãã¾ã™ã€‚\nDog Entityã«nameã®getterã‚’ç”¨æ„ã—ãŸã“ã¨ã«ã¤ã„ã¦ã€\nDTOã¸ã®å¤‰æ›ã‚„ãƒ¬ã‚¤ãƒ¤é–“ã§å€¤ã‚’å—ã‘æ¸¡ã™ã¨ããªã©ã«ã€\næ§‹é€ ä½“ã®è©°ã‚æ›¿ãˆãŒç™ºç”Ÿã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã“ã®ã¨ãã«ã€Goã®å ´åˆã©ã£ã¡ã¿ã¡getterãŒå¿…è¦ã«ãªã‚‹ã“ã¨ã§ã—ã‚‡ã†ã€‚\nã‚ˆã£ã¦ã€ã©ã†ã›å¿…è¦ã«ãªã‚‹ã“ã¨ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ã®ã§ç”¨æ„ã—ãŸå½¢ã«ãªã‚Šã¾ã™ã€‚\nãŸã ã—ã€ã“ã®getterã¯ã€\nå€¤ã®è©°ã‚æ›¿ãˆã‚„åŸºæœ¬å‹å–å¾—ã¨ã„ã£ãŸã€è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒãŸãªã„å‡¦ç†ã«ã®ã¿ä½¿ç”¨ã—ã€\nä¸ç”¨æ„ãªä½¿ã„æ–¹ã¯ã—ãªã„ã“ã¨ã‚’ é‹ç”¨ï¼ˆPRãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰ã§100%ã‚«ãƒãƒ¼ã™ã‚‹ã“ã¨å‰æã§è¨±å¯ã—ã¦ã„ã¾ã™ã€‚\nãƒ»ãƒ»ãƒ»\nç¢ºå®Ÿã«ã§ããªã„ã‚ˆã†ã«ã—ãŸæ–¹ãŒã„ã„ã‚“ã§ã—ã‚‡ã†ã­ã€‚ã€‚ã€‚\nè³›å¦ä¸¡è«–ã‚ã‚Šã¾ã™ã‚ˆã­ã€ã€ã€ã‚ã‹ã‚Šã¾ã™\nä»–ã®æ–¹æ³•ã¨ã—ã¦ã€Dog Entityã®Name()ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚‚ã§ãã¾ã™ã€‚\nfunc (d Dog) Name() string { return string(d.name) } ãŸã ã—ã€ã‚ã‚‹é–¢æ•°ã®å¼•æ•°ã¨ã—ã¦ã€Nameã¨ã„ã†VOï¼ˆå‹ï¼‰ã®ã¾ã¾æ¸¡ã—ãŸã„å ´åˆã€\nã“ã®æ–¹æ³•ã§ã¯å¯¾å¿œã§ãã¾ã›ã‚“ã€‚\nå¼•æ•°ã§æ¸¡ã™ç”¨ã®å€¤ï¼ˆVOã®ã¾ã¾ï¼‰ã‚’å–å¾—ã™ã‚‹å‡¦ç†ã¨ åŸºæœ¬å‹ã¨ã—ã¦ã®å€¤ã‚’å–å¾—ã™ã‚‹å‡¦ç†ã‚’åˆ¥é–¢æ•°ã¨ã—ã¦ç”¨æ„ã™ã‚‹ã®ãŒä¸€ç•ªã„ã„ã®ã‹ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚\nâ€¦ãŒã€ä»Šã®ã¨ã“ã‚ã€VOã«String()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒãŸã›ã‚‹æ–¹å¼ã§ç‰¹ã«å›°ã£ãŸã“ã¨ãŒãªã„ãŸã‚ã€\nã“ã®ã¾ã¾é€²ã‚ã¦ã„ã¾ã™ã€‚\nãŠã‚ã‚Šã« ã–ã£ã¨ãƒã‚¤ãƒ³ãƒˆã‚’æ´—ã„å‡ºã—ã¦ã¿ã¾ã—ãŸãŒã€\nå®Ÿè£…æ–¹æ³•ã‚’è€ƒãˆã¦ã„ãŸæ™‚æœŸã¨ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚æœŸãŒãšã‚Œã¦ã„ã‚‹ãŸã‚ã€\næ›¸ãå¿˜ã‚Œã¦ã„ã‚‹ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nãªã«ã‹æ€ã„å‡ºã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§è¿½è¨˜ã—ã¦ã„ãã¾ã™ã€‚\næœ€å¾Œã«ãŠé¡˜ã„ã§ã™ï¼\nGo+DDDã®äº‹ä¾‹ã¯ä»–ã®è¨€èªã«æ¯”ã¹ã‚‹ã¨ã¾ã ã¾ã å°‘ãªã„ã¨æ€ã„ã¾ã™ã€‚\nã‚ˆã£ã¦ã€åƒ•ã‚‚æ—¥ã€…ã€è©¦è¡ŒéŒ¯èª¤ã—ã€ã‚ˆã‚Šè‰¯ã„å®Ÿè£…æ–¹æ³•ã‚’æ¢ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›ç´¹ä»‹ã—ãŸå®Ÿè£…æ–¹æ³•ã«ã¯ã€ã¾ã ã¾ã æŠœã‘ã‚‚ã‚ã‚Œã°ã€ã‚ˆã‚Šè‰¯ã„å®Ÿè£…æ–¹æ³•ã‚‚ã‚ã‚‹ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚\nãªã®ã§ã€ã¿ãªã•ã‚“ã€ãœã²ã‚³ãƒ¡ãƒ³ãƒˆãã ã•ã„ï¼\nâ†’ Twitter ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€œ\n","ref":"/blog/go-ddd-entity-vo/"},{"title":"go test ã«ãŠã‘ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ¶ˆã—æ–¹","date":"","description":"çŸ¥ã£ã¦ãŠãã¨ä¾¿åˆ©","body":"go test ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ¶ˆã™ã®ã¯ç°¡å˜ $ go clean -testcache\nä»¥ä¸Šã§ã™ï¼\n$ go test ./... ok github.com/oxequa/realize\t(cached) ok github.com/oxequa/realize/realize\t(cached) ã“ã®ã‚ˆã†ã« (cached) ã¨ãªã£ã¦ã„ãŸã‚‚ã®ãŒã€ã€ã€\n$ go clean -testcache $ go test ./... ok github.com/oxequa/realize\t0.086s ok github.com/oxequa/realize/realize\t0.389s ã“ã®ã‚ˆã†ã«ã€å®Ÿè¡Œæ™‚é–“ãŒè¡¨ç¤ºã•ã‚Œã¦ãŠã‚Šã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ¶ˆãˆã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã­ã€‚\nã¡ãªã¿ã«ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡è¦–ã™ã‚‹æ–¹æ³•ã¯ã‚‚ã†ã²ã¨ã¤ã‚ã‚Šã€\nä»¥ä¸‹ã®ã‚ˆã†ã« -count=1 ã‚’ã¤ã‘ã¦ã‚„ã‚Œã°OKã§ã™ã€‚\n$ go test ./... -count=1 ok github.com/oxequa/realize\t0.076s ok github.com/oxequa/realize/realize\t0.384s ã“ã“ã‹ã‚‰ã¯ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ãŒä¸€ä½“ãªã«ã‚’ã—ã¦ãã‚ŒãŸã®ã‹ã€\nã‚‚ã†å°‘ã—è©³ç´°ã«è©±ã—ã¦ã„ãã¾ã™ã€‚\ngo clean ã¨ã¯ ã“ã¡ã‚‰ ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ã€‚\nClean removes object files from package source directories.\ngo clean ã¯ä¸Šè¨˜ã®ã¨ãŠã‚Šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¶ˆã—ã¦ãã‚Œã‚‹ã‚ã‘ã§ã™ã­ã€‚\n-testcache ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã¨ã€\nãƒ†ã‚¹ãƒˆã«é–¢ã™ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’æ¶ˆã—ã¦ãã‚Œã¾ã™ã€‚\nã§ã¯ã€æ¬¡ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ã‚¡ã‚¤ãƒ«ãŒã©ã“ã«ã‚ã‚‹ã®ã‹è¦‹ã¦ã„ãã¾ã™ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ã©ã“ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ï¼Ÿ ç’°å¢ƒå¤‰æ•° GOCACHE ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹å ´æ‰€ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚\nå‚è€ƒï¼šå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ count ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ æœ€å¾Œã«$ go test ./... -count=1 ã«ã‚ˆã£ã¦ã€\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–ã§ããŸç†ç”±ã«ã¤ã„ã¦ã§ã™ã€‚\nã“ã®è©±ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã«ã¦ã€\nã€Œæœ¬æ¥æ„å›³ã—ãŸä½¿ã„æ–¹ã§ã¯ãªã„ãŒã€ãã†ã„ã†ä½¿ã„æ–¹ã‚‚ã§ãã‚‹ã€\nãã‚‰ã„ã®ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ï¼ˆä»¥ä¸‹å‚ç…§ï¼‰\nThe idiomatic way to disable test caching explicitly is to use -count=1.\nãã‚‚ãã‚‚ã€countã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãã®åå‰ã®ã¨ãŠã‚Šã€ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–ã®ãŸã‚ã®ã‚‚ã®ã§ã¯ãªã„ã§ã™ã€‚\ncountã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ†ã‚¹ãƒˆã‚’æŒ‡å®šå›æ•°å®Ÿè¡Œã—ã€\nãã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å–ã‚‹ãŸã‚ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ï¼ˆä»¥ä¸‹å‚ç…§ï¼‰\n-count n\nRun each test and benchmark n times (default 1). If -cpu is set, run n times for each GOMAXPROCS value. Examples are always run once. ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å–ã‚‹ã®ã«ã‚ãŸã£ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ä¸è¦ã§ã‚ã‚‹ãŸã‚ã€\ncountã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã¤ãã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¾ã™ã€‚\nã“ã®ãƒ«ãƒ¼ãƒ«ã‚’å¿œç”¨ã—ã¦ã€-count=1ã¨ã™ã‚‹ã“ã¨ã§ã€\nãƒ†ã‚¹ãƒˆè‡ªä½“ã¯1å›ã—ã‹å®Ÿè¡Œã•ã‚Œãšã€ã‹ã¤ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ç„¡åŠ¹åŒ–ã—ã¦ã€\nãƒ†ã‚¹ãƒˆã‚’èµ°ã‚‰ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ã‘ã§ã™ã€‚\nãªã‚‹ã»ã©\n","ref":"/blog/go-test-cache-clear/"},{"title":"ã€Goã€‘jsonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®çŸ¥ã£ã¦ãŠãã¨ä¾¿åˆ©ãªæ©Ÿèƒ½","date":"","description":"","body":"jsonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ Goã‚’è§¦ã£ã¦ã‚‹äººãªã‚‰ã ã‚Œã‚‚ãŒä¸€åº¦ã¯ãŠä¸–è©±ã«ãªã‚‹ã§ã‚ã‚ã† ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€Œjson ã€\nä»Šå›ã¯ãã‚“ãª json ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¤ã„ã¦ã€\nçŸ¥ã£ã¦ãŠãã¨ä¾¿åˆ©ãªæ©Ÿèƒ½ã‚’2ã¤ç´¹ä»‹ã—ã¾ã™ã€‚\nï¼ˆæ¯”è¼ƒçš„æœ‰åãªã‚‚ã®ã—ã‹ãªã„ã§ã™ãŒğŸ™ï¼‰\n1. ç‹¬è‡ªã®å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã§ãã‚‹ ä¾‹ãˆã°ã€ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«ã€\nã‚ã‚‹æ§‹é€ ä½“ï¼ˆHumanï¼‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å¤–éƒ¨å…¬é–‹ã—ãŸããªã„å ´åˆã€\njsonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® Unmarshal()ï¼ŒMarshal() ãŒä½¿ãˆã¾ã›ã‚“ã€‚\nï¼ˆä¸Šè¨˜é–¢æ•°ã¯å¤–éƒ¨å…¬é–‹ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿å¤‰æ›ã§ãã‚‹ï¼‰\ntype Human struct { // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å¤–éƒ¨å…¬é–‹ã—ãŸããªã„ name string age int } func main() { h := Human{ name: \u0026quot;Taro\u0026quot;, age: 21, } // æ§‹é€ ä½“ â†’ JSON j, _ := json.Marshal(h) fmt.Println(string(j)) // {} // JSON â†’ æ§‹é€ ä½“ var uh Human _ = json.Unmarshal(j, \u0026amp;uh) fmt.Printf(\u0026quot;%+v\\n\u0026quot;, uh) // {name: age:0} } playgroud å®Ÿéš›ã«å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€ã†ã¾ãå¤‰æ›ã§ãã¦ã„ãªã„ã“ã¨ãŒåˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã•ã¦ã€ã“ã®ã¨ãã©ã†ã™ã‚Œã°æ­£ã—ãå¤‰æ›ã§ãã‚‹ã‹ã¨ã„ã†ã¨ã€\nå¤‰æ›å¯¾è±¡ã®æ§‹é€ ä½“ã«ä»¥ä¸‹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”Ÿã‚„ã—ã¦ã‚„ã‚Œã°OKã§ã™ã€‚\nMarshalJSON() ([]byte, error) UnmarshalJSON(data []byte) error type Human struct { // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å¤–éƒ¨å…¬é–‹ã—ãŸããªã„ name string age int } func (h Human) MarshalJSON() ([]byte, error) { type tmp struct { Name string `json:\u0026quot;name\u0026quot;` Age int `json:\u0026quot;age\u0026quot;` } t := tmp{ Name: h.name, Age: h.age, } return json.Marshal(t) } func (h *Human) UnmarshalJSON(data []byte) error { type tmp struct { Name string `json:\u0026quot;name\u0026quot;` Age int `json:\u0026quot;age\u0026quot;` } var t tmp _ = json.Unmarshal(data, \u0026amp;t) h.name = t.Name h.age = t.Age return nil } func main() { h := Human{ name: \u0026quot;Taro\u0026quot;, age: 21, } // æ§‹é€ ä½“ â†’ JSON j, _ := json.Marshal(h) fmt.Println(string(j)) // {\u0026quot;name\u0026quot;:\u0026quot;Taro\u0026quot;,\u0026quot;age\u0026quot;:21} // JSON â†’ æ§‹é€ ä½“ var uh Human _ = json.Unmarshal(j, \u0026amp;uh) fmt.Printf(\u0026quot;%+v\\n\u0026quot;, uh) // {name:Taro age:21} } playgroud ã†ã¾ãå¤‰æ›ã§ãã¾ã—ãŸã­ğŸ‘\nã“ã®ã‚ˆã†ã«ã€Marshal() ã¨ Unmarhsal() ã¯ å¯¾è±¡ã®æ§‹é€ ä½“ã«ç”Ÿãˆã¦ã„ã‚‹ MarshalJSON() ã¨ UnmarhsalJSON() ã‚’è¦‹ã«è¡Œã£ã¦ãã‚Œã‚‹ã‚ã‘ã§ã™ã€‚\nGoã®å†…éƒ¨å®Ÿè£…ã‚’è¿½ã„ã‹ã‘ãŸã‘ã‚Œã°â€¦ å¯¾è±¡ã®æ§‹é€ ä½“ã«ç”Ÿãˆã¦ã„ã‚‹ MarshalJSON() ã¨ UnmarhsalJSON() ã‚’è¦‹ã«è¡Œã£ã¦ãã‚Œã‚‹ã‚ã‘ã§ã™ã€‚\nå…ˆè¿°ã—ãŸâ†‘ã“ã®éƒ¨åˆ†ãŒã©ã†ã„ã†ä»•çµ„ã¿ã«ãªã£ã¦ã„ã‚‹ã®ã‹ã¯ã€\njson/encode.go ã‚’è¦‹ã‚Œã°ã‚ã‹ã‚Šã¾ã™ã€‚\nâ†’ 494è¡Œç›®ã‚‰ã¸ã‚“ã¨ã‹ã¨ã‹ ä½¿ã„ã¿ã¡ã„ã‚ã„ã‚ ä»Šå›ç´¹ä»‹ã—ãŸä¾‹ä»¥å¤–ã«ã‚‚ã€\nä¸‹è¨˜è¨˜äº‹ã®ã‚ˆã†ã«æ™‚é–“å½¢å¼ã‚’å¤‰æ›´ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ä¾‹ã‚‚ã‚ã‚Šã¾ã™ã€‚\næ™‚é–“å½¢å¼ã®å¤‰æ›´ 2. æ§‹é€ ä½“ãªã—ã§ã‚‚å¤‰æ›ã§ãã‚‹ å®Ÿã¯JSONã®å¤‰æ›å‡¦ç†ã¯ã€æ§‹é€ ä½“ã‚’ãã£ã¡ã‚Šå®šç¾©ã—ã¦ã‚„ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nä»¥ä¸‹ã«ç¤ºã™ã¨ãŠã‚Šã€\ninterface{} ã‚’ä½¿ã†ã¨ã€map[string]interface{} ã«å¤‰æ›ã—ã¦ãã‚Œã¾ã™ã€‚\nfunc main() { // ã©ã‚“ãªå†…å®¹ã‹åˆ†ã‹ã‚‰ãªã„JSON mysteriousJSON := \u0026quot;{\\\u0026quot;name\\\u0026quot;: \\\u0026quot;Taro\\\u0026quot;, \\\u0026quot;age\\\u0026quot;: 21}\u0026quot; var i interface{} _ = json.Unmarshal([]byte(mysteriousJSON), \u0026amp;i) for k, v := range i.(map[string]interface{}) { fmt.Printf(\u0026quot;%s: %v\\n\u0026quot;, k, v) // ã‚­ãƒ¼ãƒ»ãƒãƒªãƒ¥ãƒ¼ã®ã‚»ãƒƒãƒˆã‚’å–å¾—ã§ãã‚‹ } } playground å¾Œã¯ã€mapã«å¯¾ã—ã¦ã‚ˆã—ãªã«å‡¦ç†ã—ã¦ã‚„ã‚Œã°OKã§ã™ã€‚\nã‚„ã¯ã‚Šã€ã¡ã‚ƒã‚“ã¨æ§‹é€ ä½“ã‚’ä½œã£ã¦ã€\nãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§å‹ã‚’æŒ‡å®šã—ã¦ã‚„ã‚‹ã®ãŒç†æƒ³ã ã¨æ€ã„ã¾ã™ã€‚\nã—ã‹ã—ã€æ­£å¸¸æ™‚ã¨ç•°å¸¸æ™‚ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ãŒå¤§ããå¤‰ã‚ã‚‹å ´åˆãªã©ã¯ã€\nä¸€æ—¦ã€mapå‹ã«å¤‰æ›ã—ã¦ã€æ­£å¸¸æ™‚ç”¨ã‹ç•°å¸¸æ™‚ç”¨ã‹ã‚’åˆ¤æ–­ã™ã‚‹ã®ã‚‚ã‚ã‚Šã‹ãªã¨æ€ã„ã¾ã™ã€‚\næ­£å¸¸æ™‚ã¨ç•°å¸¸æ™‚ã®ä¸¡æ–¹ã«å¯¾å¿œã§ãã‚‹ã§ã£ã‹ã„æ§‹é€ ä½“ã‚’ä½œã£ã¦ã‚‚ã„ã„ã§ã™ãŒã€\nç„¡é§„ãŒå¤šããªã‚ŠãŒã¡ã§ã™ã—ã­ã€‚\nãã®çŠ¶æ³ã«åˆã‚ã›ã¦ã€ä½¿ã„åˆ†ã‘ã‚Œã‚‹ã¨è‰¯ã•ãã†ã§ã™ã­ğŸ‘\nã¿ãªã•ã‚“ã©ã†ã—ã¦ã„ã‚‹ã®ã‹èã„ã¦ã¿ãŸã„ã§ã™ã­ã€œ\nã¾ã¨ã‚ çŸ¥ã£ã¦ã„ã‚Œã°ã©ã†ã£ã¦ã“ã¨ãªã„æ©Ÿèƒ½ã§ã™ãŒã€\nçŸ¥ã‚‰ãªã‘ã‚Œã°ãƒãƒã‚Šã©ã“ã‚ã«ãªã‚‹ã¨ã“ã‚ã§ã™ã‚ˆã­ã€‚\nGoåˆå­¦è€…ã®æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\n","ref":"/blog/go-json-tips/"},{"title":"ã€Goã€‘errorã®åŒå€¤æ€§ã¨è¡¨ç¤ºã«ã¤ã„ã¦èª¿ã¹ãŸ","date":"","description":"errorã«é–¢ã™ã‚‹ã¡ã‚‡ã£ã¨ã—ãŸãƒ¡ãƒ¢","body":"errorã«ã¤ã„ã¦ç–‘å•ãŒã‚ã£ãŸ Goã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã¦ã€ãµã¨æ°—ã«ãªã£ãŸã“ã¨ãŒã‚ã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nerrorã®åŒå€¤æ€§ 1ã¤ç›®ã®ç–‘å•ã¯ã€ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã§ e1 ã¨ e2 ãŒã‚¤ã‚³ãƒ¼ãƒ«ã§ã¯ãªã„ã“ã¨ã§ã™ã€‚ ï¼ˆåŒå€¤æ€§ãªã‚“ã¦ä»°ã€…ã—ãè¨€ã£ã¦ã™ã¿ã¾ã›ã‚“ã€‚ãŸã£ãŸã“ã‚Œã ã‘ã®ç–‘å•ã§ã™ğŸ˜‡ğŸ™‡â€â™‚ï¸ï¼‰\nfunc main() { e1 := errors.New(\u0026quot;error1\u0026quot;) e2 := errors.New(\u0026quot;error1\u0026quot;) e3 := e1 fmt.Println(e1 == e2) // false fmt.Println(e1 == e3) // true } Playground çµè«–ï¼ˆerrorã®åŒå€¤æ€§ï¼‰ errors.New() ãŒè¿”ã—ã¦ã„ã‚‹ã®ãŒãƒã‚¤ãƒ³ã‚¿ã§ã—ãŸã€‚\nã¤ã¾ã‚Šã€ã•ãã»ã©ã®ã‚³ãƒ¼ãƒ‰ã®6è¡Œç›®ã¯ãƒã‚¤ãƒ³ã‚¿ã®å€¤ã‚’æ¯”è¼ƒã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Šã‚ƒfalseã«ãªã‚Šã¾ã™ã­ã€‚\nerrorã®è¡¨ç¤º 2ã¤ç›®ã®ç–‘å•ã¯ã€ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã§ e1 ã‚’è¡¨ç¤ºã™ã‚‹ã¨ã€\nerrors.New()ã®æˆ»ã‚Šå€¤ã§ã‚ã‚‹æ§‹é€ ä½“ã®å€¤ã§ã¯ãªãã€ã‚¨ãƒ©ãƒ¼æ–‡è¨€ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã§ã™ã€‚\npackage main import ( \u0026quot;fmt\u0026quot; \u0026quot;errors\u0026quot; ) func main() { e1 := errors.New(\u0026quot;error1\u0026quot;) fmt.Println(e1) // error1 } Playground errors.New()ãŒè¿”ã—ã¦ã„ã‚‹ã®ã¯æ§‹é€ ä½“ãªã®ã§ã€\nä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«æ§‹é€ ä½“ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œãªã„ã®ã¯ãªã‚“ã§ã ï¼Ÿã£ã¦ãªã£ãŸã‚ã‘ã§ã™ã€‚\npackage main import \u0026quot;fmt\u0026quot; func Hoge() interface{} { type hoge struct { s string } return \u0026amp;hoge{s: \u0026quot;hoge\u0026quot;} } func main() { h := Hoge() fmt.Println(h) // \u0026amp;{hoge} } Playground ã¾ãã€ã ã„ãŸã„äºˆæƒ³ã¯ã¤ã„ã¦ã„ã¾ã™ã€‚\nerrorã£ã¦Goã®ä¸­ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‚„ã¤ãªã®ã§ã€ç‰¹åˆ¥ãªå‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‚“ã§ã—ã‚‡ã†ï¼ˆå‚è€ƒ ï¼‰\nå•é¡Œã¯ãã®å‡¦ç†ãŒã©ã“ã«ã‚ã‚‹ã®ã‹ã£ã¦ã“ã¨ã§ã™ã­ã€‚\nã£ã¦ã“ã¨ã§ã€è©²å½“ç®‡æ‰€ã‚’æ¢ã—ã¾ã™ã€‚\nãƒ»\nãƒ»\nãƒ»\nã‚ã‚Šã¾ã—ãŸã€‚\nã“ã“ ã§ã™ã­ã€‚\np.fmtString(v.Error(), verb) Error() ã§å–ã‚Šå‡ºã—ãŸå€¤ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã­ã€‚\nã¨ã„ã†ã“ã¨ã¯ã€ã€ã€\npackage main import ( \u0026quot;fmt\u0026quot; ) type CustomError struct { s string } func (e CustomError) Error() string { return e.s + \u0026quot; ã“ã®æ–‡ç« ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãš\u0026quot; } func NewCustomError(s string) error { return \u0026amp;CustomError{s: s} } func main() { ce1 := NewCustomError(\u0026quot;custom error 1\u0026quot;) fmt.Println(ce1) // custom error 1 ã“ã®æ–‡ç« ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãš } Playground ãŸã—ã‹ã«ã€Error() é–¢æ•°ã«å¤‰æ›´ã‚’å…¥ã‚Œã‚‹ã¨ã€è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹ã‚‚å¤‰ã‚ã‚Šã¾ã—ãŸã­ã€‚\nçµè«–ï¼ˆerrorã®è¡¨ç¤ºï¼‰ errorã«é–¢ã—ã¦ã¯ã€ç‰¹åˆ¥ãªå‡¦ç†ãŒå…¥ã£ã¦ã„ã¦ã€Error()ã§å–å¾—ã—ãŸæ–‡å­—åˆ—ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã€‚\n","ref":"/blog/error_questions/"},{"title":"ã€Goã€‘errorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸­èº«è¦—ã„ã¦ã¿ãŸ","date":"","description":"ä»Šå›ã¯ Unwrap()ï¼ŒIs()ï¼ŒAs() ã«ã¤ã„ã¦ãŠå±Šã‘","body":"errorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«èˆˆå‘³æŒã£ãŸ v1.13ã‹ã‚‰errorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã« Unwrap() Is() As() ã¨ã„ã£ãŸé–¢æ•°ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚\nï¼ˆã‚‚ã†1.14ã‚‚ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã‚‹ã®ã«ä»Šã•ã‚‰ã§ã™ã­ğŸ˜‡ï¼‰\nä»Šå›ã¯ã“ã‚Œã‚‰3ã¤ã®é–¢æ•°ã«ã¤ã„ã¦ã€å†…éƒ¨å®Ÿè£…ã‚’è¿½ã„ã‹ã‘ã¦ã„ãã¾ã™ã€‚\nã¨ã€ãã®å‰ã«ã€errorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ¦‚è¦ã¨é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¤ã„ã¦è»½ãèª¬æ˜ã—ã¦ãŠãã¾ã™ã€‚\nerrorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ errorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ åå‰ã®é€šã‚Šã€ã‚¨ãƒ©ãƒ¼é–¢é€£ã®å‡¦ç†ãŒã¾ã¨ã¾ã£ã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã­ã€‚\nGoã®æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚\nâ†’ GoDoc v1.13ã«ã¦ã€å…ˆè¿°ã® Unwrap() Is() As() ã¨ã„ã†é–¢æ•°ãŸã¡ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚\nerrorã‚’æ‰±ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ã€ã‚‚ã†ã²ã¨ã¤æœ‰åãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã™ã€‚\nxerrorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚\nxerrorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ xerrors ã¨ã¯ã€ Goã®ã‚µãƒ–ãƒªãƒã‚¸ãƒˆãƒª ã§é–‹ç™ºãŒé€²ã‚ã‚‰ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚\nï¼ˆæº–æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã„ã£ãŸæ„Ÿã˜ã§ã—ã‚‡ã†ã‹ï¼‰\nxerrorsã®GoDoc ã«ä¸‹è¨˜ã®è¨˜è¿°ãŒã‚ã‚‹é€šã‚Šã€\nThese functions were incorporated into the standard library\u0026rsquo;s errors package in Go 1.13: - Is - As - Unwrap\nã‚‚ã¨ã‚‚ã¨ã¯æœ¬ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã« Unwrap() Is() As() ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€\nv1.13ã«ã¦æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å–ã‚Šè¾¼ã¾ã‚Œã¾ã—ãŸã€‚\nã•ã¦ã€è»½ãerroré–¢é€£ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¤ã„ã¦è§¦ã‚ŒãŸã¨ã“ã‚ã§ã€\næ—©é€Ÿã€Unwrap() Is() As() ã®å†…éƒ¨å®Ÿè£…ã‚’è¦‹ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nãªãŠã€Goã®ã‚³ãƒ¼ãƒ‰ã¯v1.14.0ã‚’å‚ç…§ã—ã¦ã„ã¾ã™ã€‚\nUnwrap() ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ã‹ã‚‰ä¸­èº«ã®ã‚¨ãƒ©ãƒ¼ã‚’å–ã‚Šå‡ºã™é–¢æ•°ã§ã™ã€‚\nå‡¦ç†ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nfunc Unwrap(err error) error { u, ok := err.(interface { Unwrap() error }) if !ok { return nil } return u.Unwrap() } https://golang.org/src/errors/wrap.go?s=372:400#L14 ã±ã£ã¨è¦‹ã ã¨ã€ã‚“ï¼Ÿã£ã¨ãªã£ã¦ã—ã¾ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€\nä¸‹è¨˜ã®ã‚ˆã†ã«å‡¦ç†ã‚’åˆ†è§£ã—ã¦ã‚„ã‚‹ã¨ã€ç‰¹åˆ¥é›£ã—ã„ã“ã¨ã¯ä½•ã‚‚ã—ã¦ã„ãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nfunc Unwrap(err error) error { // ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ type wrapErrInterface interface { Unwrap() error } // å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚Šã€ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ u, ok := err.(wrapErrInterface) if !ok { return nil } return u.Unwrap() } å‡¦ç†ã‚’é †ã«è¿½ã£ã¦ã„ãã¨ã€ 7è¡Œç›®ã§å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”¨ã„ã¦ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã€ æº€ãŸã—ã¦ã„ãªã‘ã‚Œã°ï¼ˆok == falseï¼‰nilã‚’è¿”ã—ã¾ã™ã€‚\næº€ãŸã—ã¦ã„ã‚Œã°ï¼ˆok == trueï¼‰å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ Unwrap() ã‚’å‡¦ç†ã—ã¾ã™ã€‚\nã“ã“ã§æ³¨æ„ã§ã™ãŒã€ 12è¡Œç›®ã® Unwrap() ã¯ä»Šã¾ã§è©±ã«å‡ºã¦ãã¦ã„ãŸ errors.Unwrap() ã¨ã¯å…¨ãã®åˆ¥ç‰©ã§ã™ã€‚\nã§ã¯ã€12è¡Œç›®ã® Unwrap() ã¯ã©ã“ã«ã‚ã‚‹ã®ã‹ã€‚\nç­”ãˆã¯errorã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹å‡¦ç†ã®ã¨ã“ã‚ã«ã‚ã‚Šã¾ã™ã€‚\nerrorã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹é–¢æ•° errorã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹é–¢æ•°ã§ã‚ã‚‹ fmt.Errorf() ã®ä¸­èº«ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nfunc Errorf(format string, a ...interface{}) error { p := newPrinter() p.wrapErrs = true p.doPrintf(format, a) s := string(p.buf) var err error if p.wrappedErr == nil { err = errors.New(s) } else { err = \u0026amp;wrapError{s, p.wrappedErr} } p.free() return err } https://golang.org/src/fmt/errors.go?s=624:674#L17 10è¡Œç›®ã§ã€wrapError ã¨ã„ã†æ§‹é€ ä½“ã‚’è¿”ã—ã¦ã„ã¾ã™ã­ã€‚\nå®£è¨€ç®‡æ‰€ã«é£›ã‚“ã§ã¿ã¾ã—ã‚‡ã†ã€‚\ntype wrapError struct { msg string err error } func (e *wrapError) Error() string { return e.msg } func (e *wrapError) Unwrap() error { return e.err } https://golang.org/src/fmt/errors.go#L32 Unwrap() ãŒã‚ã‚Šã¾ã—ãŸã€‚\nã¾ãšã€wrapErroræ§‹é€ ä½“ã§ã™ãŒã€æœ¬æ§‹é€ ä½“ã¯errãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã£ã¦ãŠã‚Šã€ã“ã“ã«ãƒ©ãƒƒãƒ—ã™ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’æ ¼ç´ã—ã¦ã„ã¾ã™ã€‚\nï¼ˆã•ãã»ã©è¦‹ãŸ Errorf() ã®å†…éƒ¨å‡¦ç†ã§ã¯ã€10è¡Œç›®ã«ã¦wrapErrorãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ï¼‰\nUnwrap()ã¯wrapErroræ§‹é€ ä½“ã®errãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€ã™ãªã‚ã¡ã€ãƒ©ãƒƒãƒ—ã—ã¦ã„ãŸã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã­ã€‚\nä»¥ä¸Šã€errors.Unwrap() ã®å†…éƒ¨å®Ÿè£…ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã—ãŸã€‚\nã©ã‚“ã©ã‚“è¡Œãã¾ã—ã‚‡ã†ã€‚\nIs() æ¬¡ã¯ Is() ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚\næœ¬é–¢æ•°ã¯2ã¤ã®ã‚¨ãƒ©ãƒ¼ãŒåŒã˜ã‚¨ãƒ©ãƒ¼ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚\nã¾ãŸã€æ¯”è¼ƒå…ƒï¼ˆç¬¬ä¸€å¼•æ•°ï¼‰ã®ã‚¨ãƒ©ãƒ¼ãŒãƒ©ãƒƒãƒ—ã—ãŸã‚¨ãƒ©ãƒ¼ã ã£ãŸã¨ã—ã¦ã‚‚ã€\næœ€å¾Œã¾ã§Unwrapã—ã¦æ¯”è¼ƒã—ã¦ãã‚Œã¾ã™ã€‚\nå‡¦ç†ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\nfunc Is(err, target error) bool { if target == nil { return err == target } isComparable := reflectlite.TypeOf(target).Comparable() for { if isComparable \u0026amp;\u0026amp; err == target { return true } if x, ok := err.(interface{ Is(error) bool }); ok \u0026amp;\u0026amp; x.Is(target) { return true } if err = Unwrap(err); err == nil { return false } } } è¦ã¨ãªã‚‹å‡¦ç†ã¯7ã€œ20è¡Œæ˜ã®foræ–‡å†…ã®å‡¦ç†ã§ã™ã€‚\nã¾ãšã¯ã€8,9è¡Œç›®ã«ã¦å˜ç´”ã«ã‚¨ãƒ©ãƒ¼åŒå£«ã®æ¯”è¼ƒã‚’ã—ã¦ã„ã¾ã™ã€‚\nã“ã“ã§ä¸€è‡´ã™ã‚Œã° return true ã§ã™ã­ã€‚\næ¬¡ã«11è¡Œç›®ã§ã€å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆ©ç”¨ã—ã¦ errãŒ Is(error) bool ã¨ã„ã†é–¢æ•°ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã¾ã™ã€‚\nã“ã®ãƒã‚§ãƒƒã‚¯å‡¦ç†ã¯ã€ ç‹¬è‡ªã®åŒå€¤åˆ¤å®šå‡¦ç†ãŒãªã„ã‹ç¢ºèªã—ã€ã‚ã‚‹å ´åˆã¯ãã®åŒå€¤åˆ¤å®šå‡¦ç†ã‚’ä½¿ç”¨ã—ã¦åˆ¤å®šã‚’è¡Œã†\nãŸã‚ã«ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\nIs(error) bool ã®å®Ÿè£…ä¾‹ãŒå…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã«ã‚ã‚Šã¾ã™ã€‚\nâ†“â†“â†“\nfunc (m MyError) Is(target error) bool { return target == os.ErrExist } ç‹¬è‡ªã®ã‚¨ãƒ©ãƒ¼å‹ã‚’å®šç¾©ã™ã‚‹ã¨ãã«å½¹ç«‹ã¡ãã†ã§ã™ã­ã€‚\nã§ã¯ã€æœ€å¾Œã«15è¡Œç›®ã‹ã‚‰ã®å‡¦ç†ã§ã™ã€‚\nã“ã“ã¯errã‚’Unwrapã™ã‚‹å‡¦ç†ã§ã™ã­ã€‚\nï¼ˆã“ã®Unwrap()ã¯å‰ç« ã§èª¬æ˜ã—ãŸé–¢æ•°ã§ã™ï¼‰\nã¤ã¾ã‚Šã€\nisComparable \u0026amp;\u0026amp; err == target\nãŠã‚ˆã³\nx, ok := err.(interface{ Is(error) bool }); ok \u0026amp;\u0026amp; x.Is(target)\nã®ä¸¡æ¡ä»¶ã«è©²å½“ã—ãªã‹ã£ãŸå ´åˆã¯ã€errã®ä¸­ã«ã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’æŠœãå–ã‚Šã€\nãã®ã‚¨ãƒ©ãƒ¼ã«å¯¾ã—ã¦ã€forãƒ«ãƒ¼ãƒ—ã®æœ€åˆã‹ã‚‰å‡¦ç†ã—ã¦ã„ãã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nã“ã®æœ€å¾Œã®Unwrap()ã«ã‚ˆã‚Šã€æœ¬ç« å†’é ­ã«è¿°ã¹ãŸ\nã¾ãŸã€æ¯”è¼ƒå…ƒï¼ˆç¬¬ä¸€å¼•æ•°ï¼‰ã®ã‚¨ãƒ©ãƒ¼ãŒãƒ©ãƒƒãƒ—ã—ãŸã‚¨ãƒ©ãƒ¼ã ã£ãŸã¨ã—ã¦ã‚‚ã€\næœ€å¾Œã¾ã§Unwrapã—ã¦æ¯”è¼ƒã—ã¦ãã‚Œã¾ã™ã€‚\nã¨ã„ã†ã®ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ã‚ã‘ã§ã™ã­ã€‚\nAs() æœ€å¾Œã« As() ã§ã™ã€‚\næœ¬é–¢æ•°ã¯ã€ç¬¬ä¸€å¼•æ•°ã®ã‚¨ãƒ©ãƒ¼ãŒç¬¬äºŒå¼•æ•°ã®ã‚¨ãƒ©ãƒ¼ã«ä»£å…¥å¯èƒ½ã§ã‚ã‚Œã°ä»£å…¥ã—ã€trueã‚’è¿”ã—ã¾ã™ã€‚\nä»£å…¥ã§ããªã„å ´åˆã¯falseãŒè¿”ã•ã‚Œã¾ã™ã€‚\nç¬¬äºŒå¼•æ•°ã¯ãƒã‚¤ãƒ³ã‚¿å‹ãªã®ã§ã€targetã«é–¢ã—ã¦å‰¯ä½œç”¨ã‚’å«ã‚€é–¢æ•°ã§ã™ã€‚\nãã‚Œã§ã¯å†…éƒ¨å®Ÿè£…ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚\nfunc As(err error, target interface{}) bool { if target == nil { panic(\u0026quot;errors: target cannot be nil\u0026quot;) } val := reflectlite.ValueOf(target) typ := val.Type() if typ.Kind() != reflectlite.Ptr || val.IsNil() { panic(\u0026quot;errors: target must be a non-nil pointer\u0026quot;) } if e := typ.Elem(); e.Kind() != reflectlite.Interface \u0026amp;\u0026amp; !e.Implements(errorType) { panic(\u0026quot;errors: *target must be interface or implement error\u0026quot;) } targetType := typ.Elem() for err != nil { if reflectlite.TypeOf(err).AssignableTo(targetType) { val.Elem().Set(reflectlite.ValueOf(err)) return true } if x, ok := err.(interface{ As(interface{}) bool }); ok \u0026amp;\u0026amp; x.As(target) { return true } err = Unwrap(err) } return false } var errorType = reflectlite.TypeOf((*error)(nil)).Elem() foræ–‡ã¨ errors.Unwrap() ã‚’ä½¿ã£ã¦ ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ã®ä¸­èº«ã‚’å–ã‚Šå‡ºã—ã¦ã„ãã‚ãŸã‚Šã¯ Is() ã¨åŒã˜ã§ã™ã­ã€‚\nåŠ ãˆã¦ã€19è¡Œç›®ã§ç‹¬è‡ªå®šç¾©ã® As() ã‚’ä½¿ç”¨ã§ãã‚‹ã¨ã“ã‚ã‚‚ Is() ã¨åŒã˜ã§ã™ã€‚\nç‰¹å¾´çš„ãªã®ã¯ã€5ã€œ18è¡Œç›®ã®éƒ¨åˆ†ã«ãªã‚Šã¾ã™ã€‚\nã¾ãšã€5ï¼Œ6è¡Œç›®ã§reflectliteã‚’ä½¿ã£ã¦ç¬¬äºŒå¼•æ•°ã®targetã®æ§‹é€ ã‚’èª­ã¿å–ã£ã¦ã„ã¾ã™ã€‚\nreflectliteã¯reflectãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è»½é‡ç‰ˆã§ã€\nruntimeãŠã‚ˆã³unsafeä»¥å¤–ã§ã®ä½¿ç”¨ã¯åŸºæœ¬çš„ã«ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚ \u0026raquo; å‚è€ƒ ãã—ã¦ã€targetãŒãƒã‚¤ãƒ³ã‚¿ã§ã‚ã‚‹ã€ã‹ã¤ã€nilã§ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\næœ¬ç« å†’é ­ã§ã‚‚è¿°ã¹ã¾ã—ãŸãŒã€\næœ€çµ‚çš„ã«ï¼ˆä»£å…¥å¯èƒ½ã§ã‚ã‚Œã°ï¼‰ç¬¬ä¸€å¼•æ•°ã®errã¯ç¬¬äºŒå¼•æ•°ã®targetã«æ ¼ç´ã—ã¾ã™ã€‚\nã¤ã¾ã‚Šã€æˆ»ã‚Šå€¤ã§targetã«æ ¼ç´ã—ãŸã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã®ã§ã¯ãªãã€targetï¼ˆãƒã‚¤ãƒ³ã‚¿ï¼‰çµŒç”±ã§ã§ãã‚ãŒã£ãŸã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¾ã™ã€‚\nã—ãŸãŒã£ã¦ã€ãƒã‚¤ãƒ³ã‚¿ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nåŠ ãˆã¦ã€10è¡Œç›®ã§ã€interfaceã§ã‚ã‚‹ã€ã‹ã¤ã€errorTypeï¼ˆï¼errorï¼‰ã‚’å®Ÿè£…ã§ãã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚\nä»¥ä¸Šã§ã€targetãŒerrorã‚’æ ¼ç´ã§ãã‚‹ç®±ã§ã‚ã‚‹ã‹ï¼ˆerrorã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã—ã¦ã„ã‚‹ã‹ï¼‰ã©ã†ã‹ã‚’åˆ¤å®šã—ã¦ã„ã¾ã™ã€‚\nç¶šãã®13è¡Œç›®ä»¥é™ã§ã€\nerrãŒtargetã«æ ¼ç´ã§ãã‚‹å€¤ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã€ã§ãã‚‹ãªã‚‰ã°æ ¼ç´ã—ã¦ã„ã¾ã™ã€‚ï¼ˆ15ï¼Œ16è¡Œç›®ï¼‰\næ ¼ç´ã§ããªã„å ´åˆã¯ã€ç‹¬è‡ªå®Ÿè£…ã® As() æ¢ã—ã¦ã€å®Ÿè¡Œã—ã¦ã„ã¾ã™ã­ã€‚\nerr ãŒ target ã«æ ¼ç´ã§ããšã€ç‹¬è‡ªå®Ÿè£…ã® As() ã‚‚ãªã„å ´åˆã¯ã€\nerr ã‚’ Unwrap() ã—ã¦å†åº¦åŒã˜å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚\nãã‚Œã§ã‚‚ã€æ ¼ç´ã§ãã‚‹ã‚¨ãƒ©ãƒ¼ãŒãªã‹ã£ãŸå ´åˆã¯ false ã‚’è¿”ã—ã¾ã™ã€‚\nã¾ã¨ã‚ errorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å®Ÿè£…ã‚’è¦—ã„ã¦ã¿ã¾ã—ãŸãŒã€ã„ã‹ãŒã ã£ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ\næ™®æ®µä½¿ã£ã¦ã‚‹æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å†…éƒ¨å®Ÿè£…ã‚’è¿½ã„ã‹ã‘ã‚‹ã®ã¯æ¥½ã—ã„ã§ã™ã­ğŸ‘\nä»Šå›ã¯errorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸­èº«ã‚’è¦‹ã¾ã—ãŸãŒã€reflectliteãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒçµæ§‹ä½¿ã‚ã‚Œã¦ã„ã¾ã—ãŸã­ã€‚\nreflectliteã®å‹•ããŒåˆ†ã‹ã‚‰ãªã„éƒ¨åˆ†ã‚‚ã‚ã£ãŸã®ã§ã€\næ¬¡ã¯reflectliteã®ä¸­èº«ã‚‚è¦‹ãŸã„ãªã¨ã„ã†æ°—æŒã¡ã«ãªã£ã¦ã„ã¾ã™ã€‚\nï¼ˆreflectliteã‚’å°‘ã—è¦—ã„ãŸã®ã§ã™ãŒã€Goã®å‹ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼Ÿçš„ãªè©±ãŒå…¥ã£ã¦ãã¦ãŠã‚Šã€ã‹ãªã‚ŠãŠã‚‚ã—ã‚ãã†ï¼‰\nreflectliteã‚’ä¸€ç·’ã«èª­ã¿ãŸã„ã£ã¦æ–¹ãŠã‚‰ã‚ŒãŸã‚‰Twitterã§DM ãã ã•ã„ï¼\nãœã²ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¼šã—ã¾ã—ã‚‡ã†\nå‚è€ƒæ–‡çŒ® errorsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ Go 1.13 ã®ã‚¨ãƒ©ãƒ¼ãƒ»ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° Golang: How to handle Errors in v1.13 reflectliteãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ","ref":"/blog/errors_package/"},{"title":"Goã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«ã¤ã„ã¦","date":"","description":"åœ°å‘³ã«ã„ã‚ã„ã‚ã¨ã‚ã£ã¦ã‚„ã‚„ã“ã—ã„","body":"Goã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† æ³¨æ„1ï¼šæœ¬è¨˜äº‹ã¯Goè‡ªä½“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«ã¤ã„ã¦ã§ã™ã€‚Go Modulesãªã©ã¯å¯¾è±¡å¤–ã§ã™ã€‚ æ³¨æ„2ï¼šåŸºæœ¬çš„ã«Macãƒ¦ãƒ¼ã‚¶ã‚’å¯¾è±¡ã«ã—ã¦ã„ã¾ã™ã€‚ï¼ˆWindowsã¨Linuxã‚‚ã‚‚ã¡ã‚ã‚“å¥½ãã§ã™ï¼‰\né–‹ç™ºã«ãŠã„ã¦è¨€èªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã¯ã¤ãã‚‚ã®ã ã¨æ€ã„ã¾ã™ã€‚\nãã®ãƒ‹ãƒ¼ã‚ºã¯é«˜ãã€rbenv ã‚„ nodenv ã¨ã„ã£ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ«ãŒæ™®åŠã—ã¦ã„ã¾ã™ã€‚\nãŸã ã—ã€Goã®å ´åˆã¯å°‘ã—è©±ãŒå¤‰ã‚ã£ã¦ãã¾ã™ã€‚\nã‚‚ã¡ã‚ã‚“Goã§ã‚‚ goenv ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ãŒã€\nï¼ˆä»Šã®ã¨ã“ã‚ï¼‰Goã¯å¾Œæ–¹äº’æ›æ€§ãŒæ‹…ä¿ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€åŸºæœ¬çš„ã«æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ä¸Šã’ç¶šã‘ã‚Œã°OKã§ã™ã€‚\nâ€¦ã¨è¨€ã„ã¤ã¤ã‚‚ã€GAEã‚’ä½¿ç”¨ã™ã‚‹ã¨ã„ã£ãŸå ´åˆã«ã€ã©ã†ã—ã¦ã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã—ãŸããªã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã“ã§ä»Šå›ã¯ã¾ãšGoã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹ã‚’ã—ãŸå¾Œã§ã€\næœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nGoã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ« â–¼ goenv â—¯â—¯envç³»ã¯æœ‰åã§ã™ã‚ˆã­ã€‚\nè¨€èªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã¨ã„ãˆã°ã“ã‚Œã§ã™ã€‚\nå°å…¥æ‰‹é †ã¯å…¬å¼ã®æ‰‹é † é€šã‚Šãªã®ã§çœç•¥ã—ã¾ã™ã€‚\n1ç‚¹ã¯ã¾ã‚Šã©ã“ã‚ãŒã‚ã‚Šã¾ã™ã€‚\n$GOPATHãŒå¤‰ã‚ã‚‰ãªããªã£ã¦ã—ã¾ã†ã¨ã„ã†å•é¡Œã§ã™ã€‚\næœ¬ä»¶ã«é–¢ã—ã¦ã¯ä»¥å‰ã€åƒ•ã®ãƒ–ãƒ­ã‚°ã§å¯¾å‡¦æ³•ã‚’æ›¸ã„ã¦ã„ã‚‹ã®ã§ã€\nã“ã¡ã‚‰ ã‚’å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nâ–¼ go getï¼ˆå…¬å¼ã‚µã‚¤ãƒˆã«è¨˜è¼‰ã®ã‚ã‚‹æ–¹æ³•ï¼‰ ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\u0026quot;ãƒ„ãƒ¼ãƒ«\u0026quot;ã¨ã¯è¨€ãˆã¾ã›ã‚“ãŒâ€¦ï¼‰\næœ¬æ–¹æ³•ã¯å…¬å¼ã‚µã‚¤ãƒˆ ã« è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹æ–¹æ³•ã§ã™ã€‚\n$ go get golang.org/dl/goX.Y.Z $ goX.Y.Z download $ goX.Y.Z version go version goX.Y.Z linux/amd64 ã‚³ãƒãƒ³ãƒ‰æ‰“ã¤ãŸã³ã«ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¾ã§æ‰“ã¤ã®ãŒã‚ã‚“ã©ãã•ã„ã¨ã„ã†æ–¹ã¯ã€\nbash ã‚„ zsh ã®è¨­å®šã§ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§ã‚‚è²¼ã£ã¦ã‚„ã‚Œã°OKã§ã™ã­ã€‚\næœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³• å†’é ­ã§ã€ŒåŸºæœ¬çš„ã«æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ä¸Šã’ç¶šã‘ã‚Œã°OKã€ã¨è¿°ã¹ã¦ã„ãŸã®ã§ã€\næœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¦ãŠãã¾ã™ã€‚\nç‰¹ã«æ–°ã—ã„ã“ã¨ã¯ãªãã„ã‚ã‚“ãªã‚µã‚¤ãƒˆã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã•ã‚‰ã£ã¨æµã—ã¦ã„ãã¾ã™ã€‚\nâ–¼ Homebrew $ brew install go ä»¥ä¸Šã§ã™ã€‚\næ¨™æº–å‡ºåŠ›ã«ã¦ã€Œå¿…è¦ãªã‚‰ãƒ‘ã‚¹ã®è¨­å®šã—ã¦ã­ã€ã¨è¨€ã‚ã‚Œã¾ã™ã€‚\nè¨€ã‚ã‚ŒãŸã¨ãŠã‚Šã«ã‚„ã‚Œã°OKã§ã™ã€‚\nâ–¼ ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã“ã¡ã‚‰ã®æ–¹æ³•ã¯Homebrewã§ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨æ¯”ã¹ã‚‹ã¨ã€å°‘ã—ã‚„ã‚„ã“ã—ããªã‚Šã¾ã™ã€‚\nã–ã£ãã‚Šæ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚ï¼ˆå…¬å¼ã®èª¬æ˜ãƒšãƒ¼ã‚¸ ï¼‰\nGo1.4ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nhttps://golang.org/doc/install/source#go14 ãªãœã€ã„ããªã‚Šv1.4ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã¨ã„ã†ã¨ã€\nv1.5ä»¥é™ã¯å…¨ã¦Goã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ãŸã‚ã€Goè‡ªèº«ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã¾ã™ã€‚\nã‚ˆã£ã¦ã€v1.5ä»¥é™ã®Goã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã« Goã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ãŸã‚ã®GoãŒå¿…è¦ã«ãªã‚‹ ã¨ã„ã†ã‚ã‘ã§ã™ã€‚\nï¼ˆã‚„ã‚„ã“ã—ã„ã§ã™ãŒã€ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° ã£ã¦ã‚„ã¤ã§ã™ã­ï¼‰\nGitã‹ã‚‰æœ€æ–°ç‰ˆã®ã‚½ãƒ¼ã‚¹ã‚’ã‚‚ã£ã¦ãã‚‹\nhttps://golang.org/doc/install/source#fetch æœ€æ–°ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nhttps://golang.org/doc/install/source#install å‹•ä½œç¢ºèª\nhttps://golang.org/doc/install/source#testing ï¼ˆãŸã ã®ãƒªãƒ³ã‚¯é›†ã«ãªã£ã¦ã„ã¾ã™ãŒï¼‰ä»¥ä¸Šã§ã™ã€‚\nâ–¼ å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã“ã®æ–¹æ³•ã®æ–¹ãŒã‚½ãƒ¼ã‚¹ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚ˆã‚Šç°¡å˜ã‹ãªã¨æ€ã„ã¾ã™ã€‚\nã“ã¡ã‚‰ã®æ–¹æ³•ã‚‚å…¬å¼ã‚µã‚¤ãƒˆ ã«è©³ã—ã„èª¬æ˜ãŒã‚ã‚‹ã®ã§ã–ã£ãã‚Šã®èª¬æ˜ã ã‘è¼‰ã›ã¦ãŠãã¾ã™ã€‚\nï¼ˆå…¬å¼ã‚µã‚¤ãƒˆ ã«ã¯ LinuxãŠã‚ˆã³Windowsã«ã¤ã„ã¦ã‚‚ã¡ã‚ƒã‚“ã¨èª¬æ˜ãŒã‚ã‚Šã¾ã™ï¼‰\nGoæœ¬ä½“ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\nhttps://golang.org/doc/install#download æ¬¡ç¯€ã®ã€Go install.ã€ ã§ æŒ‡å®šã—ãŸOSç”¨ã®GoãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã®ã§ã€Macã‚’é¸æŠã—ãŸä¸Šã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã—ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nhttps://golang.org/doc/install#install ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ.pkgãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå‹æ‰‹ã«å§‹ã¾ã‚Šã¾ã™ã€‚\nPATHè¨­å®š\nhttps://golang.org/doc/install#install ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å¾—ãŸãƒã‚¤ãƒŠãƒªã«å¯¾ã—ã¦PATHã‚’é€šã—ã¾ã™ã€‚\nä»¥ä¸Šã§ã™ã€‚\nã¾ã¨ã‚ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ«ãŠã‚ˆã³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã¯ã„ãã¤ã‹å­˜åœ¨ã—ã¾ã™ã€‚\nä½¿ã„ã‚„ã™ã„æ–¹æ³•ã§ã©ã†ãï¼\n","ref":"/blog/go-versions/"},{"title":"ã€DDDã€‘é›†ç´„ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œã«ã¤ã„ã¦èª¿ã¹ãŸã“ã¨ãƒ¡ãƒ¢","date":"","description":"ã€Œãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ã®å¢ƒç•Œã€ã‚’è¦‹æ¥µã‚ã‚ˆã†ï¼","body":"ç°¡å˜ã¾ã¨ã‚ã‚·ãƒªãƒ¼ã‚º ä»Šå›ã¯ é›†ç´„ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œ ã«ã¤ã„ã¦ã€\nè‡ªåˆ†ã®ã‚ã‹ã‚‰ãªã„ã¨ã“ã‚ã‚’èª¿ã¹ãŸã®ã§ã€ãƒ¡ãƒ¢ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ã€‚\né›†ç´„ é›†ç´„ã®èª¬æ˜ã‚’ã€ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆå…¥é–€ ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ—ã§ã‚ã‹ã‚‹! ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆã®åŸºæœ¬ã€ ã‹ã‚‰æ‹å€Ÿã™ã‚‹ã¨ã€\nã€Œãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹ãŸã‚ã®å˜ä½ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é›†ã¾ã‚Šã‚’é›†ç´„ã¨ã„ã„ã¾ã™ã€ã¨ã®ã“ã¨ã€‚\nâ†“ ã‚‚ã†ã™ã“ã—å…·ä½“çš„ã«è¨€ã†ã¨\nDDDã§ã¯ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ãŒã€\nå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç›´æ¥è§¦ã‚‰ãšã€ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£çµŒç”±ã§ã—ã‹å¤‰æ›´ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã­ã€‚\nã“ã®ã‚ˆã†ãªåˆ¶é™ã‚’ã‹ã‘ã‚‹ã“ã¨ã§ã€\nã²ã¨ã¾ã¨ã¾ã‚Šã«ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé–“ã§ç¶­æŒã•ã‚Œã‚‹ã¹ãä¸å¤‰æ¡ä»¶ã‚’å®ˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œ åŸºæœ¬çš„ãªè€ƒãˆã¨ã—ã¦ã¯ã€é›†ç´„ã”ã¨ã«ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’è²¼ã‚Šã¾ã™ã€‚\nâ†‘ã“ã®åŸºæœ¬ã‚’å®ˆã‚‹ãŸã‚ã«ã‚‚ã€ç†æƒ³ã¨ã—ã¦ã¯æ­£ã—ã„ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã«ã‚ˆã‚Šã€\næ­£ã—ã„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒå¤§äº‹ã§ã™ã€‚\næ­£ã—ã„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã¯ã€ä¸ç”¨æ„ã«å¤§ããªDBãƒ­ãƒƒã‚¯ã®ç™ºç”Ÿã‚’é˜²æ­¢ã—ã¾ã™ã€‚\nã—ã‹ã—ãªãŒã‚‰ã€é›†ç´„ã‚’ã¾ãŸã„ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³åˆ¶å¾¡ã—ãŸããªã‚‹ã¨ãã‚‚ã‚ã‚Šã¾ã™ã€‚\nâ†’ å‚è€ƒä¾‹ ã“ã†ã„ã†ã¨ãã«ã©ã†ã™ã‚‹ã‹ã€ä¸Šè¨˜ãƒªãƒ³ã‚¯ã§ã‚‚ã„ãã¤ã‹ã®æ–¹æ³•ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nä»–ã®ã‚µã‚¤ãƒˆã‚‚èª¿ã¹ã¦ã¿ã¾ã—ãŸãŒã€ã ã„ãŸã„åŒã˜ã‚ˆã†ãªæ–¹æ³•ãŒå‡ºã¦ãã¾ã—ãŸã€‚\nçµæœæ•´åˆæ€§ ä¸»æµã£ã½ã„ ã„ã‚ã„ã‚ãªã‚µã‚¤ãƒˆã€æ›¸ç±ã®ä¸­ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã—ãŸ æ•´åˆæ€§ã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã¥ãã‚ŠãŒå¿…è¦ æ•´åˆæ€§ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã‚ã®ãƒãƒƒãƒ ãªã© é›†ç´„ã‚’ã¾ãŸã„ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’è²¼ã‚‹ ä¸‹è¨˜ç†ç”±ã®ãŸã‚ã«ã‚ã¾ã‚Šæ¨å¥¨ã•ã‚Œãªã„ ãƒ­ãƒƒã‚¯ç¯„å›²ãŒå¤§ãããªã£ã¦ã—ã¾ã† å®ˆã‚‹ã¹ãã€Œãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ã®å¢ƒç•Œã€ã‚’ã‚³ãƒ¼ãƒ‰ä¸Šã§è¡¨ç¾ã§ããªããªã‚‹ å‚è€ƒã‚µã‚¤ãƒˆ è¤‡æ•°ã®é›†ç´„ã‚’ã•ã‚‰ã«ã¾ã¨ã‚ãŸé›†ç´„ã‚’ã¤ãã‚‹ ãƒ­ãƒƒã‚¯ç¯„å›²ãŒå¤§ãããªã£ã¦ã—ã¾ã†ãŸã‚ã€ã‚ã¾ã‚Šæ¨å¥¨ã•ã‚Œãªã„ çµæœæ•´åˆæ€§ çµæœæ•´åˆæ€§ã«ã¤ã„ã¦ã¯ã€\nã€ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆå…¥é–€ ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ—ã§ã‚ã‹ã‚‹! ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆã®åŸºæœ¬ã€ ã® 12ç« 3èª¬ã€Œé›†ç´„ã®å¤§ãã•ã¨æ“ä½œã®å˜ä½ã€ã§è¨€åŠã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã‚‚ã†å°‘ã—ã ã‘è©³ã—ãèª¿ã¹ã¾ã—ãŸã€‚\nçµæœæ•´åˆæ€§ã¨ã¯ã€æœ€çµ‚çš„ã«æ•´åˆæ€§ã®å–ã‚Œã¦ã„ã‚Œã°OKã¨ã„ã†è€ƒãˆæ–¹ã€‚\nã—ãŸãŒã£ã¦ã€æ•´åˆæ€§ãŒå–ã‚Œã¦ã„ãªã„çŠ¶æ³ãŒèµ·ã“ã‚Šå¾—ã‚‹ãŒã€ãã‚Œã¯è¨±å®¹ã™ã‚‹ã€‚\nã€Œæœ€çµ‚çš„ã«æ•´åˆæ€§ã‚’å–ã‚‹ã€ã£ã¦ã©ã†ã‚„ã‚‹ã®ï¼Ÿ\nâ†’ ã“ã¡ã‚‰ ãŒå‚è€ƒã«ãªã‚‹ã€‚\nã¾ã¨ã‚ è¨­è¨ˆå‘¨ã‚Šã®è©±ã¯ã€å”¯ä¸€ç„¡äºŒã®ç­”ãˆãŒã‚ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã‚ˆã£ã¦ã€ä»Šå›ã®è©±ã«ãŠã„ã¦ã‚‚ã€Œãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ã®å¢ƒç•Œã€ã‚’æ„è­˜ã—ã€\nã¡ã‚ƒã‚“ã¨ãƒ¡ãƒªãƒƒãƒˆã¨ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’ç†è§£ã—ãŸä¸Šã§æœ€å–„ã®è§£ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã­ã€‚\nå‚è€ƒè³‡æ–™ ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆå…¥é–€ ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ—ã§ã‚ã‹ã‚‹! ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆã®åŸºæœ¬ DDDã«ãŠã„ã¦ã€ãªãœè¤‡æ•°ã®é›†ç´„ã«ã¾ãŸãŒã£ã¦ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‹ã‘ã¦ã¯ã„ã‘ãªã„ã®ã‹ï¼ˆmultiple aggregates in one transactionï¼‰ é›†ç´„ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œã«é–¢ã™ã‚‹ãƒ¡ãƒ¢ é›†ç´„ã®å¢ƒç•Œã¨æ•´åˆæ€§ã®ç¶­æŒã®ä»•æ–¹ã«æ‚©ã‚“ã§2ãƒ¶æœˆãã‚‰ã„çµè«–ã‚’å‡ºã›ã¦ã„ãªã„è©± é›†ç´„ã®å¢ƒç•Œã¨æ•´åˆæ€§å•é¡Œã«é–¢ã™ã‚‹æ„Ÿæƒ³ ","ref":"/blog/ddd-aggregates-transaction/"},{"title":"ã€ç°¡å˜ã¾ã¨ã‚ã‚·ãƒªãƒ¼ã‚ºã€‘Go1.12ã‹ã‚‰ã®å¤‰æ›´ç‚¹","date":"","description":"Go1.14ãŒæ¥½ã—ã¿","body":"ç°¡å˜ã¾ã¨ã‚ã‚·ãƒªãƒ¼ã‚º ã€ç°¡å˜ã¾ã¨ã‚ã€ã§ã¯ã€åƒ•ãŒè¨˜äº‹ã‚„æ›¸ç±ã§å­¦ã‚“ã å†…å®¹ã‚’ãƒ¡ãƒ¢ç¨‹åº¦ã«ç°¡å˜ã«ã¾ã¨ã‚ã¦ã„ãã¾ã™ğŸ“\nä»Šå›ã¯ Go1.12ã‹ã‚‰ã®å¤‰æ›´ç‚¹ ã«ã¤ã„ã¦ã§ã™ã€‚\nThe State of Go 2020 Twitterã§ã€The State of Go 2020 ã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚\nGo1.12ã‹ã‚‰å¤‰ã‚ã£ãŸã¨ã“ã‚ã«ç„¦ç‚¹ã‚’å½“ã¦ã€\nGo1.13ã§ã©ã®ã‚ˆã†ãªæ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã®ã‹ã€ Go1.14ã§ã©ã®ã‚ˆã†ãªæ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã‚‹äºˆå®šãªã®ã‹ã¾ã¨ã‚ã¦ã‚ã‚Šã¾ã™ã€‚\nä»Šå›ã¯ã€å®Œå…¨ä¸»è¦³ã§è‡ªåˆ†ãŒèˆˆå‘³ã®ã‚ã‚‹å†…å®¹ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ã¾ã™ã€œğŸ˜‡\nå®Œå…¨ä¸»è¦³ãƒã‚¤ãƒ©ã‚¤ãƒˆ â–¼ æ•°å€¤ã¾ã‚ã‚Šã®è¡¨ç¾æ–¹æ³•ãŒå¢—ãˆã‚‹ https://speakerdeck.com/campoy/the-state-of-go-2020?slide=7 â–¼ interfaceã«ãŠã‘ã‚‹é–¢æ•°ã®é‡è¤‡ãŒè¨±å¯ã•ã‚Œã‚‹ï¼ˆä¾‹å¤–ã‚ã‚Šï¼‰ https://speakerdeck.com/campoy/the-state-of-go-2020?slide=17 â–¼ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒå¤‰ã‚ã‚‹ https://speakerdeck.com/campoy/the-state-of-go-2020?slide=26 â–¼ testingãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã« CleanUp() ãŒè¿½åŠ  https://speakerdeck.com/campoy/the-state-of-go-2020?slide=39 â–¼ go modules https://speakerdeck.com/campoy/the-state-of-go-2020?slide=43 â–¼ é…åˆ—ãƒ»ã‚¹ãƒ©ã‚¤ã‚¹ã«ãŠã‘ã‚‹ç¯„å›²å¤–æŒ‡å®šæ™‚ã®ã‚¨ãƒ©ãƒ¼ãŒè¦ªåˆ‡ã«ãªã£ãŸ https://speakerdeck.com/campoy/the-state-of-go-2020?slide=50 â–¼ deferãŒé€Ÿããªã‚‹ https://speakerdeck.com/campoy/the-state-of-go-2020?slide=51 â–¼ jsoné–¢é€£ã®å‡¦ç†ãŒé€Ÿããªã‚‹ https://speakerdeck.com/campoy/the-state-of-go-2020?slide=52 â–¼ ä»–ã«ã‚‚ã„ã‚ã„ã‚é€Ÿããªã‚‹ https://speakerdeck.com/campoy/the-state-of-go-2020?slide=53 â–¼ GopherConã®å‚åŠ è€…ãŒå¢—ãˆã¦ã„ãæ§˜å­ãŒãˆã‚‚ã„ https://speakerdeck.com/campoy/the-state-of-go-2020?slide=64 ","ref":"/blog/changes-since-go-1-12/"},{"title":"ã€merpay Tech Talkã€‘ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®å†ªç­‰æ€§ã«é–¢ã™ã‚‹å‹‰å¼·ä¼š","date":"","description":"å†ªç­‰æ€§ is å¤§äº‹","body":"Tech Talk vol.2 Backend Engineer ã€œãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®å†ªç­‰æ€§ã€œ connpass ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼š#merpay_techtalk è³ªå•æ¿ merpayç¤¾ã§é–‹å‚¬ã•ã‚ŒãŸå‹‰å¼·ä¼šã§ã™ã€‚\nå‚åŠ è€…ã®ãƒ„ã‚¤ãƒ¼ãƒˆã‚‚å«ã‚ã¦ãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nã‹ãªã‚Šé›‘ãªã®ã§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒèª­ã¿å–ã‚Œãªã„ã¨ã“ã‚ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€\nãªã«ã‹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\nï¼ˆ@sonatard ã•ã‚“ã®å®Ÿæ³ã«ã¨ã¦ã‚‚åŠ©ã‘ã‚‰ã‚Œã¾ã—ãŸã€‚ ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼ï¼‰\n1. 500ä¸‡ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ”¯ãˆã‚‹æ®‹é«˜ã®å†ªç­‰æ€§ ç™»å£‡è€…ï¼šï¼ˆ@knsh14ï¼‰\nã‚¹ãƒ©ã‚¤ãƒ‰\nå‚è€ƒã‚¹ãƒ©ã‚¤ãƒ‰ ï¼ˆãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹è©±ã¯â†‘ã“ã‚Œï¼‰\næ®‹é«˜ç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆBalance Serviceï¼‰ ä½¿ã£ã¦ã‚‹DBã¯Cloud Spanner\nå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚„ä»–ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯ä¾å­˜ã—ã¦ãªã„\nDeleteãªã—ã§CRUã®ã¿\nã‹ãªã‚Šã‚·ãƒ³ãƒ—ãƒ«ã§å†ªç­‰æ€§ã‚’æ‹…ä¿ã—ã‚„ã™ã„\nå†ªç­‰æ€§ãŒã‚ã‚‹API æœ€åˆã«æˆåŠŸã—ãŸä¸€åº¦ã ã‘å‡¦ç†ã•ã‚Œã‚‹\nåŒã˜ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½•å›ç¹°ã‚Šè¿”ã—ã¦ã‚‚å†…éƒ¨çš„ã«ã¯å‡¦ç†ã•ã‚Œãªã„\nä½•åº¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã‚‚åŒã˜çµæœãŒè¿”ã£ã¦ãã‚‹ ä½•åº¦ã§ã‚‚ãƒªãƒˆãƒ©ã‚¤ã§ãã‚‹\nå–å¼•IDãŒä¿å­˜ã•ã‚Œã¦ã„ã‚Œã°æ—¢ã«è¡Œã‚ã‚ŒãŸå–å¼•ã§ã‚ã‚‹\nå†ªç­‰æ€§ã®æ‹…ä¿ å†ªç­‰æ€§ã‚­ãƒ¼ãŒåŒã˜ å¤–éƒ¨ã‹ã‚‰æŒ‡å®šã•ã‚Œã‚‹å–å¼•IDã®ã“ã¨ æ®‹é«˜ã®ç¨®é¡ãŒåŒã˜ ãƒã‚¤ãƒ³ãƒˆ/ãƒ¡ã‚¤ãƒ«ãƒšã‚¤æ®‹é«˜ ãªã© æ“ä½œã™ã‚‹é‡‘é¡ãŒåŒã˜ å†ªç­‰ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯DBã‹ã‚‰å¼•ã‘ã‚‹æƒ…å ±ã§çµ„ã¿ç«‹ã¦ã‚‹ å–å¼•IDã‹ã‚‰å¼•ã‘ã‚‹æƒ…å ± å–å¼•å¾Œæ®‹é«˜ã¯è¿”ã•ãªã„ Twitterãƒ¡ãƒ¢ å†ªç­‰ãªAPIã§ã®ã‚¨ãƒ©ãƒ¼ ãƒªãƒˆãƒ©ã‚¤ã—ã¦ã‚‚è‰¯ã„ã‚¨ãƒ©ãƒ¼ï¼šex. ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ ãƒªãƒˆãƒ©ã‚¤ã ã‚ãªã‚¨ãƒ©ãƒ¼ï¼šex. æ®‹é«˜ä¸è¶³ èª°ãŒã©ã†ä½¿ã†ã®ã‹ï¼Ÿ ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹å´ã®ä½¿ã„æ–¹1ã¤ã§ç°¡å˜ã«å†ªç­‰æ€§ãŒå£Šã‚Œã‚‹ â†’ ex. å–å¼•IDã‚’æ¯å›å¤‰ãˆã‚‹ã¨ã‹ 2. ã‚³ãƒ¼ãƒ‰æ±ºæ¸ˆã«ãŠã‘ã‚‹å†ªç­‰æ€§ã¨æ•´åˆæ€§ ç™»å£‡è€…ï¼šï¼ˆ@susho0220ï¼‰\nã‚¹ãƒ©ã‚¤ãƒ‰ ãƒ¢ãƒãƒªã‚¹ã§ã‚ã‚Œã°ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§æ•´åˆæ€§ã‚’ä¿ã¦ã‚‹ã€‚\nãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒåˆ†ã‹ã‚Œã‚‹ãŸã‚ã€\næ±ºæ¸ˆã®é€²æ—çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹DBã‚’ç”¨æ„ã—ã€çŠ¶æ…‹ã‚’ç®¡ç† â†’ Pendingã€Authorizedã€Captured\nãƒ¡ãƒ«ãƒšã‚¤ã®ã‚³ãƒ¼ãƒ‰æ±ºæ¸ˆã§ã¯ã€\nCloud Pub/Subã‚’ä½¿ã£ã¦Authorizedã¾ã§ã‚’åŒæœŸå‡¦ç†ã€Captureã¯éåŒæœŸå‡¦ç†ã§è¡Œã£ã¦ã„ã‚‹ã€‚\nåŒæœŸå‡¦ç†ã®è²¬å‹™ã‚’æœ€å°é™ã«æŠ‘ãˆã¦ã€å‡¦ç†è‡ªä½“ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã«ã™ã‚‹ã®ãŒç‹™ã„ã€‚\nâ†’ ãƒªãƒˆãƒ©ã‚¤ã«ã‚ˆã‚‹ä¸æ•´åˆã®è§£æ¶ˆãŒé‡è¦ãªå‡¦ç†ã¯ã€è‡ªå‹•çš„ã«ãƒªãƒˆãƒ©ã‚¤ã‚’ã—ã¦ãã‚Œã‚‹PubSubã§éåŒæœŸã«ã™ã‚‹ã“ã¨ã§ã€å®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹\n3. ãƒãƒƒãƒå‡¦ç†ã¨å†ªç­‰æ€§ ç™»å£‡è€…ï¼šï¼ˆ@kaznishi1246ï¼‰\nã‚¹ãƒ©ã‚¤ãƒ‰ ãƒãƒƒãƒå‡¦ç† å›å¾©å¯èƒ½ã‹ã©ã†ã‹ã¯ã¨ã¦ã‚‚å¤§äº‹\nå†ªç­‰æ€§ãŒã‚ã‚Œã°å›å¾©å¾Œã®ãƒªãƒˆãƒ©ã‚¤ã‚‚å®‰å¿ƒã—ã¦è¡Œãˆã‚‹\nä½•å›å®Ÿè¡Œã•ã‚Œã¦ã‚‚å¤§ä¸ˆå¤«ï¼ˆå†ªç­‰ï¼‰ãªãƒãƒƒãƒå‡¦ç†ã‚’ä½œã‚‹ ãƒãƒƒãƒã®ãƒªãƒˆãƒ©ã‚¤æˆ¦ç•¥ã«ã¯å¤§åˆ¥ã—ã¦ä¸‹è¨˜2ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹ã€‚\nï¼ˆãƒ¡ãƒ«ãƒšã‚¤ã§ã¯ã©ã¡ã‚‰ã‚‚ã‚ã‚‹ã€‚ï¼‰\nå‡¦ç†æ¸ˆã¿ã‚‚å«ã‚ã¦ã‚„ã‚Šç›´ã™ å…¨ã¦ã®å‡¦ç†ãŒå†ªç­‰ã§ã‚ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚\né›£ã—ã„ã“ã¨ã‚’ã‚ã¾ã‚Šè€ƒãˆãªãã¦è‰¯ã„ã€‚ï¼ˆifæ–‡æ¸›ã‚‹ï¼‰\nãŸã ã—ã€æ™‚é–“ãƒ»ãƒªã‚½ãƒ¼ã‚¹ã‚’ãã†\nå€‹ã€…ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒå†ªç­‰ã§ã‚ã‚‹å‰æãŒå¿…è¦ã€‚\nä»–ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é€£æºã—ã¦ã‚‹å ´åˆã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆå…ˆã®å†ªç­‰æ€§ã‚‚å¿…è¦\nä¸€åº¦å‡¦ç†ã—ãŸã‚‚ã®ã¯ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ å®Ÿè£…ãŒè¤‡é›‘ã«ãªã‚‹ã€‚ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãªã©ã§æ¡ä»¶åˆ†å²ï¼‰\nãŸã ã—ã€æœªå‡¦ç†ã®ã¿å¯¾å¿œã™ã‚‹ã®ã§æ‰€è¦æ™‚é–“ãŒçŸ­ãã€è»½ã„\nã€Œã©ã“ã¾ã§å‡¦ç†ã—ãŸã‹ã€ã‚’ã©ã“ã‹ã«ä¿æŒã™ã‚‹å¿…è¦ãŒã‚ã‚‹\nå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã©ã†ã™ã‚‹ï¼Ÿ å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ãŒå†ªç­‰ãªã‚‰ã°ä½•åº¦ãƒªãƒˆãƒ©ã‚¤ã—ã¦ã‚‚å¤§ä¸ˆå¤«ã ã‹ã‚‰ç„¡å•é¡Œ\nãŸã ã—ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ã¯ã€ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã‚‹ã‚‚ã®ã‚‚ã‚ã‚‹ã®ã§ã€ãã†ã„ã†å ´åˆã¯æ¤œè¨ãŒå¿…è¦\nãƒãƒƒãƒã‚’å›ã™å‰ã®ç¢ºèª ãƒãƒƒãƒå‡¦ç†ãŒå‡¦ç†ã™ã‚‹ææ–™ãƒ‡ãƒ¼ã‚¿ã¯æƒã£ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ ï¼ˆå‰æ®µã®ãƒãƒƒãƒãŒçµ‚ã‚ã£ã¦ã„ã‚‹ã‹ç¢ºèªï¼‰\nâ†’å„ãƒãƒƒãƒã®çµ‚äº†çŠ¶æ…‹ã‚’DBã§ç®¡ç†ã—ã¦ã„ã‚‹\n4. ãƒ‘ãƒãƒ«ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ ç™»å£‡è€…ï¼š@kazegusuri, @knsh14, @susho0220, @kaznishi1246\nè³ªå•æ¿ ä¼šå ´ã‹ã‚‰ã®è³ªå•ãŒå¤šãã€Q\u0026amp;Aã ã‘ã§çµ‚äº†ã—ã¾ã—ãŸã€‚\nã¨ã¦ã‚‚èˆˆå‘³æ·±ã„è©±ã°ã‹ã‚Šã§ã—ãŸã€‚\nå†ªç­‰æ€§ã‚­ãƒ¼ã®ç™ºè¡Œã‚„ç®¡ç†ã¯ã©ã†ã—ã¦ã‚‹ã‚“ã ã‚ã†ï¼Ÿ Balance Service ã®å‰æ®µã«ã‚ã‚‹ Payment Service ã«ã¦ç™ºè¡Œ â†’ UUID v4 ã§ç™ºè¡Œï¼ˆåŸºæœ¬çš„ã«è¢«ã‚‹ã“ã¨ã¯ãªã„ã¯ãšï¼‰\nãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“ã®ãƒ‡ãƒ¼ã‚¿ä¸æ•´åˆã‚’ä¿®æ­£ã™ã‚‹ãƒãƒƒãƒã¯ã©ã‚Œãã‚‰ã„ã®æ™‚é–“é–“éš”ã§å®Ÿè¡Œã—ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ 30åˆ†ã«1å›\n15åˆ†ã¨ã‹çŸ­ãã—ãŸã„ãŒã€å®Ÿè¡Œä¸­ã®å¯èƒ½æ€§ã‚‚å‡ºã¦ãã‚‹ã®ã§ã€é›£ã—ã„\n10, 15åˆ†ã‚ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ãŒã€ã‚³ãƒ³ã‚µãƒã§30åˆ†\nå†ªç­‰æ€§ãŒãªã„ã“ã¨ã«ã‚ˆã‚Šç™ºç”Ÿã—ãŸå•é¡Œã‚„éšœå®³ãªã©ã¯éå»ã«ã‚ã‚Šã¾ã—ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿï¼ˆè¨€ãˆã‚‹ç¯„å›²ã§çµæ§‹ã§ã™ï¼‰ æœ€åˆã‹ã‚‰æ„è­˜ã•ã‚Œã¦ã„ãŸã®ã§ç‰¹ã«ãªã‹ã£ãŸ\næ­£ã—ããƒªãƒˆãƒ©ã‚¤ã•ã‚Œç„¡ã‹ã£ãŸçµŒé¨“ã¯ã‚ã‚‹\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ãŸã‚‰ã€åˆ¥ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®æƒ…å ±ã‚’ä½¿ç”¨ã—ã¦å‡¦ç†ã‚’è¡Œã£ã¦ã„ãŸã€‚\nã—ã‹ã—ã€ãã®åˆ¥ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã‚‚ã‚‰ã†ãƒ‡ãƒ¼ã‚¿ãŒå¤‰ã‚ã£ãŸã“ã¨ã§ã‚¨ãƒ©ãƒ¼ã¨ãªã£ãŸã€‚\nâ†’è§£æ±ºç­–ã¨ã—ã¦ã€Bodyãƒ‡ãƒ¼ã‚¿ï¼ˆåˆ¥ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ï¼Ÿï¼‰ã‚‚DBã«ä¿å­˜ã—ã¦ä½¿ã„ã¾ã‚ã—ãŸ\nTwitterãƒ¡ãƒ¢ ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ä»¥å¤–ã«ã¹ãç­‰æ€§ã‚’æ‹…ä¿ã™ã‚‹æ–¹æ³•ã£ã¦ä¾‹ãˆã°ã©ã‚“ãªã®ãŒã‚ã‚Šã¾ã™ã‹ ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„ã‚’ä¿è¨¼ã§ãã‚‹ã‚‚ã®ãªã‚‰OK\nex. ãƒ¦ãƒ‹ãƒ¼ã‚¯æˆç´„ã«å¼•ã£ã‹ã‹ã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã‹\nã‚«ã‚ªã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°çš„ãªã“ã¨ã£ã¦ã‚„ã£ã¦ãŸã‚Šã™ã‚‹ã‚“ã§ã™ã‹ Istioã§falte injectionæ©Ÿèƒ½ã§å–ã‚Šçµ„ã‚‚ã†ã¨ã—ã¦ã„ã‚‹ãŒã€æƒ³å®šã—ãŸæ©Ÿèƒ½ã§ã¯ãªã‹ã£ãŸã®ã§ã¾ã å®Ÿæ–½ã—ã¦ã„ãªã„\nCloud Spannerã®éƒ¨åˆ†ã‚’Mockã«ã—ã¦ãƒ©ãƒ³ãƒ€ãƒ ã§ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ãªã©ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹\nTwitterãƒ¡ãƒ¢ å£²æ›æ±ºæ¸ˆã‚„ã‚¯ãƒ¬ã‚«æ±ºæ¸ˆã®ã‚ˆã†ã«authorized-\u0026gt;capturedã«æ•°æ—¥ã‹ã‹ã‚‹å ´åˆã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿãã®å ´åˆã«authorizedã‚’è§£æ”¾ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ statusã‚’ã©ã†ã‚„ã£ã¦ç®¡ç†ã—ã¦ã„ã‚‹ã®ã‹çŸ¥ã‚ŠãŸã„ updateã—ã¦ã„ã‚‹ã®ã‹ã€eventã‚½ãƒ¼ã‚·ãƒ³ã‚°çš„ã«çµ„ã¿ç«‹ã¦ã¦ã„ã‚‹ã®ã‹ update ã§ã‚„ã£ã¦ã‚‹ã€‚\nã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ã«æŒ‘æˆ¦ã™ã‚‹ã»ã©ã®ä½™è£•ãŒãªã‹ã£ãŸã€‚\nãŸã ã€updateã ã¨ã„ã¤ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒèµ·ã“ã£ãŸã®ã‹åˆ†ã‹ã‚‰ãªããªã‚‹ã‹ã‚‰ã€ãƒ­ã‚°ã‚’æ®‹ã™å¿…è¦ãŒã‚ã‚‹ã€‚\nãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–ã™ã‚‹ã¨ãƒãƒ¼ãƒ ã”ã¨ã«æŒ‡é‡ãŒé•ã£ãŸã‚Šã™ã‚‹ã¨æ€ã„ã¾ã™ãŒã€å†ªç­‰æ€§ç­‰å¤–ã›ãªã„ã¨ã“ã‚ã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã«ã©ã®ã‚ˆã†ãªçµ„ç¹”çš„å·¥å¤«ã‚’ã—ã¦ã„ã¾ã™ã‹ã€‚ æœ€åˆã¯kazegusuriã•ã‚“ãŒå£é…¸ã£ã±ãè¨€ã£ã¦ã„ãŸãŒã€ä»Šã¯ã¿ã‚“ãªãŒæ„è­˜ã§ãã¦ã„ã‚‹ã€‚\nTwitterãƒ¡ãƒ¢ ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‰ãƒƒã‚¯ã‚’æ›¸ã„ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã‹ã‚‰å–ã‚Šçµ„ã‚€\nå†ªç­‰æ€§ã®ç†è§£ã®æ™®åŠã‚’ã—ã¦ããŸ\nãã®ã†ãˆã§ãƒãƒ¼ãƒ ã«ä»»ã›ã¦ã„ã‚‹\nå–å¼•IDãŒé‡è¤‡ã™ã‚‹å¯èƒ½æ€§ã‚’è€ƒæ…®ã—ã¦ã‚‹ã®ã€ãã‚‚ãã‚‚ãªã‚“ã§é‡è¤‡ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‚“ã ã‚ã€‚é‡è¤‡ã¯ã—ãªã„ã‘ã©ã€ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ï¼‘ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸­ã§ã¯é‡è¤‡ã™ã‚‹ã‹ã—ãªã„ã‹ã¯çŸ¥ã‚‰ãªã„ã‹ã‚‰ä¸€å¿œè€ƒæ…®ã—ã¦ãŠãã¨ã„ã†æ„Ÿã˜ãªã®ã‹ãª IDãŒçµ¶å¯¾ã«è¢«ã‚‰ãªã„ç”Ÿæˆæ–¹æ³•ãŒã‚ã‚‹ï¼Ÿ\nå†ªç­‰æ€§ã‚­ãƒ¼ã ã‘ã§å†ªç­‰æ€§ã‚’ä¿è¨¼ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€\nãƒªãƒˆãƒ©ã‚¤æ™‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¤‰ã‚ã£ãŸæ™‚ã«å•é¡ŒãŒèµ·ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒœãƒ‡ã‚£ãƒ¼ãªã©ã‚‚è¦‹ã‚‹ã‚ˆã†ã«ã—ãŸã‹ã£ãŸ\n(ãŒã€ä»Šã¯å†ªç­‰æ€§ã‚­ãƒ¼ã ã‘ã—ã‹è¦‹ã¦ã„ãªã„ï¼Ÿ\nTwitterãƒ¡ãƒ¢ æ®‹é«˜ã®æ•´åˆæ€§ã‚’ã©ã†æ‹…ä¿ã—ã¦ã„ã‚‹ã®ã‹èã„ã¦ã¿ãŸã„ Balance Service ã§ã¯å¢—ãˆãŸæ¸›ã£ãŸã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã ã‘è¨˜éŒ²ã€\nåˆ¥ã§ä¼šè¨ˆã‚µãƒ¼ãƒ“ã‚¹?ã¨ã‹ãŒæ®‹é«˜ã‚’æŒã£ã¦ã„ãŸã‚Šã—ã¦ã€ãã“ã¨ç…§ã‚‰ã—åˆã‚ã›ãŸã‚Šã¯ã™ã‚‹\nauthorizedã«ãªã£ãŸæ™‚ç‚¹ã§capturedã«ã¯100%é·ç§»ã§ãã‚‹ã¨ã„ã†å‰æã§ã—ã‚‡ã†ã‹ï¼Ÿ yes\nãªãœBalance Serviceã§ã‚µãƒ¼ãƒ“ã‚¹ã§æ®‹é«˜ãªã©ã‚’ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã—ã¦ã¯ã„ã‘ãªã„ã®ã‹ãŒã‚ã‹ã‚‰ãªã‹ã£ãŸã§ã™ ã€Œçµæœã„ãã‚‰ã«ãªã£ãŸã€ã¨ã„ã†ã®ã¯å¤‰ã‚ã‚‹ã‹ã‚‰ã ã‚\nã“ã®è©±ã®ä¸­ã§ã€ãƒãƒƒãƒã®å®Ÿè¡Œå±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã£ã¦ã‚‹ãƒ»å ´åˆã«ã‚ˆã£ã¦ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼åŒ–ã¨ã‹ã‚‚ã‚ã‚‹ã€ã¨ã„ã†è©±ãŒã‚ã£ãŸã¨æ€ã†ã‚“ã§ã™ãŒã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼åŒ–ã›ãšå±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã‚‹é¸æŠã‚’ã—ãŸã®ã¯ã©ã†ã—ã¦ã§ã—ã‚‡ã†ã‹ï¼Ÿãƒãƒƒãƒã®ä¸­ã§ã®å„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«å†é–‹ãƒã‚¤ãƒ³ãƒˆãƒ»ã‚¹ã‚­ãƒƒãƒ—ã§ãã‚‹ã§ããªã„ã€ã¿ãŸã„ãªè©±ã‚‚ã‚ã£ãŸã¨æ€ã†ã‚“ã§ã™ã‘ã©ã€å„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«å€‹åˆ¥ãƒãƒƒãƒåŒ–ã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ„ã‚“ã ã‚‰ä¾¿åˆ©ã ã£ãŸã®ã‹ãªãƒ¼ã£ã¦æ€ã†ã®ã§ã™ãŒã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿ å„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«å€‹åˆ¥ãƒãƒƒãƒåŒ–ã—ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’çµ„ã‚€\nã¨ã„ã†éƒ¨åˆ†ã«ã¤ã„ã¦ã€å‡¦ç†ãŒè¤‡é›‘ãªã¨ã“ã‚ãŒã‚ã‚‹ã®ã§ã€ã§ãã‚‹ã‹åˆ†ã‹ã‚‰ãªã„ã€‚\nå–å¼•IDã ã‘ã˜ã‚ƒãªãã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸­èº«ã¾ã§ãƒã‚§ãƒƒã‚¯ã™ã‚‹ç†ç”±ã¯ï¼Ÿ å–å¼•IDãŒåŒã˜ã§å‡¦ç†å†…å®¹ãŒç•°ãªã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å ´åˆã«ã€\nå‡¦ç†æ¸ˆã¿OKã¨èª¤ã£ã¦è¿”ã•ãªã„ã‚ˆã†ã«ã¨ã„ã†é…æ…®ã®è¦³ç‚¹ã‚‚ã‚ã‚‹ã¨ã®ã“ã¨ã€‚\nå‹‰å¼·ã«ãªã‚Šã¾ã—ãŸã€è‰¯ã\nTwitterãƒ¡ãƒ¢ å–å¼•IDã‚’ä¸€æ„ã«ã™ã‚‹ã®ã¯é›£ã—ã„ï¼Ÿ ãã‚“ãªã“ã¨ã¯ãªã„\nã€Œå†ªç­‰æ€§ã€ã®é‡è¦æ€§ã¯ååˆ†ã«ç†è§£ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€ãã‚‚ãã‚‚ã©ã†ã„ã†å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã§ã—ã‚‡ã†ã‹ï¼Ÿ ä¸æ•´åˆã‚’ä¿®å¾©ã™ã‚‹ã“ã¨ã€‚\nå†ªç­‰æ€§ã‚­ãƒ¼ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯æ°¸é ã«ä¿æŒã—ç¶šã‘ã‚‹ã®ã‹ã€å®šæœŸçš„ã«å‰Šé™¤ã—ãŸã»ã†ãŒã„ã„ã®ã‹æ°—ã«ãªã‚Šã¾ã—ãŸ ä»Šã®ã¨ã“ã‚æ¶ˆã™äºˆå®šã¯ãªã„\nä¸€èˆ¬çš„ã«ã¯æ¶ˆã™æ–¹ãŒå¤šã„ã€‚ â†’2æ™‚é–“ã¨ã‹ã§æ¶ˆã™ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå¤šã„\nãƒ¡ãƒ«ãƒšã‚¤ã¯æ¶ˆã™ã®ãŒã‚ã‚“ã©ãã•ã‹ã£ãŸã‹ã‚‰ã€æ®‹ã›ã°ã„ã„ã‚“ã˜ã‚ƒãªã„ï¼Ÿã§æ®‹ã£ã¦ãŸã¯ãš\nãƒãƒƒãƒã®å®Ÿè¡Œé–“éš”çŸ­ãã™ã‚‹ã¨å‘¨å›é…ã‚ŒãŒèµ·ããŸã‚Šã€å‡¦ç†ä¸­æ´ã‚€ã®ã¯ç¢ºã‹ã«ã‚ã‚Šãã†ã€‚ã ã‘ã©ã€æ±ºæ¸ˆã§ã€æ•°ååˆ†ã®å‡¦ç†ä¸­ã¯ã‚ã‚‹ã‚“ã ã‚ã†ã‹ï¼Ÿ ã¾ãã€ãªã„ã§ã™ã€‚ï½—\n5åˆ†ãã‚‰ã„ã«ã¯ã§ãã‚‹ã‹ãªã¨ã¯æ€ã£ã¦ã„ã‚‹ã€‚\nãƒãƒƒãƒã«ã‚ˆã‚Šä¸æ•´åˆã‚’è§£æ¶ˆã™ã‚‹ã“ã¨ãŒèµ·ãã‚‹ã®ã‹ GCPã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å•é¡Œã§ä¸æ•´åˆãŒèµ·ãã¦ã„ã‚‹ã“ã¨ã¯ã‚ã‚‹\nuuid v4ã ã¨ã—ã¦ã‚‚è¡çªã™ã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ã™ãŒã€ãƒ¦ãƒ‹ãƒ¼ã‚¯æ€§ã¯ã©ã†æ‹…ä¿ã—ã¦ã¾ã™ã‹? DBã«ä¿å­˜ã—ã¦ãŠã‚Šã€ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„ãŒã‚ã‚‹ã®ã§å¤§ä¸ˆå¤«\nä¸æ•´åˆã‚’ä¿®æ­£ã™ã‚‹ãƒãƒƒãƒãŒã“ã‘ç¶šã‘ãŸã“ã¨ã¯ãªã„ã§ã™ã‹ï¼Ÿ ã‚ã‚Šã¾ã™ã€‚\näººåŠ›ã«ãªã‚‹ã¨ã“ã‚ã‚‚ã‚ã‚‹ã®ã§ã€æ°—ä»˜ã‘ã‚‹ä»•çµ„ã¿ã¥ãã‚Šã‚’ã—ã¦ã„ã‚‹\nã“ã“ã ã‘ã®è©± ãƒ¡ãƒ«ãƒšã‚¤ã¯ã‹ãªã‚Šã‚ªãƒ¼ãƒ—ãƒ³ã«è©±ã—ã¦ã„ã‚‹ã‹ã‚‰ã€ç‰¹ã«ç„¡ã„ï½—\nãƒãƒƒãƒå‡¦ç†ãŒå¢—ãˆã¦ãã‚‹ã¨ã€ä½•ãŒã©ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã‹ç®¡ç†ã—ãã‚Œãªããªã‚‹å ´åˆãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ãã®ã‚ãŸã‚Šã®èª²é¡Œæ„Ÿã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å‡¦ç†ã‚’æŠŠæ¡ã•ã‚Œã¦ã„ã‚‹æ–¹ãŒæ‹…ä¿ã—ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ ãã“ã¾ã§è¤‡é›‘ã«ã¯ãªã£ã¦ã„ãªã„ã€‚\nã‚ã‚‹ç¨‹åº¦ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å†…ã§é–‰ã˜ãŸçŠ¶æ…‹ã«ãªã£ã¦ã„ã‚‹ã€‚\nã ã‹ã‚‰ã€ä»Šã®ã¨ã“ã‚ç‰¹ã«ãªã«ã‚‚ã—ã¦ãªã„ã‘ã©å¤§ä¸ˆå¤«\nå…¨ä½“ã‚’æŠŠæ¡ã—ã¦ã„ã‚‹äººã¯ã„ãªã„ã€‚\nãªã‚“ã¨ãªãåˆ†ã‹ã£ã¦ã„ã‚‹äººãŒã„ã‚‹ï¼Ÿã®ã§ã€ãªã«ã‹ã‚ã£ãŸã‚‰ãã®äººä¸­å¿ƒã«å‹•ãã‹ãªãã€‚\nãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹æ„è­˜ã—ã™ãã¦ã€ã‚³ãƒ¼ãƒ‰ãƒšã‚¤ãƒ¡ãƒ³ãƒˆã¨ã‚¤ãƒ³ãƒŠãƒ¼ãƒšã‚¤ãƒ¡ãƒ³ãƒˆåˆ¥ã‘ã‚‹ã¨ã‹ã‚„ã‚Šã™ãã˜ã‚ƒãªã„ï¼Ÿ QRã¨ã‹NFCã¨ã‹æ±ºæ¸ˆãƒ—ãƒ­ãƒã‚¤ãƒ€å´ã§æ‹…ä¿ã™ã‚‹ã“ã¨ã€\nãã®è£å´ã§ã®ãŠé‡‘ã®å‹•ãã‚’åˆ¥ã‘ã‚‹ãŸã‚ã«å¿…è¦ã ã¨æ„Ÿã˜ã¦ã„ã‚‹ã€‚\nã‚¤ãƒ³ãƒŠãƒ¼ãƒšã‚¤ãƒ¡ãƒ³ãƒˆï¼šã‚¯ãƒ¬ã‚«ã§ã„ãã‚‰ã€æ®‹é«˜ã‹ã‚‰ã„ãã‚‰ã£ã¦è¨€ãˆã°ã€å‡¦ç†ã—ã¦ã€ãã®çµæœã‚’è¿”ã™ã‚„ã¤\nï¼ˆâ†‘ã¾ã¨ã‚ãã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ã§ã™ãŒâ†“ã®ãƒ„ã‚¤ãƒ¼ãƒˆãŒå‚è€ƒã«ãªã‚Šã¾ã™ï¼‰\nTwitterãƒ¡ãƒ¢ Code Paymentã¨Internal Paymentã¯åˆ†ã‘ã™ããªã®ã§ã¯ãªã„ã‹ï¼Ÿ\nå¤–éƒ¨ã¸ã®ã‚ªãƒ¼ã‚½ãƒªã‚’æŠ•ã’ã‚‹ã®ã¯ã‚„ã‚Šéãã§ã¯ãªã„ã‹ï¼Ÿã‚‚ã£ã¨ç°¡æ˜“çš„ã«ã™ã‚‹ã¹ãã§ã¯ãªã„ã‹\nInternal Paymentã¯æ±ºæ¸ˆãƒ—ãƒ­ãƒã‚¤ãƒ€ã®ã‚ˆã†ãªç«‹å ´\nCode Paymentã¯ã€æ±ºæ¸ˆãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’ä½¿ã†Fintechä¼æ¥­ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚ˆã†ãªç«‹å ´\næœ€å¾Œã« ã€Œè‡ªåˆ†ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã ã‘ã§ã¯å†ªç­‰æ€§ã‚’å®ˆã‚Œãªã„ã®ã§ã€ãã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ä»–ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ¼ãƒ ã¨ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¤§äº‹ã€\nTwitterãƒ¡ãƒ¢ ","ref":"/blog/mercari-tech-talk-idempotency/"},{"title":"GolangCI-Lintã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç†è§£ã™ã‚‹","date":"","description":"DMM Advent Calendar 2019 9æ—¥ç›®","body":"DMM Advent Calendar 2019 æœ¬è¨˜äº‹ã¯ DMM Advent Calendar 2019 ã® 9æ—¥ç›® ã®è¨˜äº‹ã§ã™ã€‚\nç§ã¯ç¾åœ¨ã€DMM.com ã® CDS ã¨ã„ã†ãƒãƒ¼ãƒ ã«æ‰€å±ã—ã€\nä¸»ã«ãƒ¦ãƒ¼ã‚¶ãƒ¬ãƒ“ãƒ¥ãƒ¼åŸºç›¤ ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’é–‹ç™ºã—ã¦ã„ã¾ã™ã€‚\nä»Šå›ã¯ã€Goç”¨Linterã§ã‚ã‚‹ GolangCI-Lint ã‚’è»½ãç´¹ä»‹ã—ãŸå¾Œã«ã€\nGolangCI-Lint ã®ãƒãƒãƒªãƒã‚¤ãƒ³ãƒˆã¨ãã®è§£æ±ºç­–ã§ã‚ã‚‹è¨­å®šå‘¨ã‚Šã®è©±ã‚’ã—ã¾ã™ã€‚\nLinter å°å…¥ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ çªç„¶ã§ã™ãŒã€ã¿ãªã•ã‚“ã®é–‹ç™ºç’°å¢ƒã«ã¯ Linter ãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ\nç§ã®æ‰€å±ã™ã‚‹ãƒãƒ¼ãƒ ã§ã¯ã€\nã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„é•å ãŠã‚ˆã³ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã¯è¦‹ã¤ã‘ã‚‰ã‚Œãªã„ã‚¨ãƒ©ãƒ¼ ã‚’æ¤œçŸ¥ã™ã‚‹ãŸã‚ã«ã€\nãƒ­ãƒ¼ã‚«ãƒ«ã¨ CI ã«ãŠã„ã¦ Linter ã‚’å›ã™ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nGoã«ãŠã‘ã‚‹Linter Goã®å ´åˆã€LinterãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã†ãˆã«ã€\nãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚‚å¤šãå­˜åœ¨ã—ã¾ã™ã€‚\nãªã‹ã§ã‚‚æœ‰åãªã‚‚ã®ã«ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\ngovetï¼šGoãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Linter errcheckï¼šã¡ã‚ƒã‚“ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ãã‚Œã‚‹ unusedï¼šæœªä½¿ç”¨ã®å®šç¾©ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã‚Œã‚‹ goimportsï¼šæœªä½¿ç”¨ã®importã‚’æ¶ˆã—ã¦ãã‚ŒãŸã‚Šã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£ã—ã¦ãã‚Œã‚‹ gosimpleï¼šã‚³ãƒ¼ãƒ‰ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã¦ãã‚Œã‚‹ ã—ã‹ã—ãªãŒã‚‰ã€å¤šã™ãã‚‹ãŒã‚†ãˆã« ã©ã‚Œã‚’é¸æŠã™ã‚Œã°ã„ã„ã®ã‹åˆ†ã‹ã‚‰ãªããªã‚ŠãŒã¡ã§ã™ã€‚\nåŠ ãˆã¦ã€å°å…¥ã™ã‚‹ Linter ãŒå¢—ãˆã‚Œã°ã€ãã®åˆ†ã ã‘ å°å…¥ãƒ»ç®¡ç†ã‚³ã‚¹ãƒˆãŒå¢—åŠ  ã—ã¾ã™ã€‚\nã“ã®å•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ãŒ GolangCI-Lint ã§ã™ã€‚\nGolangCI-Lint å‹‰å¼·ä¼šã§ã‚‚ã‚ˆãè€³ã«ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ãã¦ã„ã‚‹ï¼‹å¤šãã®ç´¹ä»‹è¨˜äº‹ãŒã‚ã‚‹ã®ã§ã€\nã“ã“ã§è©³ã—ãèª¬æ˜ã™ã‚‹å¿…è¦ã‚‚ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã„ã¡ãŠã†å°‘ã—ã ã‘è§¦ã‚Œã¦ãŠãã¾ã™ã€‚\nGolangCI-Lint ã¨ã¯ã€ Goã®Linterã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\né–‹ç™ºè€…ã¯ GolangCI-Lint ã‚’å°å…¥ã™ã‚‹ã ã‘ã§æ§˜ã€…ãª Linter ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã—ãŸãŒã£ã¦ã€Linter ã®å°å…¥ãƒ»ç®¡ç†ã‚³ã‚¹ãƒˆãŒä¸€æ°—ã«ä¸‹ãŒã‚Šã¾ã™ã—ã€\né‹ç”¨ã—ã¦ã„ãéç¨‹ã§ä¸è¦ã ã¨æ„Ÿã˜ãŸ Linter ã¯ã€ç°¡å˜ã«ç„¡åŠ¹åŒ–ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã®ã§ã€\næ°—è»½ã« Linter ã‚’è©¦ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nå¯¾å¿œ Linter ã¯ã“ã¡ã‚‰ ã«ä¸€è¦§ãŒè¼‰ã£ã¦ã„ã¾ã™ã€‚\nä¼¼ãŸã‚ˆã†ãªãƒ„ãƒ¼ãƒ«ã« gometalinter ã¨ã„ã†ã®ãŒã‚ã£ãŸã®ã§ã™ãŒã€\nã“ã¡ã‚‰ã®è­°è«– ã®çµæœã€ãªããªã‚‹ã“ã¨ãŒæ±ºå®šã—ã¾ã—ãŸã€‚\nä»Šå¾Œã®ä¸»æµã¯ GolangCI-Lint ã§ã™ã€‚\nï¼ˆâ€¦ãƒ­ã‚´ã„ã„ã§ã™ã‚ˆã­ğŸ‘ï¼‰\nä½¿ã£ã¦ã¿ã‚‹ å°å…¥ ã“ã¡ã‚‰ ã«å°å…¥æ–¹æ³•ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚\nBinary ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¦ãŠãã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n# $(go env GOPATH)/bin ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³• curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b $(go env GOPATH)/bin v1.21.0 # ./bin ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³• curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s v1.21.0 # alpine linux ç”¨ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³• wget -O- -nv https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s v1.21.0 ã‚‚ã¡ã‚ã‚“ go get ã§ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã—ã€\nä»–ã«ã‚‚ brew ã‚„ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã‚‚æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nIDEã‚„ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã§å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã‚‚ç´¹ä»‹ ã•ã‚Œã¦ãŠã‚Šã€ã‚µãƒãƒ¼ãƒˆãŒæ‰‹åšã„ã§ã™ã€‚\nå¼Šãƒãƒ¼ãƒ ã§ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ç”¨ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰æ™‚ã« go get ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\nå®Ÿè¡Œ $ golangci-lint run ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã§ãã¾ã™ã€‚\nãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚‚ Lint ã‚’ã‹ã‘ãŸã„å ´åˆã¯ã€--tests ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ä¸ã—ã¾ã™ã€‚\nä½•ã‚‚è¨­å®šã—ãªã„çŠ¶æ…‹ã§ã¯ã€ã“ã¡ã‚‰ ã«è¨˜è¼‰ã®ã‚ã‚‹ Linter ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nã§ã¯ã€å®Ÿéš›ã«å‹•ã‹ã—ã¦ã¿ã¾ã™ã€‚\n$ docker-compose exec -T app golangci-lint run --tests ./... handler/rest/blog.go:82:27: Error return value of `(*encoding/json.Encoder).Encode` is not checked (errcheck) json.NewEncoder(w).Encode(res) ^ domain/model/task/task.go:9:2: structtag: struct field tag `json:\u0026quot;title\u0026quot;,\u0026quot;hoge\u0026quot;` not compatible with reflect.StructTag.Get: key:\u0026quot;value\u0026quot; pairs not separated by spaces (govet) Title string `json:\u0026quot;title\u0026quot;,\u0026quot;hoge\u0026quot;` ^ ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚\n2è¡Œç›®ã¨5è¡Œç›®ã®æœ€å¾Œã«æ‹¬å¼§æ›¸ãã§ã‚¨ãƒ©ãƒ¼ã‚’ç™ºè¦‹ã—ãŸ Linter ã®åå‰ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚\nï¼ˆå³å¯†ã«ã¯ Lint ã§å‡ºåŠ›ã•ã‚ŒãŸå†…å®¹ã¯ã‚¨ãƒ©ãƒ¼ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€CIãŒã“ã‘ã‚‹ã¨ã„ã†æ„å‘³ã§ã€Œã‚¨ãƒ©ãƒ¼ã€ã¨å‘¼ã¶ã“ã¨ã«ã—ã¾ã™ï¼‰\nä»Šå›ã®å ´åˆã ã¨ã€errcheck ã¨ govet ãŒã‚¨ãƒ©ãƒ¼ã‚’ç™ºè¦‹ã—ãŸã‚ˆã†ã§ã™ã­ã€‚\nGolangCI-Lint ã«ã¯æ¤œçŸ¥ã§ããªã„ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹â€¦ï¼ŸğŸ§ ã§ã¯ã€ã“ã“ã‹ã‚‰æœ¬è¨˜äº‹ã®ä¸»é¡Œã«å…¥ã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nå®Ÿéš›ã« GolangCI-Lint ã‚’å°å…¥ã—ã‚ˆã†ã¨ã—ã¦ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\nã¨ã„ã£ã¦ã‚‚ã€GolangCI-Lint ã® README ã¯ã¨ã¦ã‚‚è©³ç´°ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€\nãªã«ã‹ã‚ã£ã¦ã‚‚ README ã‚’è¦‹ã‚Œã°ã™ãè§£æ±ºã§ãã¾ã™ğŸ‘\nãƒ»\nãƒ»\nãƒ»\nãã‚“ãªã“ã‚“ãªã§ã„ããªã‚Šã§ã™ãŒã€åŒã˜ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«å¯¾ã—ã¦ã€\nGolangCI-Lint ã‚’ä½¿ã‚ãšã« golint ã‚’å˜ä½“ã§èµ°ã‚‰ã›ã¦ã¿ã¾ã™ã€‚\n$ golint ./... domain/model/task/task.go:7:1: comment on exported type Task should be of the form \u0026quot;Task ...\u0026quot; (with optional leading article) ï¼ï¼Ÿ\nã•ãã»ã©ã® GolangCI-Lint ã«ã¯ãªã‹ã£ãŸã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œã¾ã—ãŸã€‚\nãªã‚“ã¨ãªãåˆ†ã‹ã£ã¦ããŸæ–¹ã‚‚ãŠã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã™ãŒã€\nGolangCI-Lint ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã ã¨ã€ã„ãã¤ã‹ã®ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nä¾‹ãˆã°ã€ä»Šå›ã®ä¾‹ã ã¨ã€ã‚³ãƒ¡ãƒ³ãƒˆã®è¨˜è¿°å½¢å¼ã«ã¤ã„ã¦ã®ã‚¨ãƒ©ãƒ¼ã§ã™ãŒã€\nãã“ã¾ã§å³å¯†ã«å®ˆã‚‰ãªãã¦ã‚‚ã„ã„å†…å®¹ã§ã™ã­ã€‚ï¼ˆåƒ•ã¯å®ˆã‚ŠãŸã„æ´¾ã§ã™ãŒã€‚ã€‚ã€‚ï¼‰\nã—ãŸãŒã£ã¦ã€GolangCI-Lint ãŒæ°—ã‚’åˆ©ã‹ã›ã¦ç„¡è¦–ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã¦ã„ã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡è¦–ã•ã‚Œã‚‹ãƒ«ãƒ¼ãƒ« ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã ã¨ç„¡è¦–ã•ã‚Œã‚‹ãƒ«ãƒ¼ãƒ«ã¯ ã“ã¡ã‚‰ ã®--exclude-use-defaultã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¬æ˜ã®ã¨ã“ã‚ã«è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ã€‚\næŠœç²‹ã—ã¦ãã‚‹ã¨ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nLinterå ç„¡è¦–ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼ï¼ˆLinterãŒå‡ºåŠ›ã™ã‚‹å†…å®¹ï¼‰ 1 errcheck Error return value of .((os\\.)?std(out|err)\\..*|.*Close|.*Flush|os\\.Remove(All)?|.*printf?|os\\.(Un)?Setenv). is not checked 2 golint (comment on exported (method|function|type|const)|should have( a package)? comment|comment should be of the form) 3 golint testç³»ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹ func name will be used as test\\.Test.* by other packages, and that stutters; consider calling this 4 govet (possible misuse of unsafe.Pointer|should have signature) 5 staticcheck ineffective break statement. Did you mean to break out of the outer loop 6 gosec Use of unsafe calls should be audited 7 gosec Subprocess launch(ed with variable|ing should be audited) 8 gosec errcheckã¨é‡è¤‡ã™ã‚‹ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ G104 9 gosec (Expect directory permissions to be 0750 or less|Expect file permissions to be 0600 or less) 10 gosec Potential file inclusion via variable ã•ãã»ã©ä¾‹ã«æŒ™ã’ã¦ã„ãŸã€golint ã®ã‚³ãƒ¡ãƒ³ãƒˆè¨˜è¿°å½¢å¼ã«é–¢ã™ã‚‹ã‚¨ãƒ©ãƒ¼ã¯ã€è¡¨ä¸­2ç•ªã®ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚\nã ã‹ã‚‰ã€GolangCI-Lint ã§ã¯æ¤œçŸ¥ã•ã‚Œãªã‹ã£ãŸã‚“ã§ã™ã­ã€‚\nã“ã®ãƒ«ãƒ¼ãƒ«ã€äººã«ã‚ˆã£ã¦ã¯ã€Œã“ã‚Œç„¡è¦–ã—ã¡ã‚ƒã ã‚ã ã‚ã€ã¨æ€ã‚ã‚Œã‚‹ã‚‚ã®ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€\næŠ•ç¨¿æ—¥æ™‚ç‚¹ã§ã¯ã“ã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒ«ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡è¦–ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« .golangci.yml æ°—ã‚’åˆ©ã‹ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã¯åˆ†ã‹ã‚Šã¾ã™ãŒã€ç„¡è¦–ã—ãªã„ã§æ¬²ã—ã„ã¨ãã‚‚ã‚ã‚Šã¾ã™ã‚ˆã­ã€‚\né€†ã«ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã—ã¦ã»ã—ã„ã£ã¦ã„ã†ãƒ‹ãƒ¼ã‚ºã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã“ã§ç™»å ´ã™ã‚‹ã®ãŒ .golangci.yml ã§ã™ã€‚\n.golangci.yml ã«ã‚ˆã‚Šã€GolangCI-Lint ã®ç´°ã‹ãªè¨­å®šãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\nCLIã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚‚æŒ‡å®šã§ãã¾ã™ãŒã€ãƒãƒ¼ãƒ ã§å…±æœ‰ã™ã‚‹ãªã‚‰è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ–¹ãŒã„ã„ã§ã—ã‚‡ã†ã€‚\nã¾ãŸã€å¾Œè¿°ã—ã¾ã™ãŒã€CLIã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯æŒ‡å®šã§ããªã„è¨­å®šã‚‚ã‚ã‚‹ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nè¨­å®šæ–¹æ³• è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ .golangci.yml ã‚’ç´¹ä»‹ã—ã¾ã—ãŸãŒã€ä»–ã«ã‚‚ä¸‹è¨˜ã®æ‹¡å¼µå­ãŒä½¿ç”¨ã§ãã¾ã™ã€‚\n.golangci.toml .golangci.json ä»Šå›ã¯.golangci.ymlã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ãŒGitHubä¸Šã«å…¬é–‹ ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä½¿ãˆã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯CLIã¨åŒã˜ã§ã™ã€‚\nãŸã ã—ã€CLI ã§ã¯ã€Linter ã”ã¨ã®è¨­å®šï¼ˆlinters-settingsï¼‰ãŒã§ããªã„ãŸã‚ã€\nLinter ã”ã¨ã«ç´°ã‹ãè¨­å®šã‚’ã—ãŸã„å ´åˆã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nè¨­ç½®å ´æ‰€ æ¬¡ã«ã€.golangci.ymlã‚’ã©ã“ã«ç½®ãã®ã‹ã¨ã„ã†è©±ã§ã™ãŒã€\nPC ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ã©ã“ã‹ ã§ã‚ã‚Œã°OKã§ã™ã€‚\nä¾‹ãˆã°ã€$GOPATH ãŒ /go ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆãŒ /go/src/github.com/yyh-gl/hoge-project ã ã£ãŸå ´åˆã€\nä»¥ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã‚’è¦‹ã«è¡Œã£ã¦ãã‚Œã¾ã™ã€‚\n./ /go/src/github.com/yyh-gl/hoge-project /go/src/github.com/yyh-gl /go/src/github.com /go/src /go / ä¸Šã«ã„ãã»ã©å„ªå…ˆé †ä½ãŒé«˜ã„ã§ã™ã€‚ï¼ˆPCã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä¸€ç•ªä½ã„ï¼‰\nåŸºæœ¬çš„ã«ã¯å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«ç½®ã„ã¦ãŠã‘ã°ã„ã„ã§ã—ã‚‡ã†ã€‚\nå®Ÿéš›ã«èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯-vã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç¢ºèªå¯èƒ½ã§ã™ã€‚\n$ golangci-lint run --tests -v ./... level=info msg=\u0026quot;[config_reader] Config search paths: [./ /go/src/github.com/yyh-gl/hoge-project /go/src/github.com/yyh-gl /go/src/github.com /go/src /go /]\u0026quot; level=info msg=\u0026quot;[config_reader] Used config file .golangci.yml\u0026quot; â† ã“ã“ \u0026lt;çœç•¥\u0026gt; ã§ã¯ã€å®Ÿéš›ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã€\nã•ãã»ã©ã® golint ãŒæ¤œçŸ¥ã—ã¦ã„ãŸã‚³ãƒ¡ãƒ³ãƒˆè¨˜è¿°å½¢å¼ã«é–¢ã™ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’ã€\nGolangCI-Lint ã§ã‚‚æ¤œçŸ¥ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã™ã€‚\n\u0026ldquo;ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡è¦–ã•ã‚Œã‚‹ãƒ«ãƒ¼ãƒ«\u0026quot;ã‚’ç„¡è¦–ã™ã‚‹ golint ãŒæ¤œçŸ¥ã—ã¦ã„ãŸã‚³ãƒ¡ãƒ³ãƒˆè¨˜è¿°å½¢å¼ã«é–¢ã™ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’æ¤œçŸ¥ã™ã‚‹ã«ã¯ã€\n\u0026ldquo;ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡è¦–ã•ã‚Œã‚‹ãƒ«ãƒ¼ãƒ«\u0026quot;ã‚’ç„¡è¦–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nè¨­å®šè‡ªä½“ã¯ã™ã”ãç°¡å˜ã§ã™ã€‚\n# .golangci.yml issues: exclude-use-default: false ä»¥ä¸Šã§ã™ã€‚\nãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n$ docker-compose exec -T app golangci-lint run --tests ./... handler/rest/blog.go:82:27: Error return value of `(*encoding/json.Encoder).Encode` is not checked (errcheck) json.NewEncoder(w).Encode(res) ^ domain/model/task/task.go:7:1: comment on exported type Task should be of the form \u0026quot;Task ...\u0026quot; (with optional leading article) (golint) // Taskhoge : ã‚¿ã‚¹ã‚¯ã‚’è¡¨ç¾ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ^ domain/model/task/task.go:9:2: structtag: struct field tag `json:\u0026quot;title\u0026quot;,\u0026quot;hoge\u0026quot;` not compatible with reflect.StructTag.Get: key:\u0026quot;value\u0026quot; pairs not separated by spaces (govet) Title string `json:\u0026quot;title\u0026quot;,\u0026quot;hoge\u0026quot;` ^ golint ã®ã‚¨ãƒ©ãƒ¼ãŒå¢—ãˆã¾ã—ãŸã­ğŸ‘\nã“ã®ã‚ˆã†ã«ç°¡å˜ã« GolangCI-Lint ã®è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nç´°ã‹ãªè¨­å®šã‚‚å¯èƒ½ ã•ãã»ã©å°‘ã—è§¦ã‚Œã¾ã—ãŸãŒã€å„ Linter ã”ã¨ã®ç´°ã‹ãªè¨­å®šã‚‚å¯èƒ½ã§ã™ã€‚\nlinters-settings å„ Linter ã”ã¨ã®è¨­å®šã¯ linters-settings ã«ã‚ˆã£ã¦å®šç¾©ã§ãã¾ã™ã€‚\n# .golangci.yml linters-settings: errcheck: check-type-assertions: false check-blank: false ignore: fmt:.*,io/ioutil:^Read.* exclude: /path/to/file.txt govet: check-shadowing: true settings: printf: funcs: - (github.com/golangci/golangci-lint/pkg/logutils.Log).Infof - (github.com/golangci/golangci-lint/pkg/logutils.Log).Warnf - (github.com/golangci/golangci-lint/pkg/logutils.Log).Errorf - (github.com/golangci/golangci-lint/pkg/logutils.Log).Fatalf enable: - atomicalign enable-all: false disable: - shadow disable-all: false golint: min-confidence: 0.8 ä¾‹ãˆã°ã€golint ã® min-confidence ã¯ Lint ã®å³ã—ã•ã‚’è¨­å®šã™ã‚‹ã‚‚ã®ã§ã€\næ•°å€¤ãŒä½ã„ã»ã©å³ã—ã„ãƒ«ãƒ¼ãƒ«ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚\nï¼ˆã¡ãªã¿ã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 0.8ã§ã€1.1 ã«ã™ã‚‹ã¨ä½•ã‚‚æ¤œçŸ¥ã—ãªããªã‚Šã¾ã™ğŸ˜‡ï¼‰\nä»–ã®è¨­å®šãŸã¡ GolangCI-Lint ã§ä½¿ç”¨ã§ãã‚‹è¨­å®šã‚’æ¢ã—ãŸã„å ´åˆã¯ã€\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’å‚è€ƒã«ã™ã‚Œã°OKã§ã™ã€‚\nã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã«åˆ©ç”¨å¯èƒ½ãªå…¨ã¦ã®è¨­å®šã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ğŸ‘ æœ€é«˜ã§ã™ã­\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ« ã¾ã¨ã‚ GolangCI-Lint ã«ã‚ˆã‚Šã€æ§˜ã€…ãª Linter ãŒä¸€å…ƒç®¡ç†ã§ãã€\nLinter ã®å°å…¥ãƒ»ç®¡ç†ã‚³ã‚¹ãƒˆãŒã¨ã¦ã‚‚ä½ããªã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚\nã¾ãŸã€ã„ã‚ã„ã‚ãª Linter ã‚’æ°—è»½ã«è©¦ã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nã¡ã‚‡ã£ã¨ã—ãŸã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„é•åã‚’æ¯å›äººåŠ›ã§æŒ‡æ‘˜ã—ã¦ã„ã‚‹æ–¹ã‚„\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã¯ç™ºè¦‹ã§ããªã„ã‚¨ãƒ©ãƒ¼ã‚’æ½°ã™ã®ã«ç–²å¼Šã—ã¦ã„ã‚‹æ–¹ãªã©ã¯ã€\nãœã²ã€GolangCI-Lint ã®å°å…¥ã‚’æ¤œè¨ã—ã¿ã¦ã¯ã„ã‹ã‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ\næœ€é«˜ã® DX ã§ã™ğŸ\nDMM Advent Calendar 2019ã€æ˜æ—¥ã¯ mimickn ã•ã‚“ã§ã™ï¼\n","ref":"/blog/golangci-lint-custom-settings/"},{"title":"ã€Go+VCRã€‘å¤–éƒ¨APIã¨ã®é€šä¿¡ã‚’ä¿å­˜ã—ã¦ãƒ†ã‚¹ãƒˆã«ä½¿ç”¨ã™ã‚‹è©±","date":"","description":"Go3 Advent Calendar 2019 8æ—¥ç›®","body":"Go3 Advent Calendar 2019 æœ¬è¨˜äº‹ã¯ Go3 Advent Calendar 2019 ã® 8æ—¥ç›® ã®è¨˜äº‹ã§ã™ã€‚\nã§ã¯ã§ã¯ã€æ—©é€Ÿæœ¬é¡Œã«å…¥ã£ã¦ã„ãã¾ã™ã€‚\nãƒ¢ãƒƒã‚¯ä½¿ã£ã¦ã¾ã™ã‹ï¼Ÿ ã¿ãªã•ã‚“ãƒ¢ãƒƒã‚¯ã‚³ãƒ¼ãƒ‰ã¯æ›¸ã„ã¦ã„ã¾ã™ã‹ï¼Ÿ\nãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹ãªã‚‰ã€ã»ã¼å¿…ãšç™»å ´ã™ã‚‹ã‚ã®ãƒ¢ãƒƒã‚¯ã§ã™ã€‚\nDBå‡¦ç†ã‚„é–¢æ•°ã®ãƒ¢ãƒƒã‚¯ãªã©ã„ã‚ã„ã‚ã‚ã‚Šã¾ã™ã‚ˆã­ã€‚\nãã‚“ãªãƒ¢ãƒƒã‚¯ã‚³ãƒ¼ãƒ‰ã§ã™ãŒã€ä½œã£ãŸã‚Šç®¡ç†ã™ã‚‹ã®ã‚ã‚“ã©ãã•ã„ãªãã¨ã‹æ€ã£ã¦ãªã„ã§ã™ã‹ï¼Ÿ\nãƒ¢ãƒƒã‚¯ã ã‹ã‚‰ã¨ã„ã£ã¦é›‘ãªã‚³ãƒ¼ãƒ‰ã«ãªã£ã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ\nä»Šå›ã¯ã€å¤–éƒ¨APIé€šä¿¡ã®ãƒ¢ãƒƒã‚¯åŒ–ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã€\nãƒ¢ãƒƒã‚¯ã‚³ãƒ¼ãƒ‰ã®ä½œæˆãƒ»ç®¡ç†ã‚³ã‚¹ãƒˆã‚’è»½æ¸›ã™ã‚‹ VCR ãƒ©ã‚¤ãƒ–ãƒ©ãƒª ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\nVCR ãƒ©ã‚¤ãƒ–ãƒ©ãƒª ã¨ã¯ï¼Ÿ VCRï¼ˆVideo Cassette Recorderï¼‰ã¨ã¯ã€é€šä¿¡ã‚’ä¿å­˜ã—ã€å†ç”Ÿã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚\nã¤ã¾ã‚Šã€APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã®åˆå›é€šä¿¡ã®å†…å®¹ã‚’ä¿å­˜ã—ã€\næ¬¡å›ä»¥é™ãã®ä¿å­˜å†…å®¹ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼‰ã‚’ä½¿ã„ã¾ã‚ã—ã¦ãã‚Œã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚\nè¨€ã„æ›ãˆã‚Œã°ã€å¤–éƒ¨APIã®ãƒ¢ãƒƒã‚¯ã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã­ï¼\nVCR ãƒ©ã‚¤ãƒ–ãƒ©ãƒª in Go World Goç”¨ã®VCRãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã„ã‚ã„ã‚ã‚ã‚Šã¾ã™ ã€‚\nã‚¹ã‚¿ãƒ¼æ•°ãŒå¤šã„ã®ã¯ä»¥ä¸‹ã®ã‚‚ã®ã§ã™ã€‚\ngo-vcr vcr-go govcr rpcreplay go-vcr ãŠã‚ˆã³ vcr-goï¼Œgovcr ã®é–‹ç™ºã¯ç››ã‚“ã§ã¯ãªã„ã‚ˆã†ã§ã™ã€‚\nrpcreplay ã¯ google-cloud-go ã«åŒ…å«ã•ã‚Œã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã‚ã‚Šã€å®‰å¿ƒã—ã¦ä½¿ãˆãã†ã§ã™ã€‚\nãŸã ã—ã€gRPC ç”¨ãªã®ã§ã€ãã®ç‚¹ã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nGoDocã¯ã“ã¡ã‚‰ ã§ã™ã€‚\nä»Šå›ã¯ REST API ã‚’ä½¿ã£ã¦èª¬æ˜ã—ã¦ã„ãã®ã§ã€go-vcr ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\ngo-vcr ã¯ã€vcr-go ã¨ govcr ã‚ˆã‚Šã‚¹ã‚¿ãƒ¼æ•°ãŒå¤šã„ã§ã™ã€‚\nRuby è£½ã® vcr ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚‚ã¨ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\nã‚µãƒ³ãƒ—ãƒ«ã‚’è¦‹ã¦ã„ã ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’äº¤ãˆã¦ç´¹ä»‹ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nä»Šå›ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªç°¡å˜ãªã‚µãƒ³ãƒ—ãƒ«ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚\nï¼ˆæœ€çµ‚çš„ãªã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ ã«ã‚ã‚Šã¾ã™ã€‚ï¼‰\nQiitaã®ãƒ¦ãƒ¼ã‚¶æƒ…å ±å–å¾—APIã‚’å‘¼ã³å‡ºã—ã€\nãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…å®¹ï¼ˆID ã¨ Location ã®ã¿ï¼‰ã‚’è¡¨ç¤ºã™ã‚‹ã ã‘ã®ç°¡å˜ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚\n// /main.go package main import ( \u0026quot;fmt\u0026quot; \u0026quot;github.com/yyh-gl/go-vcr-sample/qiita\u0026quot; ) func main() { user := qiita.FetchUser(\u0026quot;yyh-gl\u0026quot;) fmt.Println(\u0026quot;============ RESULT ============\u0026quot;) fmt.Printf(\u0026quot;%+v\\n\u0026quot;, user) fmt.Println(\u0026quot;============ RESULT ============\u0026quot;) } // /qiita/qiita.go package qiita import ( \u0026quot;encoding/json\u0026quot; \u0026quot;io/ioutil\u0026quot; \u0026quot;net/http\u0026quot; ) type User struct { ID string Location string } func FetchUser(id string) (user *User) { req, _ := http.NewRequest(\u0026quot;GET\u0026quot;, \u0026quot;https://qiita.com/api/v2/users/\u0026quot;+id, nil) client := new(http.Client) resp, _ := client.Do(req) defer resp.Body.Close() body, _ := ioutil.ReadAll(resp.Body) _ = json.Unmarshal(body, \u0026amp;user) return user } å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€ã€ã€\n$ go run main.go ============ RESULT ============ \u0026amp;{ID:yyh-gl Location:Tokyo, Japan} ============ RESULT ============ ã¡ã‚ƒã‚“ã¨ ID ã¨ Location ãŒè¡¨ç¤ºã§ãã¦ã„ã¾ã™ã­ã€‚\nãƒ†ã‚¹ãƒˆã—ãŸã„ ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã¯ç°¡å˜ãªã‚³ãƒ¼ãƒ‰ã§ã™ãŒãƒ†ã‚¹ãƒˆã‚’æ›¸ãã“ã¨ã«ã—ã¾ã™ã€‚\nãƒ»\nãƒ»\nãƒ»\n// /qiita/qiita_test.go package qiita_test import ( \u0026quot;testing\u0026quot; \u0026quot;github.com/stretchr/testify/assert\u0026quot; \u0026quot;github.com/yyh-gl/go-vcr-sample/qiita\u0026quot; ) func Test_FetchUser(t *testing.T) { tests := []struct { testCase string id string wantLocation string }{ { testCase: \u0026quot;Qiitaã‹ã‚‰yyh-glã®ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’å–å¾—ã§ãã¦ã„ã‚‹ã“ã¨\u0026quot;, id: \u0026quot;yyh-gl\u0026quot;, wantLocation: \u0026quot;Tokyo, Japan\u0026quot;, }, } for _, tt := range tests { t.Run(tt.testCase, func(t *testing.T) { user := qiita.FetchUser(tt.id) assert.Equal(t, tt.wantLocation, user.Location) }) } } æ›¸ãã¾ã—ãŸã€‚\n$ go test ./... ? github.com/yyh-gl/go-vcr-sample\t[no test files] ok github.com/yyh-gl/go-vcr-sample/qiita\t0.313s ã¡ã‚ƒã‚“ã¨ãƒ†ã‚¹ãƒˆãŒé€šã‚Šã¾ã™ã­ã€‚\nã—ã‹ã—ã€ã“ã®ã¾ã¾ã§ã¯ãƒ†ã‚¹ãƒˆã®ãŸã³ã« Qiita API ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé£›ã‚“ã§ã—ã¾ã†ã®ã§è‰¯ããªã„ã§ã™ã­ã€‚\nã“ã“ã§ã€æœ¬æ—¥ã®ä¸»å½¹ go-vcr ã‚’å°å…¥ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\ngo-vcr ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— VCR ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯é€šä¿¡å†…å®¹ã‚’ä¿å­˜ã—ã¾ã™ã€‚\nã¤ã¾ã‚Šã€é€šä¿¡ã‚’å‚å—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\ngo-vcr ã§ã¯ã€http.Client ã® Transport ã‚’ go-vcr ã§ç”¨æ„ã•ã‚ŒãŸã‚‚ã®ã«å·®ã—æ›¿ãˆã‚‹ã“ã¨ã§ã€\né€šä¿¡ã®å‚å—ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚\nã—ãŸãŒã£ã¦ã€ã¾ãšã¯ç‹¬è‡ªã® http.Client ã‚’å·®ã—è¾¼ã‚ã‚‹ã‚ˆã†ã«ã€\nã‚µãƒ³ãƒ—ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã¦ã„ãã¾ã™ã€‚\nQiita API ç”¨ã® HTTP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½œã‚‹ ã¾ãšã€qiita.go ã« HTTP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆé–¢æ•°ã‚’ä½œã‚Šã¾ã™ã€‚\n// /qiita/qiita.go package qiita import ( \u0026quot;encoding/json\u0026quot; \u0026quot;io/ioutil\u0026quot; \u0026quot;net/http\u0026quot; ) // ã“ã“ type Client struct { *http.Client } // ã“ã“ func NewClient(c *http.Client) Client { return Client{c} } type User struct { ID string Location string } // ã“ã“ func (c Client) FetchUser(id string) (user *User) { req, _ := http.NewRequest(\u0026quot;GET\u0026quot;, \u0026quot;https://qiita.com/api/v2/users/\u0026quot;+id, nil) resp, _ := c.Do(req) // ã“ã“ defer resp.Body.Close() body, _ := ioutil.ReadAll(resp.Body) _ = json.Unmarshal(body, \u0026amp;user) return user } main.go ã¨ qiita_test.go ã‚‚ç›´ã—ã¾ã™ã€‚\n// /main.go package main import ( \u0026quot;fmt\u0026quot; \u0026quot;net/http\u0026quot; \u0026quot;github.com/yyh-gl/go-vcr-sample/qiita\u0026quot; ) func main() { // ã“ã“ qiitaClient := qiita.NewClient(http.DefaultClient) user := qiitaClient.FetchUser(\u0026quot;yyh-gl\u0026quot;) fmt.Println(\u0026quot;============ RESULT ============\u0026quot;) fmt.Printf(\u0026quot;%+v\\n\u0026quot;, user) fmt.Println(\u0026quot;============ RESULT ============\u0026quot;) } // /qiita/qiita_test.go package qiita_test import ( \u0026quot;net/http\u0026quot; \u0026quot;testing\u0026quot; \u0026quot;github.com/stretchr/testify/assert\u0026quot; \u0026quot;github.com/yyh-gl/go-vcr-sample/qiita\u0026quot; ) func Test_FetchUser(t *testing.T) { tests := []struct { testCase string id string wantLocation string }{ { testCase: \u0026quot;Qiitaã‹ã‚‰yyh-glã®ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’å–å¾—ã§ãã¦ã„ã‚‹ã“ã¨\u0026quot;, id: \u0026quot;yyh-gl\u0026quot;, wantLocation: \u0026quot;Tokyo, Japan\u0026quot;, }, } // ã“ã“ qiitaClient := qiita.NewClient(http.DefaultClient) for _, tt := range tests { t.Run(tt.testCase, func(t *testing.T) { user := qiitaClient.FetchUser(tt.id) assert.Equal(t, tt.wantLocation, user.Location) }) } } ã“ã®çŠ¶æ…‹ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã€ã€\n$ go test ./... ? github.com/yyh-gl/go-vcr-sample\t[no test files] ok github.com/yyh-gl/go-vcr-sample/qiita\t0.293s ã¡ã‚ƒã‚“ã¨é€šã‚Šã¾ã™ã­ã€‚\nã•ã¦ã€ã“ã‚Œã§ NewClient() ã«æ¸¡ã™å¼•æ•°ï¼ˆhttp.Clientï¼‰ã—ã ã„ã§ã€\nä½¿ç”¨ã™ã‚‹ HTTP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\ngo-vcr å°å…¥ ã“ã“ã‹ã‚‰ go-vcr ã‚’å°å…¥ã—ã¦ã€å¤–éƒ¨APIã¨ã®é€šä¿¡ã‚’ä¿å­˜ãƒ»å†ç”Ÿã—ã¦ã„ãã®ã§ã™ãŒã€\nã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã§ã™ã€‚\nä»Šå›ã¯ãƒ†ã‚¹ãƒˆã«ãŠã„ã¦ã€å¤–éƒ¨APIã¨ã®é€šä¿¡éƒ¨åˆ†ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„ã®ã§ã€\nqiita_test.go ã‚’ç›´ã—ã¦ã„ãã¾ã™ã€‚\n// /qiita_test.go package qiita_test import ( \u0026quot;net/http\u0026quot; \u0026quot;testing\u0026quot; \u0026quot;github.com/dnaeon/go-vcr/recorder\u0026quot; \u0026quot;github.com/stretchr/testify/assert\u0026quot; \u0026quot;github.com/yyh-gl/go-vcr-sample/qiita\u0026quot; ) func Test_FetchUser(t *testing.T) { tests := []struct { testCase string id string wantLocation string }{ { testCase: \u0026quot;Qiitaã‹ã‚‰yyh-glã®ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’å–å¾—ã§ãã¦ã„ã‚‹ã“ã¨\u0026quot;, id: \u0026quot;yyh-gl\u0026quot;, wantLocation: \u0026quot;Tokyo, Japan\u0026quot;, }, } // ã“ã“ // go-vcr ã®ãƒ¬ã‚³ãƒ¼ãƒ€ã‚’ç”Ÿæˆ // é€šä¿¡å†…å®¹ã¯ ../fixtures/qiita ã«ä¿å­˜ã•ã‚Œã‚‹ r, _ := recorder.New(\u0026quot;../fixtures/qiita\u0026quot;) defer r.Stop() customHTTPClient := \u0026amp;http.Client{ Transport: r, // ã“ã“ é‡è¦ï¼ } qiitaClient := qiita.NewClient(customHTTPClient) for _, tt := range tests { t.Run(tt.testCase, func(t *testing.T) { user := qiitaClient.FetchUser(tt.id) assert.Equal(t, tt.wantLocation, user.Location) }) } } ä»¥ä¸Šã§çµ‚äº†ã§ã™ã€‚\nã“ã®çŠ¶æ…‹ã§ $ go test ./... ã—ã¦ã¿ã‚‹ã¨ã€\n$ go test ./... ? github.com/yyh-gl/go-vcr-sample\t[no test files] ok github.com/yyh-gl/go-vcr-sample/qiita\t0.472s æ™®é€šã«ãƒ†ã‚¹ãƒˆãŒé€šã‚Šã¾ã™ã­ã€‚\nã§ã¯ã€ã“ã®çŠ¶æ…‹ã§ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆWiFiï¼‰ã‚’åˆ‡ã£ã¦ã€å†åº¦ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã™ã€‚\n$ go test ./... ? github.com/yyh-gl/go-vcr-sample\t[no test files] ok github.com/yyh-gl/go-vcr-sample/qiita\t0.014s æˆåŠŸã—ã¾ã—ãŸã€‚\n\u0026ldquo;ä¿å­˜ã•ã‚ŒãŸé€šä¿¡å†…å®¹\u0026quot;ã‚’è¦‹ã¦ã„ã‚‹ã®ã§ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ç¹‹ãŒã£ã¦ã„ãªãã¦ã‚‚ã€ãƒ†ã‚¹ãƒˆãŒé€šã‚Šã¾ã™ã€‚\nï¼ˆ\u0026ldquo;ä¿å­˜ã•ã‚ŒãŸé€šä¿¡å†…å®¹\u0026quot;ãŒã©ã“ã«ã‚ã‚‹ã‹ã¯å¾Œã§èª¬æ˜ã—ã¾ã™ï¼‰\nã¤ã¾ã‚Šã€ãƒ¢ãƒƒã‚¯åŒ–ã§ãã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã§ã™ï¼\nã—ã‹ã‚‚ã€å®Ÿè¡Œæ™‚é–“ãŒçŸ­ããªã£ã¦ã„ã¾ã™ã­ï¼ã“ã‚Œã¯ã§ã‹ã„ã€‚\nã§ã¯ã€\u0026ldquo;ä¿å­˜ã•ã‚ŒãŸé€šä¿¡å†…å®¹\u0026quot;ã‚’æ¶ˆã—ã¦ã€å†åº¦ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n$ go test ./... ? github.com/yyh-gl/go-vcr-sample\t[no test files] panic: runtime error: invalid memory address or nil pointer dereference [recovered] panic: runtime error: invalid memory address or nil pointer dereference [signal SIGSEGV: segmentation violation code=0x1 addr=0x40 pc=0x12aef8d] goroutine 21 [running]: testing.tRunner.func1(0xc0000fe200) /Users/yyh-gl/.anyenv/envs/goenv/versions/1.13.4/src/testing/testing.go:874 +0x3a3 panic(0x1343900, 0x1642f80) /Users/yyh-gl/.anyenv/envs/goenv/versions/1.13.4/src/runtime/panic.go:679 +0x1b2 github.com/yyh-gl/go-vcr-sample/qiita.Client.FetchUser(0xc00008b2c0, 0x13a96ac, 0x6, 0x104fe28) /Users/yyh-gl/workspaces/Go/src/github.com/yyh-gl/go-vcr-sample/qiita/qiita.go:26 +0x10d github.com/yyh-gl/go-vcr-sample/qiita_test.Test_FetchUser.func1(0xc0000fe200) /Users/yyh-gl/workspaces/Go/src/github.com/yyh-gl/go-vcr-sample/qiita/qiita_test.go:37 +0x49 testing.tRunner(0xc0000fe200, 0xc0000a0540) /Users/yyh-gl/.anyenv/envs/goenv/versions/1.13.4/src/testing/testing.go:909 +0xc9 created by testing.(*T).Run /Users/yyh-gl/.anyenv/envs/goenv/versions/1.13.4/src/testing/testing.go:960 +0x350 FAIL\tgithub.com/yyh-gl/go-vcr-sample/qiita\t0.020s FAIL ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã­ã€‚\nã¡ã‚ƒã‚“ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã¦ã„ãªã„ã®ã§ã€nilå‚ç…§ã®ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã„ã¾ã™ãŒã€\nã“ã‚Œã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ç¹‹ãŒã£ã¦ã„ãªã„ï¼ˆï¼‹\u0026quot;ä¿å­˜ã•ã‚ŒãŸé€šä¿¡å†…å®¹\u0026quot;ãŒãªã„ï¼‰ãŸã‚ã«ã€\nå¤–éƒ¨APIã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¤±æ•—ã—ã€ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã§ã™ã€‚\n\u0026ldquo;ä¿å­˜ã•ã‚ŒãŸé€šä¿¡å†…å®¹\u0026rdquo; ã§ã¯ã€ã•ãã»ã© go test ã‚’åˆã‚ã¦å®Ÿè¡Œã—ãŸã¨ãã«ä½•ãŒèµ·ã“ã£ã¦ã„ãŸã®ã‹ã‚’èª¬æ˜ã—ã¾ã™ã€‚\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€\n$ tree go-vcr-sample go-vcr-sample â”œâ”€â”€ fixtures â”‚Â â””â”€â”€ qiita.yaml â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â”œâ”€â”€ main.go â””â”€â”€ qiita â”œâ”€â”€ qiita.go â””â”€â”€ qiita_test.go fixtures ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã§ãã¦ã„ã¾ã™ã€‚\nä¸­èº«ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€\n$ ls fixtures qiita.yaml qiita.yaml ãŒã§ãã¦ã„ã¾ã™ã€‚\n# /fixtures/qiita.yaml --- version: 1 interactions: - request: body: \u0026quot;\u0026quot; form: {} headers: {} url: https://qiita.com/api/v2/users/yyh-gl method: GET response: body: \u0026quot;{\\\u0026quot;description\\\u0026quot;:\\\u0026quot;æ±äº¬ã§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã—ã¦ã¾ã™ï¼CLIååˆº $ npx yyh-glï¼ãƒ¡ã‚¤ãƒ³ã¯å€‹äººãƒ–ãƒ­ã‚°ã§ã™\\U0001F4DD\\\u0026quot;,\\\u0026quot;facebook_id\\\u0026quot;:\\\u0026quot;\\\u0026quot;,\\\u0026quot;followees_count\\\u0026quot;:19,\\\u0026quot;followers_count\\\u0026quot;:18,\\\u0026quot;github_login_name\\\u0026quot;:\\\u0026quot;yyh-gl\\\u0026quot;,\\\u0026quot;id\\\u0026quot;:\\\u0026quot;yyh-gl\\\u0026quot;,\\\u0026quot;items_count\\\u0026quot;:11,\\\u0026quot;linkedin_id\\\u0026quot;:\\\u0026quot;\\\u0026quot;,\\\u0026quot;location\\\u0026quot;:\\\u0026quot;Tokyo, Japan\\\u0026quot;,\\\u0026quot;name\\\u0026quot;:\\\u0026quot;\\\u0026quot;,\\\u0026quot;organization\\\u0026quot;:\\\u0026quot;\\\u0026quot;,\\\u0026quot;permanent_id\\\u0026quot;:119088,\\\u0026quot;profile_image_url\\\u0026quot;:\\\u0026quot;https://qiita-image-store.s3.amazonaws.com/0/119088/profile-images/1535528464\\\u0026quot;,\\\u0026quot;team_only\\\u0026quot;:false,\\\u0026quot;twitter_screen_name\\\u0026quot;:null,\\\u0026quot;website_url\\\u0026quot;:\\\u0026quot;https://tech.yyh-gl.dev/\\\u0026quot;}\u0026quot; headers: Cache-Control: - max-age=0, private, must-revalidate Content-Type: - application/json; charset=utf-8 Date: - Sat, 07 Dec 2019 07:27:05 GMT Etag: - W/\u0026quot;a6adaa36bf27d2045a25659539dcdae5\u0026quot; Rate-Limit: - \u0026quot;60\u0026quot; Rate-Remaining: - \u0026quot;56\u0026quot; Rate-Reset: - \u0026quot;1575706459\u0026quot; Referrer-Policy: - strict-origin-when-cross-origin Server: - nginx Strict-Transport-Security: - max-age=2592000 Vary: - Origin X-Content-Type-Options: - nosniff X-Download-Options: - noopen X-Frame-Options: - SAMEORIGIN X-Permitted-Cross-Domain-Policies: - none X-Request-Id: - f0ca74f0-4aae-4d0f-b6f9-ec08b0407b56 X-Runtime: - \u0026quot;0.082646\u0026quot; X-Xss-Protection: - 1; mode=block status: 200 OK code: 200 duration: \u0026quot;\u0026quot; ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŠã‚ˆã³ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ãŒå…¨ã¦ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ã«ã€go-vcr ã§ã¯ã€é€šä¿¡å†…å®¹ã‚’å‚å—ã—ã¦ã€yaml å½¢å¼ã§ä¿å­˜ã—ã¾ã™ã€‚\nï¼ˆå†…å®¹è‡ªä½“ã‚‚ã€Web ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãªã‚‰ã‚ˆãè¦‹ã‹ã‘ã‚‹å˜èªã°ã‹ã‚Šãªã®ã§èª­ã¿ã‚„ã™ã„ã§ã™ã­ï¼‰\nãã—ã¦ã€ã“ã® yaml ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¨ãã¯ã€å¤–éƒ¨APIã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é£›ã°ã•ãšã«ã€\nyaml ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‹ã‚‰ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã—ã¾ã™ã€‚\nãƒªã‚¯ã‚¨ã‚¹ãƒˆæ¸ˆã¿ã‹ã©ã†ã‹ã®åˆ¤æ–­æ–¹æ³• ã“ã“ã§ã€go-vcr ãŒã©ã®ã‚ˆã†ã«ã—ã¦ã€\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã£ãŸã“ã¨ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¦ã„ã‚‹ã®ã‹èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚\nç­”ãˆã¯ã“ã¡ã‚‰ ã®ã‚³ãƒ¼ãƒ‰ã«ã‚ã‚Šã¾ã™ã€‚\n// DefaultMatcher is used when a custom matcher is not defined // and compares only the method and URL. func DefaultMatcher(r *http.Request, i Request) bool { return r.Method == i.Method \u0026amp;\u0026amp; r.URL.String() == i.URL } compares only the method and URL.\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨ã€HTTP ãƒ¡ã‚½ãƒƒãƒ‰ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆURL ã—ã‹è¦‹ã¦ãªã„ã‚“ã§ã™ã­ã€‚\nã—ã‹ã—ã€ã“ã®åˆ¤å®šå‡¦ç†ã«ãŠã„ã¦ã€\nHTTP ãƒ¡ã‚½ãƒƒãƒ‰ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆURLä»¥å¤–ã‚‚è¦‹ã‚‹ã‚ˆã†ã«ã—ãŸã‹ã£ãŸã‚Šã€\né€†ã«ã“ã®URLã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã ã‘ã¯ä¿å­˜ã—ãŸããªã„ã¨ã„ã£ãŸãƒ‹ãƒ¼ã‚ºã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã“ã§ ç™»å ´ã™ã‚‹ã®ãŒ Custom Request Matching ã§ã™ã€‚\nCustom Request Matching README.md ã«ã‚‚ã‚ã‚‹ã¨ãŠã‚Šã€\nMatcher ã‚’ä½œã£ã¦ã‚ã’ã‚‹ã ã‘ã§ã€ç°¡å˜ã«ã‚ªãƒªã‚¸ãƒŠãƒ«ã®åˆ¤å®šå‡¦ç†ã‚’å®Ÿè£…å¯èƒ½ã§ã™ã€‚\nã•ãã»ã©ã® README.md ã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’æ‹å€Ÿã—ã¦ã€\nåƒ•ã®ã‚³ãƒ¼ãƒ‰æ›¸ãæ›ãˆã¦ã¿ã‚‹ã¨ä»¥ä¸‹ã®ã¨ãŠã‚Šã«ãªã‚Šã¾ã™ã€‚\n// /qiita/qiita_test.go package qiita_test import ( \u0026quot;bytes\u0026quot; \u0026quot;io/ioutil\u0026quot; \u0026quot;net/http\u0026quot; \u0026quot;testing\u0026quot; \u0026quot;github.com/dnaeon/go-vcr/cassette\u0026quot; \u0026quot;github.com/dnaeon/go-vcr/recorder\u0026quot; \u0026quot;github.com/stretchr/testify/assert\u0026quot; \u0026quot;github.com/yyh-gl/go-vcr-sample/qiita\u0026quot; ) func Test_FetchUser(t *testing.T) { tests := []struct { testCase string id string wantLocation string }{ { testCase: \u0026quot;Qiitaã‹ã‚‰yyh-glã®ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’å–å¾—ã§ãã¦ã„ã‚‹ã“ã¨\u0026quot;, id: \u0026quot;yyh-gl\u0026quot;, wantLocation: \u0026quot;Tokyo, Japan\u0026quot;, }, } // go-vcr ã®ãƒ¬ã‚³ãƒ¼ãƒ€ã‚’ç”Ÿæˆ // é€šä¿¡å†…å®¹ã¯ ../fixtures/qiita ã«ä¿å­˜ã•ã‚Œã‚‹ r, _ := recorder.New(\u0026quot;../fixtures/qiita\u0026quot;) defer r.Stop() // ã“ã“ r.SetMatcher(func(r *http.Request, i cassette.Request) bool { if r.Body == nil { return cassette.DefaultMatcher(r, i) } var b bytes.Buffer if _, err := b.ReadFrom(r.Body); err != nil { return false } r.Body = ioutil.NopCloser(\u0026amp;b) return cassette.DefaultMatcher(r, i) \u0026amp;\u0026amp; (b.String() == \u0026quot;\u0026quot; || b.String() == i.Body) }) customHTTPClient := \u0026amp;http.Client{ Transport: r, } qiitaClient := qiita.NewClient(customHTTPClient) for _, tt := range tests { t.Run(tt.testCase, func(t *testing.T) { user := qiitaClient.FetchUser(tt.id) assert.Equal(t, tt.wantLocation, user.Location) }) } } SetMatcher() å†…ã®å‡¦ç†ã«ã‚ˆã£ã¦ã€åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã‚’å¤‰æ›´ã—ã¾ã™ã€‚\nã“ã®ä¾‹ã ã¨ã€HTTP ãƒ¡ã‚½ãƒƒãƒ‰ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆURL ã«åŠ ãˆã¦ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆBody ã®å†…å®¹ã‚‚è¦‹ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ã«ã€SetMatcher() ã‚’å®šç¾©ã—ã¦ã‚„ã‚‹ã ã‘ã§ã™ã€‚\nå¾Œã¯ã„ã¤ã‚‚ã©ãŠã‚Šã€http.Client ã® Transport ã«æ¸¡ã—ã¦ã‚„ã‚‹ã ã‘ãªã®ã§ç°¡å˜ã§ã™ã­ğŸ‘\nä¿å­˜å†…å®¹ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒå‡ºãŸã¨ãã¯ã©ã†ã™ã‚‹ï¼Ÿ yaml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¶ˆã™ã ã‘ã§ã™ã€‚\nä¾‹ãˆã°ã€å¤–éƒ¨APIã®ä»•æ§˜ãŒå¤‰ã‚ã‚Šã€ãƒ¢ãƒƒã‚¯ã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒå‡ºã¦ããŸå ´åˆã¯ã€\nyaml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¶ˆã—ã¦ã‚„ã‚‹ã ã‘ã§ã€æ¬¡ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’ä¿å­˜ =\u0026gt; ã¤ã¾ã‚Šã€ãƒ¢ãƒƒã‚¯ã‚’æ›´æ–°ã§ãã¾ã™ã€‚\nã‚‚ã¡ã‚ã‚“ yaml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥å¤‰æ›´ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nãƒ¢ãƒƒã‚¯ã®ç®¡ç†ãŒæ¥½ã«ãªã‚Šã¾ã™ã­ğŸ‘\nã¾ã¨ã‚ go-vcr ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€å¤–éƒ¨APIé€šä¿¡ã®ãƒ¢ãƒƒã‚¯åŒ–ãŠã‚ˆã³ç®¡ç†ãŒç°¡å˜ã«ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nã—ã‹ã‚‚ã€ãƒ¢ãƒƒã‚¯ã®å†…å®¹ã¯ã€å®Ÿéš›ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦å¾—ãŸå†…å®¹ãªã®ã§ã€\nä»•æ§˜ãŒæ¼ã‚Œã‚‹ã“ã¨ã‚‚ãªã„ã§ã—ã‚‡ã†ã€‚\nã¾ãŸã€ä»Šå›ã¯èª¬æ˜ã—ã¾ã›ã‚“ã§ã—ãŸãŒã€\ngo-vcr ã«ã¯ Protecting Sensitive Data ã¨ã„ã†æ©Ÿèƒ½ã‚‚ã‚ã‚Šã€\næŒ‡å®šã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ã¨ã„ã£ãŸã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ãŒé«˜ãã€ã¨ã¦ã‚‚ãŠã™ã™ã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚\nã‚‚ã—ãƒ¢ãƒƒã‚¯ã®ä½œæˆãƒ»ç®¡ç†ã§æ‚©ã‚“ã§ã„ã‚‹æ–¹ãŒãŠã‚‰ã‚ŒãŸã‚‰ã€\nãœã²ä¸€åº¦æ¤œè¨ã—ã¦ã¿ã¦ãã ã•ã„ï¼\nGo3 Advent Calendar 2019ã€æ˜æ—¥ã¯ EbiEbiEvidence ã•ã‚“ã§ã™ğŸ›«\n","ref":"/blog/golang-vcr/"},{"title":"ã€React+TypeScriptã€‘TypeScriptå…¥é–€","date":"","description":"TypeScript Advent Calendar 2019 2æ—¥ç›®","body":"TypeScript Advent Calendar 2019 æœ¬è¨˜äº‹ã¯ TypeScript Advent Calendar 2019 ã® 2 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\nå†…å®¹ã¨ã—ã¦ã¯ã€TypeScript åˆç´šè€…ã®ãŸã‚ã® TypeScript å…¥é–€ã§ã™ã€‚\nåŸºç¤çš„ãªå†…å®¹ã‹ã‚‰å…¥ã‚Šã€\næœ€çµ‚çš„ã«ã¯ã€ä¼æ¥­ã‚„å€‹äººã®æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚’å‚è€ƒã«ã€\nReact ã®å®Ÿãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã„ã¦ã€\nã©ã®ã‚ˆã†ã« TypeScript ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã®ã‹ç´¹ä»‹ã§ãã‚Œã°ã¨æ€ã„ã¾ã™ã€‚\nï¼ˆAPIãƒªã‚¯ã‚¨ã‚¹ãƒˆå‘¨ã‚Šã®TypeScriptæ´»ç”¨äº‹ä¾‹ã‚’ç´¹ä»‹ï¼‰\nä»Šæ—¥ã®è¨˜äº‹ã‚’èª­ã‚“ã§ TypeScript ã«å…¥é–€ã—ã€\nä»Šå¾Œã® TypeScript Advent Calendar ã‚’ãŠæ¥½ã—ã¿ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ï¼\nåŸºç¤ç·¨ TypeScript ã¨ã¯ TypeScript ã¯ Microsoft ç¤¾ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚Œã€ ç¾åœ¨ã¯ OSS ã¨ã—ã¦é–‹ç™ºãŒé€²ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nã€ŒTypeScript ã¨ã¯ä½•ã‹ã€ã‚’ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã¨ã€\nJavaScript ã«å¯¾ã—ã¦ã€çœç•¥ã‚‚å¯èƒ½ãªé™çš„å‹ä»˜ã‘ã¨ã‚¯ãƒ©ã‚¹ãƒ™ãƒ¼ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã‚’åŠ ãˆãŸã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆ ã§ã™ã€‚\nå…¬å¼ã‚µã‚¤ãƒˆ ã¯ã“ã¡ã‚‰ã§ã€\n2019å¹´12æœˆ2æ—¥ç¾åœ¨ã€æœ€æ–°ç‰ˆã¯ 3.7.2 ã¨ãªã£ã¦ã„ã¾ã™ã€‚\nã§ã¯ã€å®Ÿéš›ã«ã‚³ãƒ¼ãƒ‰ã‚’äº¤ãˆãªãŒã‚‰åŸºç¤çš„ãªéƒ¨åˆ†ã‚’èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚\nãŸã ã—ã€å®Ÿè·µç·¨ã§ä½¿ç”¨ã™ã‚‹å†…å®¹ã«çµã£ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™ã®ã§ã€\nãã®ç‚¹ã¯ã”äº†æ‰¿ãã ã•ã„ğŸ™‡â€\nï¼ˆè¶³ã‚Šãªã„æƒ…å ±ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ï¼‰\nå‹ ã§ã¯ã€æ—©é€Ÿã€TypeScript ã®å‹ã«è§¦ã‚Œã¦ã„ãã¾ã—ã‚‡ã†ã€‚\nTypeScript ã§ä½¿ç”¨ã§ãã‚‹åŸºæœ¬çš„ãªå‹ã¨ã—ã¦ä»¥ä¸‹ã®ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\nBoolean Number String Array Tuple Enum Any Void Null and Undefined Never Object ã ã„ãŸã„ã®å‹ã¯ä»–è¨€èªã§ã‚‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€\nèª¬æ˜ãŒãªãã¦ã‚‚ç†è§£ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚\nTuple ã‚„ Never ã¨ã„ã£ãŸã€ä»–è¨€èªã§ã¯è¦‹æ…£ã‚Œãªã„å‹ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€\nä»–ã‚µã‚¤ãƒˆã§ãŸãã•ã‚“èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã®ã§å‰²æ„›ã—ã¾ã™ã€‚\nã€å‚è€ƒã‚µã‚¤ãƒˆã€‘\nå…¬å¼ã‚µã‚¤ãƒˆ Qiitaè¨˜äº‹ å‹ã®å®£è¨€æ–¹æ³•ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nfunction greeter(person: string) { return \u0026quot;Hello, \u0026quot; + person; } const user: string = \u0026quot;Jane User\u0026quot;; document.body.textContent = greeter(user); 1è¡Œç›®ã«ã¦ã€greeter() ã« person ã¨ã„ã† string å‹ã®å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒæ˜ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚\nã¾ãŸã€å¤‰æ•° user ã¯ string å‹ã§ã‚ã‚‹ã“ã¨ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä»®ã« greeter() ã« string å‹ä»¥å¤–ã®å€¤ã‚’æ¸¡ã™ã¨ã€\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ or IDE ä¸Šã«ã‚¨ãƒ©ãƒ¼ãŒåã‹ã‚Œã‚‹ã®ã§ã€ãƒŸã‚¹ã«æ°—ã¥ãã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ æ¬¡ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã™ã€‚\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯æœ¬æ¥ã€JavaScript ã«ç„¡ã„æ©Ÿèƒ½ã§ã™ãŒã€\nTypeScript ã«ã‚ˆã£ã¦ãã®æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€ã‚¯ãƒ©ã‚¹ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ ¼ã‚’å®šç¾©ã™ã‚‹ã®ã«ä½¿ç”¨ã—ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¹ã ã‘ã§ãªãã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ ¼ã‚’å®šç¾©ã§ãã‚‹ãŸã‚ã€\nAPI ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã£ã¦ãã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆï¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã®è¦æ ¼ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\næœ‰ç”¨æ€§ã®é«˜ã„æ©Ÿèƒ½ã®ã²ã¨ã¤ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\nå®šç¾©æ–¹æ³•ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\ninterface LabeledValue { label: string; } function printLabel(labeledObj: LabeledValue) { console.log(labeledObj.label); } let myObj = {size: 10, label: \u0026quot;Size 10 Object\u0026quot;}; printLabel(myObj); ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã¯ã€LabeledValue ã¨ã„ã†ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã€\nãã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã™ myObj ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\nåŠ ãˆã¦ã€printLabel() ã¨ã„ã† LabeledValue ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å—ã‘å–ã‚‹é–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\nmyObj ã¯ label ã‚’æŒã£ã¦ã„ã‚‹ã®ã§ã€LabeledValue ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã—ã¦ãŠã‚Šã€\nprintLabel() ã«å¼•æ•°ã¨ã—ã¦æ¸¡ã™ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nã‚¯ãƒ©ã‚¹ã®è¦æ ¼å®šç¾©ã¨ã—ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\nã“ã¡ã‚‰ã¯ä»–è¨€èªã§ã‚ˆãè¦‹ã‚‹å½¢ãªã®ã§è©³ç´°ãªèª¬æ˜ã¯çœç•¥ã—ã¾ã™ã€‚\ninterface ClockInterface { currentTime: Date; setTime(d: Date): void; } class Clock implements ClockInterface { currentTime: Date = new Date(); setTime(d: Date) { this.currentTime = d; } constructor(h: number, m: number) { } } ãªãŠã€ã‚¯ãƒ©ã‚¹ã¨ã„ã†æ¦‚å¿µã¯ JavaScriptï¼ˆES6ï¼‰ ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ã®æ©Ÿèƒ½ã‚’\nES6 ä»¥å‰ã® JavaScript ã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã‚‚ã®ã§ã™ã€‚\nå…¥é–€æ™‚ã®è½ã¨ã—ç©´ åƒ•ãŒ TypeScript ã‚’åˆã‚ã¦è§¦ã£ãŸã¨ãã«æˆ¸æƒ‘ã£ãŸã®ãŒä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã§ã—ãŸã€‚\nCould not find a declaration file for module 'react-router-config'. '/hoge/index.js' implicitly has an 'any' type. Try `npm install @types/react-router-config` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-router-config';` TS7016 1 | import React from 'react'; \u0026gt; 2 | import { renderRoutes, RouteConfigComponentProps } from 'react-router-config'; | ^ 3 | import './App.css'; 4 | 5 | const App: React.FC\u0026lt;RouteConfigComponentProps\u0026gt; = ({ route }) =\u0026gt; { ã“ã®ã‚¨ãƒ©ãƒ¼ãŒä½•ã‚’è¨€ã£ã¦ã„ã‚‹ã‹ã¨è¨€ã†ã¨ã€\nã€Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ä½¿ç”¨ã™ã‚‹é–¢æ•°ã‚„å¤‰æ•°ã«é–¢ã™ã‚‹å‹å®£è¨€æƒ…å ±ãŒãªã„ã‹ã‚‰ã€ã©ã†è§£é‡ˆã—ãŸã‚‰ã„ã„ã‹åˆ†ã‹ã‚‰ã‚“ï¼ã€\nã£ã¦ã“ã¨ã§ã™ã€‚\nãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ TypeScript ã®ãŸã‚ã§ã¯ãªãã€JavaScript ã®ãŸã‚ã®ã‚‚ã®ãªã®ã§ã€\nã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸­ã«ã¯ã€TypeScript å¯¾å¿œã—ã¦ã„ãªã„ã‚‚ã®ãŒã‚ã‚‹ã®ã¯å½“ç„¶ã§ã™ã‚ˆã­ã€‚\nã§ã¯ã€ã©ã†ã™ã‚‹ã‹ã§ã™ãŒã€\n@types ã‚’ä½¿ã£ã¦ã‚„ã‚Œã°OKã§ã™ã€‚\n@types @types ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€æä¾›ã•ã‚Œã¦ã„ã‚‹å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\næœ¬ã‚µã‚¤ãƒˆ ã«ã‚ˆã‚‹ã¨ã€\nJavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®90%ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‚“ã ã¨ã‹ã€‚\nã™ã”ã™ãã‚‹ã€‚ã€‚ã€‚\nä¾‹ãˆã°ã€ã•ãã»ã©ã®ã‚¨ãƒ©ãƒ¼ã«å¯¾å¿œã™ã‚‹å ´åˆã¯ã€\nnpm install @types/react-router-config ã‚’å®Ÿè¡Œã—ã¦ã‚„ã‚‹ã“ã¨ã§ã€\nreact-router-config ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹ã«é–¢ã™ã‚‹å®šç¾©ã‚’å–å¾—ã§ãã¾ã™ã€‚\nå‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ« ã‚‚ã—å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ãŒæä¾›ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ è‡ªåˆ†ã§å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ä½œã‚‹ã¨ãã¯æœ¬ã‚µã‚¤ãƒˆ ãŒå‚è€ƒã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚\nï¼ˆã“ã‚“ãªæŠ€ ã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ãŒâ€¦ï¼‰\nå®Ÿè·µç·¨ ã§ã¯ã€ï¼ˆã‹ãªã‚Šã–ã£ãã‚Šã¨ï¼‰åŸºæœ¬çš„ãªã“ã¨ã¯ãŠè©±ã—ãŸã®ã§ã€\nå®Ÿè·µçš„ãªå†…å®¹ã«å…¥ã£ã¦ã„ãã¾ã™ã€‚\nä»Šå›ã¯ã€React + TypeScript ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nã‚½ãƒ¼ã‚¹ã¯GitHub ä¸Šã«ã‚ã’ã¦ã„ã¾ã™ã€‚\nReact ï¼‹ TypeScript ç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— React ï¼‹ TypeScript ã®é–‹ç™ºç’°å¢ƒã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã²ã¨ã¤ã§æƒã„ã¾ã™ã€‚\n$ npx create-react-app my-app --typescript\nã“ã“ã‹ã‚‰ã€srcé…ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’å°‘ã—å¤‰æ›´ã—ã¦ã„ãã¾ã™ã€‚\nä»Šå›ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’å–ã‚Šã¾ã—ãŸã€‚\nWebã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã«ãŠã„ã¦ã‚ˆãè¦‹ã‚‰ã‚Œã‚‹å½¢ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ\n$ tree react-typescript-sample react-typescript-sample â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â”œâ”€â”€ public â”œâ”€â”€ src â”‚Â â”œâ”€â”€ App.css â”‚Â â”œâ”€â”€ App.test.tsx â”‚Â â”œâ”€â”€ App.tsx â”‚Â â”œâ”€â”€ api â”‚Â â”‚Â â”œâ”€â”€ client.ts â”‚Â â”‚Â â””â”€â”€ user.ts â”‚Â â”œâ”€â”€ components â”‚Â â”œâ”€â”€ index.css â”‚Â â”œâ”€â”€ index.tsx â”‚Â â”œâ”€â”€ layouts â”‚Â â”œâ”€â”€ models â”‚Â â”‚Â â””â”€â”€ user.ts â”‚Â â”œâ”€â”€ pages â”‚Â â”‚Â â””â”€â”€ users.tsx â”‚Â â”œâ”€â”€ react-app-env.d.ts â”‚Â â”œâ”€â”€ router â”‚Â â”‚Â â””â”€â”€ index.tsx â”‚Â â””â”€â”€ serviceWorker.ts â”œâ”€â”€ tsconfig.json â””â”€â”€ yarn.lock ãªãŠã€ä»Šå›ã¯èª¬æ˜ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€\ncomponents ãŠã‚ˆã³ layouts ã¯ä½¿ç”¨ã—ã¦ã„ã¾ã›ã‚“ã€‚\næœ¬æ¥ã§ã‚ã‚Œã°ã€pages ã¯ components é…ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã«ã‚ˆã‚Šè¡¨ç¾ã—ã¾ã™ã€‚\ncomponents é…ä¸‹ã¯ã€Atomic Design ã«æ²¿ã£ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆãŒå–ã‚‰ã‚Œã‚‹ã“ã¨ãŒå¤šã„æ°—ãŒã—ã¾ã™ã€‚\nã¾ãŸã€ãƒšãƒ¼ã‚¸ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã‚„ãƒ•ãƒƒã‚¿ãƒ¼ã€ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä½ç½®ãªã©ï¼‰ã¯ã€\nlayouts é…ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã‚ˆã£ã¦è¡¨ç¾ã—ã¾ã™ã€‚\nAPI ãƒªã‚¯ã‚¨ã‚¹ãƒˆ æœ€è¿‘ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã¯ã€\nãƒ•ãƒ­ãƒ³ãƒˆã‹ã‚‰ API ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ã‚·ãƒ¼ãƒ³ãŒå¤šãã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ã•ã„ã«ã€API ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒ\nã©ã†ã„ã£ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã£ã¦ã„ã‚‹ã®ã‹ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚Œã°ã€\nä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…å®¹ãŒãƒ•ãƒ­ãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰èª­ã¿å–ã‚Œã‚‹ å­˜åœ¨ã—ãªã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã„ã£ãŸå‡¡ãƒŸã‚¹ã‚’ç„¡ãã›ã‚‹ IDE ã«ã‚ˆã‚‹è£œå®ŒãŒåŠ¹ã ã§ã¯ã€å®Ÿéš›ã«ã©ã†ã‚„ã£ã¦ API ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å®šç¾©ã™ã‚‹ã®ã‹è¦‹ã¦ã„ãã¾ã™ã€‚\nä»Šå›ã¯ã€ä¾‹ã¨ã—ã¦ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’å—ã‘å–ã‚‹ API ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚ ä¸‹è¨˜ã®ã‚ˆã†ãª JSON ã‚’å–å¾—ã—ã¾ã™ã€‚\nGET https://localhost:3000/api/v1/users [ { \u0026quot;id\u0026quot;: 1, \u0026quot;first_name\u0026quot;: \u0026quot;ä¿¡é•·\u0026quot;, \u0026quot;last_name\u0026quot;: \u0026quot;ç¹”ç”°\u0026quot; }, { \u0026quot;id\u0026quot;: 2, \u0026quot;first_name\u0026quot;: \u0026quot;ç§€å‰\u0026quot;, \u0026quot;last_name\u0026quot;: \u0026quot;è±Šè‡£\u0026quot; }, { \u0026quot;id\u0026quot;: 3, \u0026quot;first_name\u0026quot;: \u0026quot;å…‰ç§€\u0026quot;, \u0026quot;last_name\u0026quot;: \u0026quot;æ˜æ™º\u0026quot; } ] 1. interface ã‚’å®šç¾© ã¾ãšã¯ã€ãƒ¦ãƒ¼ã‚¶æƒ…å ±ãŒã©ã†ã„ã£ãŸå½¢å¼ã§é€ã‚‰ã‚Œã¦ãã‚‹ã®ã‹ã€\ninterfaceã‚’ä½¿ã£ã¦è¡¨ç¾ã—ã¾ã™ã€‚\n// /src/models/user.ts export interface User { id: number; firstName: string; lastName: string; } 2. API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å®Ÿè£… æ¬¡ã¯ API ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ Axios ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚\n// /src/api/client.js import axios, { AxiosInstance, AxiosResponse } from 'axios'; import camelCaseKeys from 'camelcase-keys'; let client: AxiosInstance; export default client = axios.create({ baseURL: `http://localhost:3000/api/v1`, headers: { 'Content-Type': 'application/json', } }); client.interceptors.response.use( (response: AxiosResponse): AxiosResponse =\u0026gt; { const data = camelCaseKeys(response.data); return { ...response.data, data }; } ); ã“ã“ã§æ³¨ç›®ã™ã¹ãç‚¹ãŒ2ã¤ã‚ã‚Šã¾ã™ã€‚\n1ã¤ç›®ã¯ã€Axios ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã•ã„ã«å‹æƒ…å ±ã‚‚åˆã‚ã›ã¦å–å¾—ã—ã¦ã„ã‚‹ç‚¹ã§ã™ã€‚\n3è¡Œç›®ã«ã¦ã€axios ä»¥å¤–ã« AxiosInstance ã¨ AxiosResponse ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚\nã“ã® AxiosInstance ã¨ AxiosResponse ã“ããŒ Axios ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ä½¿ç”¨ã™ã‚‹å‹æƒ…å ±ã§ã™ã€‚\nãã‚Œãã‚Œ 6è¡Œç›® ã¨ 16è¡Œç›® ã§ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚\n2ã¤ç›®ã¯ã€camelcase-keys ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ç‚¹ã§ã™ã€‚\nJavaScript ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã§ã¯ã€å¤‰æ•°åã«ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nã—ã‹ã—ãªãŒã‚‰ã€ JSON ã®ã‚­ãƒ¼åã¯å¤šãã®å ´åˆã§ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã§ã™ã€‚\nã¤ã¾ã‚Šã€æ™®é€šã« JSON ã‚’å—ã‘å–ã‚‹ã¨ã€\nresposen.first_name ã®ã‚ˆã†ã«ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šå‡ºã—ã¾ã™ã€‚\nã—ã‹ã—ã€ã“ã‚Œã§ã¯ JavaScript ã®å‘½åè¦å‰‡çš„ã«æ°—æŒã¡æ‚ªã„ã§ã™ã­ã€‚\nåŠ ãˆã¦ã€User ãƒ¢ãƒ‡ãƒ«ï¼ˆinterfaceï¼‰ã¯ firstName ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã‚‹ãŸã‚ã€\nfirst_name ã¨ã—ã¦å—ã‘å–ã‚‹ã®ã¯ã‚ˆã‚ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã“ã§ camelcase-keys ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç™»å ´ã§ã™ã€‚\nã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã®ã‚­ãƒ¼åã‚’ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã€\næœ¬ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã¦ã€å—ã‘å–ã£ãŸ JSON ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ¼åã‚’å…¨ã¦ã‚’ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚\nTypeScript ã®è©±ã‹ã‚‰å°‘ã—è„±ç·šã—ã¾ã—ãŸãŒã€\nã“ã‚Œã§ User ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã©ãŠã‚Šã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘å–ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚\n3. ãƒ¦ãƒ¼ã‚¶ä¸€è¦§å–å¾— API ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè£… ã§ã¯ã€ã•ãã»ã©å®Ÿè£…ã—ãŸ Axios ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ã£ã¦ã€\nAPI ã‚µãƒ¼ãƒã«ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’ã‚‚ã‚‰ã†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã—ã¾ã™ã€‚\n// /src/api/user.ts import { AxiosPromise } from 'axios'; import client from './client'; import { User } from '../models/user'; export const fetchUsers = (): AxiosPromise\u0026lt;User[]\u0026gt; =\u0026gt; client.get(`/users`); 8è¡Œç›®ã«ã¦ã€User[] ã‚’å—ã‘å–ã‚‹ã“ã¨ã‚’æ˜ç¤ºã—ã¦ã„ã¾ã™ã€‚\n4. ãƒ¦ãƒ¼ã‚¶ä¸€è¦§ã‚’å–å¾—ï¼†è¡¨ç¤º ã§ã¯ã€å—ã‘å–ã£ãŸãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’è¡¨ç¤ºã—ã¦ã¿ã¾ã™ã€‚\nãªãŠã€å†’é ­ã§èª¬æ˜ã—ãŸã¨ãŠã‚Šã€\nç°¡ç•¥åŒ–ã®ãŸã‚ã«ã€è¡¨ç¤ºã«é–¢ã™ã‚‹å…¨å®Ÿè£…ã‚’ pages ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§è¡Œã„ã¾ã™ã€‚\n// /src/pages/users.tsx import React, { useEffect, useState } from 'react'; import { fetchUsers } from '../api/user'; import { User } from '../models/user'; const Users: React.FC = () =\u0026gt; { const [userList, setUserList] = useState\u0026lt;User[] | undefined\u0026gt;(undefined); const fetchUsersReq = async () =\u0026gt; { try { const { data } = await fetchUsers(); return data; } catch (e) { console.log(e); } }; useEffect(() =\u0026gt; { const data = fetchUsersReq(); data.then(users =\u0026gt; { setUserList(users); }); }, []); return ( \u0026lt;\u0026gt; \u0026lt;h1\u0026gt;User List\u0026lt;/h1\u0026gt; { userList \u0026amp;\u0026amp; userList.map((user) =\u0026gt; { return ( \u0026lt;p key={user.id}\u0026gt;{`${user.lastName} ${user.firstName}`}\u0026lt;/p\u0026gt; \u0026lt;!-- ãƒã‚¤ãƒ³ãƒˆ3 --\u0026gt; ); }) } \u0026lt;/\u0026gt; ); }; export default Users; ã¾ãšåˆã‚ã«ç™»å ´ã™ã‚‹å‹ã¯ã€React.FCï¼ˆ8è¡Œç›®ï¼‰ã§ã™ã€‚\nã“ã®å‹ã¯ React Functional Component ã‚’æ„å‘³ã—ã¾ã™ã€‚\næ¬¡ã«ç™»å ´ã™ã‚‹ã®ã¯ã€9è¡Œç›®ã® useState\u0026lt;User[] | undefined\u0026gt; ã§ã™ã­ã€‚\nã“ã®å®šç¾©ã¯ã€userList ã®å‹ãŒ User[] ã¾ãŸã¯ undefined ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚\nã‚ã¨ã¯ã€useEffect() ã§ã•ãã»ã©å®Ÿè£…ã—ãŸ API ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã„ã€\nå–å¾—ã—ãŸãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’ userList ã«ã‚»ãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚\nã“ã®ã¨ãã€33è¡Œç›®ã®ãƒ¦ãƒ¼ã‚¶æƒ…å ±è¡¨ç¤ºå‡¦ç†ã§ã¯ã€\nUser ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¦ã„ã‚‹ãŸã‚ã€\nIDE ã«ãŠã„ã¦ã€ã©ã†ã„ã£ãŸã‚­ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã‹ãŒè£œå®Œå€™è£œã¨ã—ã¦å‡ºã¦ãã¾ã™ï¼ â†“\nå‹ãŒã¡ã‚ƒã‚“ã¨å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€\nå–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã€ã©ã†ã„ã£ãŸå‡¦ç†ãŒã§ãã‚‹ï¼ˆã©ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’é©ç”¨ã§ãã‚‹ï¼‰ã‹ãŒæ˜ç¢ºã«ãªã‚Šã€\nå‡¡ãƒŸã‚¹ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã¾ã™ã—ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§å‘ä¸Šã«ã‚‚ç¹‹ãŒã‚Šã¾ã™ã€‚\nã„ã„ã§ã™ã­ï¼\nå®Ÿè·µç·¨ã¯ä»¥ä¸Šã§ã™ã€‚\nAPI ãƒªã‚¯ã‚¨ã‚¹ãƒˆéƒ¨åˆ†ã ã‘ã‹ã‚ˆã¨ã„ã†ãƒ„ãƒƒã‚³ãƒŸã¯ã©ã†ã‹ã”å‹˜å¼ã‚’ğŸ˜‡\næœ€å¾Œã« TypeScript ã‚’ä½¿ã†ä¸Šã§ã®æ³¨æ„ç‚¹ã¨æœ€æ–°ç‰ˆã§è¿½åŠ ã•ã‚ŒãŸæ©Ÿèƒ½ã‚’å°‘ã—ç´¹ä»‹ã—ã¦çµ‚ã‚ã‚Šã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nTypeScriptã‚’ä½¿ã†ä¸Šã§ã®æ³¨æ„ç‚¹ TypeScript ã®å‹æƒ…å ±ã¯ãªããªã‚‹ TypeScript ã§å‹ã‚’å®šç¾©ã—ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€æœ€çµ‚çš„ã«ãã®ã‚³ãƒ¼ãƒ‰ã¯ JavaScript ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚\nã”å­˜çŸ¥ã®ã¨ãŠã‚Šã€JavaScript ã«ã¯å‹ãªã©ã‚ã‚Šã¾ã›ã‚“ã€‚\nã—ãŸãŒã£ã¦ã€å®Ÿéš›ã«å‹•ãã‚³ãƒ¼ãƒ‰ã«ã¯å‹æƒ…å ±ã¯ã¤ã„ã¦ã„ã¾ã›ã‚“ã€‚\nã‚ãã¾ã§é–‹ç™ºæ®µéšã§å‹ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã‚„è£œå®Œãªã©ãŒã§ãã‚‹ã ã‘ã§ã‚ã‚‹ã“ã¨ã€\nã¡ã‚ƒã‚“ã¨ç†è§£ã—ã¦ãŠãã“ã¨ãŒã€ã¨ã¦ã‚‚é‡è¦ã ã¨æ€ã„ã¾ã™ã€‚\ncreate-react-app ã§ã¯ä½¿ãˆãªã„æ©Ÿèƒ½ãŒã‚ã‚‹ create-react-app ã®æœ€æ–°ç‰ˆ 3.2.0 ã§ã¯ã€\nTypeScript 3.7 ã‹ã‚‰ä½¿ç”¨ã§ãã‚‹ä¸€éƒ¨æ©Ÿèƒ½ã«ã¾ã å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚\næœ¬å†…å®¹ã«ã¤ã„ã¦ã¯ã€æ¬¡ç« ã«ã¦è©³ç´°ã«è©±ã—ã¾ã™ã€‚\næœ€æ–°å®‰å®šç‰ˆ 3.7 ã§è¿½åŠ ã•ã‚ŒãŸæ©Ÿèƒ½ 2019å¹´11æœˆ7æ—¥ã«ãƒ¡ã‚¸ãƒ£ãƒ¼ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒè¡Œã‚ã‚Œã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 3.7 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚\nä»Šå›ã¯ä»¥ä¸‹ã®æ–°æ©Ÿèƒ½ã‚’ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\nOptional Chaining Kotlin ã‚’æ›¸ã„ãŸã“ã¨ãŒã‚ã‚‹äººã¯ã€è¦‹è¦šãˆã®ã‚ã‚‹æ–‡æ³•ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ\nlet x = foo?.bar.baz(); ã“ã®ã‚ˆã†ã«æ›¸ã‘ã°ã€foo ãŒ null ã¾ãŸã¯ undefined ã˜ã‚ƒãªã„å ´åˆã«ã®ã¿ foo.bar.baz() ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã¨åŒç¾©ã§ã™ã€‚\nlet x = (foo === null || foo === undefined) ? undefined : foo.bar.baz(); ã“ã“ã§ã€ã•ãã»ã©ã€æœ€æ–°ç‰ˆã® create-react-app ã§ã¯ æœ€æ–°ç‰ˆ TypeScript ã®ä¸€éƒ¨æ©Ÿèƒ½ãŒä½¿ãˆãªã„ã¨è¨€ã„ã¾ã—ãŸãŒã€\nãã®æ©Ÿèƒ½ãŒã“ã® Optional Chaining ã§ã™ã€‚\næœ¬æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€\n./src/pages/users.tsx SyntaxError: /Users/yyh-gl/workspaces/React/react-typescript-sample/src/pages/users.tsx: Support for the experimental syntax 'optionalChaining' isn't currently enabled (29:25): 27 | \u0026lt;h1\u0026gt;User List\u0026lt;/h1\u0026gt; 28 | { \u0026gt; 29 | userList?.map((user) =\u0026gt; { | ^ 30 | return ( 31 | \u0026lt;p\u0026gt;{user.firstName}\u0026lt;/p\u0026gt; 32 | ); Add @babel/plugin-proposal-optional-chaining (https://git.io/vb4Sk) to the 'plugins' section of your Babel config to enable transformation. ã“ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã€\nBabelï¼ˆTypeScript ã‚’ JavaScript ã«å¤‰æ›ã™ã‚‹ã‚„ã¤ï¼‰ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã« @babel/plugin-proposal-optional-chaining ã‚’è¿½åŠ ã—ã‚ã¨è¨€ã‚ã‚Œã¾ã™ã€‚\nã—ã‹ã—ãªãŒã‚‰ã€ç¾åœ¨ã€Babel ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹ .babelrc ã‚„ babel.config.js ã« create-react-appï¼ˆå³å¯†ã«ã¯ react-scriptsï¼‰ãŒå¯¾å¿œã—ã¦ãŠã‚‰ãšã€èª­ã¿è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚\næœ¬ä»¶ã«ã¤ã„ã¦ã¯ã€ã™ã§ã« Issue ãŒå‡ºã•ã‚Œã¦ã€PRã‚‚ãƒãƒ¼ã‚¸æ¸ˆã¿ã¨ã„ã†ã“ã¨ãªã®ã§ã€\nä»Šå¾Œã®ãƒªãƒªãƒ¼ã‚¹ã«æœŸå¾…ã§ã™ã­ã€‚ã€‚ã€‚\nå‚è€ƒã‚µã‚¤ãƒˆ ãªãŠã€Optional Chaining ã¯æœ¬å®¶ JavaScript ã«ã‚‚çµ„ã¿è¾¼ã¾ã‚Œã‚‹äºˆå®šã§ã™ï¼\nTypeScript ã¯ã€JavaScript ã® Class ã®ã‚ˆã†ã«ã€\nJavaScriptã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ãªã„ã¨ä½¿ãˆãªã„æ©Ÿèƒ½ã‚’\nãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¬ãƒ™ãƒ«ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã‚‹ã®ã§ã„ã„ã§ã™ã­ğŸ‘\nNullish Coalescing Nullish Coalescing ã‚’ã‚³ãƒ¼ãƒ‰ã§è¡¨ã™ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nlet x = foo ?? bar(); foo ãŒ null ã¾ãŸã¯ undefined ã§ãªã‘ã‚Œã°ã€ foo ãŒä»£å…¥ã•ã‚Œã¾ã™ã€‚\nnull ã¾ãŸã¯ undefined ã§ã‚ã‚Œã°ã€bar() ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã¨åŒç¾©ã§ã™ã€‚\nlet x = (foo !== null \u0026amp;\u0026amp; foo !== undefined) ? foo : bar(); ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°é‡ãŒæ¸›ã£ã¦ã„ã„ã§ã™ã­ğŸ‘\nã¾ã¨ã‚ TypeScript å…¥é–€ ã„ã‹ãŒã§ã—ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ\nè©³ç´°ãªèª¬æ˜ã‚’é£›ã°ã—ãŸã¨ã“ã‚ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€\nTypeScript ãŒã©ã‚“ãªæ„Ÿã˜ãªã®ã‹ã€å°‘ã—ã§ã‚‚æ„Ÿã˜ã¦ã‚‚ã‚‰ãˆãŸãªã‚‰ã°å¹¸ã„ã§ã™ã€‚\nTypeScript ã¯å‹ã«æ³¨ç›®ãŒã„ããŒã¡ã§ã™ãŒã€\nä»–ã«ã‚‚æ§˜ã€…ãªä¾¿åˆ©æ©Ÿèƒ½ãŒã‚ã‚‹ã®ã§ã€ã©ã‚“ã©ã‚“ä½¿ã„å€’ã—ã¦ã„ããŸã„ã§ã™ã­ï¼\næ˜æ—¥ã‹ã‚‰ã®ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¨˜äº‹ã‚‚æ¥½ã—ã¿ã§ã™ğŸ˜ƒ\nTypeScript Advent Calendar 2019ã€\næ˜æ—¥ã¯ kimromi ã•ã‚“ã®ã€Flowã‹ã‚‰TypeScriptã«æ®µéšçš„ã«ç§»è¡Œã™ã‚‹ ã€ã§ã™ğŸ›«\n","ref":"/blog/react_typescript_sample/"},{"title":"ã€DeNA.go #3ã€‘Goæ´»ç”¨äº‹ä¾‹ã‚„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã®è©±èã„ã¦ããŸ","date":"","description":"DeNAã•ã‚“ä¸»å‚¬ã®Goå‹‰å¼·ä¼š","body":"DeNA.go #3 connpass ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼š#DeNAgo åˆå‚åŠ ã§ã™ï¼\nãƒ“ãƒ¼ãƒ«ã¨ãŠå¼å½“ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚\nãã—ã¦ãªã‚“ã¨ãªã‚“ã¨ k8sã®æŠ€è¡“æ›¸ã‚’ã„ãŸã ã„ã¡ã‚ƒã„ã¾ã—ãŸï¼ï¼ï¼\nã‚‚ã¡ã‚ã‚“ã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚‚ã‚ã‚Šã¾ã—ãŸã‚ˆğŸ‘\n1. [Goæ´»ç”¨äº‹ä¾‹]å®‰å…¨é‹è»¢æ”¯æ´ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ”¯ãˆã‚‹é‹ç”¨ã‚µã‚¤ãƒˆ ç™»å£‡è€…ï¼š@suhirotaka ã•ã‚“ ã‚ªãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ†ã‚£ãƒ–äº‹æ¥­æœ¬éƒ¨ã‚¹ãƒãƒ¼ãƒˆãƒ‰ãƒ©ã‚¤ãƒ“ãƒ³ã‚°éƒ¨ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã‚°ãƒ«ãƒ¼ãƒ—\nã‚¹ãƒ©ã‚¤ãƒ‰ ä¸»é¡Œ ç®¡ç†ç”»é¢ã‚’Goã§ä½œæˆ\nRailsã§ä½œã£ã¦ã‚‹ã‚‚ã®ã‚’Goã§ä½œã‚‹ç†ç”± å®Ÿè¨¼å®Ÿé¨“æ™‚ã¯ã‚¹ãƒ”ãƒ¼ãƒ‰é‡è¦–ã§Rails æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é‡è¦–ã§Go é †æ¬¡Goã«æ›¸ãæ›ãˆã¦ã„ã\nGoã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ Goã®WAFï¼ˆWeb Application Frameworkï¼‰ã«ã¯\nãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ»MVC ãƒŸãƒ‹ãƒãƒ«ãƒ»é«˜é€Ÿ ã®2ç¨®é¡ãŒã‚ã‚‹\nã“ã®è¾ºã®è©±ã¯ã€åƒ•ã®æ—§ãƒ–ãƒ­ã‚° ã«ã‚‚ã„ã‚ã„ã‚æ›¸ã„ã¦ã„ã‚‹ã®ã§ã©ã†ããƒ¼\nDeNAã§ã¯ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ»MVCã‚’é¸æŠ\nGoã«ãŠã‘ã‚‹ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãªWAF Beegoï¼šæ¡ç”¨ï¼ Revelï¼šé–‹ç™ºãŒæ­¢ã¾ã£ã¦ãã¦ã„ã‚‹ Irisï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é‹ç”¨ãŒã†ã¾ãã„ã£ã¦ã„ãªã„ã‚ˆã†ã ã£ãŸ Beego ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã®MVCãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ ORMã¾ã§ã¤ã„ã¦ã‚‹ ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã€ãƒ­ã‚¬ãƒ¼ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã„ã‚ã„ã‚ã¤ã„ã¦ã‚‹ã‘ã©ã€å…¨ã¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚Œã¦ã„ã¦ã€éƒ¨åˆ†çš„ã«ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹ Railsãƒ©ã‚¤ã‚¯ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ Railsã®before/after_actionã«ç›¸å½“ã™ã‚‹ã‚‚ã®ã‚‚ã‚ã‚‹ï¼ˆPrepare(), Finish()ï¼‰ ãƒ©ã‚¤ãƒ–ãƒ©ãƒª ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã“ã¡ã‚‰ ã“ã†ã„ã†ã®æ•™ãˆã¦ãã‚Œã‚‹ã®ã‚ã£ã¡ã‚ƒå¬‰ã—ã„\nORMï¼šGORM ãƒ­ã‚¬ãƒ¼ï¼šlogrus PDFç”Ÿæˆï¼šgopdf â†’ æ—¥æœ¬èªã‚‚ãã‚Œã„ã«ã§ã‚‹ã®ã§æœ€é«˜ã«ã‚¯ãƒ¼ãƒ« ç”»åƒç”Ÿæˆï¼šgg ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼šBarcode 2. Webã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨Go ï¼ˆå†™çœŸæ’®ã‚Šå¿˜ã‚ŒãŸâ€¦ï¼‰\nç™»å£‡è€…ï¼šï¼ˆ@karupaneruraï¼‰ ã‚²ãƒ¼ãƒ ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆäº‹æ¥­æœ¬éƒ¨ã‚²ãƒ¼ãƒ äº‹æ¥­éƒ¨Publishçµ±æ‹¬éƒ¨å…±é€šåŸºç›¤éƒ¨ã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã‚°ãƒ«ãƒ¼ãƒ—\nã‚¹ãƒ©ã‚¤ãƒ‰ Webã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã¯ ãŸãã•ã‚“ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ã§ãã‚‹ ã‹ã¤ ãƒªã‚½ãƒ¼ã‚¹æ¶ˆè²»ãŒå°‘ãªã„ã®ãŒ ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§è¦‹ãŸã¨ãã®ç†æƒ³çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\nãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã®ã„ã‚ã„ã‚ è©³ã—ã„ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°æ–¹æ³•ã¯ã“ã¡ã‚‰ ã“ã®ä¸­ã§åˆã‚ã¦çŸ¥ã£ãŸã‚‚ã®ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—â†“\nâ— Server Sent Events HTTPã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã‚’æŒç¶šã•ã›ã‚‹ WebSocketã‚ˆã‚Šæ‰±ã„ãŒç°¡å˜ã‚‰ã—ã„ ãƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã®è«¸æ³¨æ„ çµå±€ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¶ˆè²»ã—ã¦ã„ã‚‹ã“ã¨ã«é•ã‚ãªã„ã®ã§ã€ãƒ¡ãƒ¢ãƒªç®¡ç†ã¯ã¡ã‚ƒã‚“ã¨ã—ãªã„ã¨ã„ã‘ãªã„\nQ\u0026amp;A Q. sync.Pool ã§ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã¯è‰¯ã„ãŒãƒ¡ãƒ¢ãƒªã¯æ¶ˆè²»ã—ã¦ã„ãã¨ã¯ï¼Ÿï¼ˆè©²å½“ã‚¹ãƒ©ã‚¤ãƒ‰ãƒšãƒ¼ã‚¸ ï¼‰\nA. PoolãŒå±…ç¶šã‘ã‚‹ã‹ã‚‰ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ã™ã‚‹ã‚ˆã£ã¦è©±\nQ. SetMaxOpenConnsã®æ•°ã£ã¦ã©ã†ã‚„ã£ã¦æ±ºã‚ã‚‹ã®ãŒã„ã„ï¼Ÿ\nA. DBã¸ã®ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãŒã©ã‚Œãã‚‰ã„ã‹ã¨ã‹ã‚’å¯è¦–åŒ–ã—ã¦ã€ãã®ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦å¤§ãã™ããšã€å°ã•ã™ããšã®æ•°ã‚’æ¢ã—ã¦ã„ãï¼ˆæœ€çµ‚çš„ã«ã¯æ‰‹æ¢ã‚Šï¼‰\nQ. ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã®ä½¿ã„æ‰€\nA. ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã‚ˆã‚Šã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§å¯¾å¿œã§ãã‚‹ã“ã¨ãŒå¤šã„ ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§å¯¾å¿œã—ãŸå ´åˆã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå®Ÿè£…ï¼‰ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹\n","ref":"/blog/denago_3/"},{"title":"ã€GitHub Actionsã€‘ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã¿ãŸ","date":"","description":"HCLã§ã¯ãªãã¦ymlç‰ˆã§ã™","body":"ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨ã¯ GitHub Actions ã§ã¯ã€é–‹ç™ºè€…ãŒã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆLint ã‚„ãƒ†ã‚¹ãƒˆã¨ã„ã£ãŸã‚¸ãƒ§ãƒ–ãªã©ï¼‰ã‚’ä½œã£ã¦ã€å…¬é–‹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ã“ã®å…¬é–‹ã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€ä¸–ç•Œä¸­ã®äººãŒä½¿ãˆã‚‹ãŸã‚ã€ã‚‚ã¡ã‚ã‚“è‡ªåˆ†ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æŒã£ã¦ãã¦ä½¿ç”¨ã§ãã¾ã™ã€‚ ã“ã®å…¬é–‹ã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã“ã¨ã‚’ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ã¨ã„ã„ã¾ã™ã€‚\nãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒæº¢ã‚ŒãŸä¸–ç•Œã‚’æƒ³åƒã™ã‚‹ã ã‘ã§ãƒ¯ã‚¯ãƒ¯ã‚¯ã—ã¾ã™ã­ğŸ‘ ï¼ˆé‡è‰¯ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨åŒæ§˜ã«ã€ã»ã„ãã‚Œã¨ã¯ä½¿ãˆãªã„ã§ã—ã‚‡ã†ãŒâ€¦ï¼‰\nä»Šå›ã€ã¨ã‚Šã‚ã’ã‚‹ã®ã¯ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æ­£åå¯¾ã«ã‚ã‚‹ã‚‚ã®ã§ã™ã€‚ ã¤ã¾ã‚Šã€å…¬é–‹ã—ãªã„ï¼ˆã§ããªã„ï¼‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ï¼ ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ã§ã™ã€‚ ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ãŸã‚ã®æº–å‚™ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n.github â”œâ”€â”€ actions â”‚Â â””â”€â”€ golang-test â”‚Â â”œâ”€â”€ Dockerfile â”‚Â â”œâ”€â”€ action.yml â”‚Â â””â”€â”€ entrypoint.sh â””â”€â”€ workflows â””â”€â”€ golang.yml /actions ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã« golang-test ã¨ã„ã†ã€Lint ã¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚\n/workflow ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã«ã¯ã€golang ç”¨ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ã¦ã„ã¾ã™ã€‚\nã§ã¯ã€æ¬¡ã‹ã‚‰å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å®šç¾©ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚\nãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾© # /actions/golang-test/action.yml name: 'Golang Lint and Test Action' description: 'Lint and Test for Golang' author: 'yyh-gl' runs: # Docker ã‚’ä½¿ã£ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’å®£è¨€ using: 'docker' # ä½¿ç”¨ã™ã‚‹ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ‡å®š image: 'Dockerfile' ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©ã¯ä¸Šè¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚\naction.yml å†…ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ Dockerfile ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n# /actions/golang-test/Dockerfile FROM golang:1.12.5 LABEL \u0026quot;name\u0026quot;=\u0026quot;Golang workflow\u0026quot; \\ \u0026quot;maintainer\u0026quot;=\u0026quot;yyh-gl \u0026lt;yhonda.95.gl@gmail.com\u0026gt;\u0026quot; \\ \u0026quot;com.github.actions.icon\u0026quot;=\u0026quot;code\u0026quot; \\ \u0026quot;com.github.actions.color\u0026quot;=\u0026quot;green-dark\u0026quot; \\ \u0026quot;com.github.actions.name\u0026quot;=\u0026quot;golangã€€workflow\u0026quot; \\ \u0026quot;com.github.actions.description\u0026quot;=\u0026quot;This is an Action to run go and golangci-lint commands.\u0026quot; ENV LINT_VERSION=\u0026quot;v1.18.0\u0026quot; COPY entrypoint.sh /entrypoint.sh RUN curl -sfL https://install.goreleaser.com/github.com/golangci/golangci-lint.sh | sh -s -- -b $(go env GOPATH)/bin ${LINT_VERSION} \\ \u0026amp;\u0026amp; chmod +x /entrypoint.sh ENTRYPOINT [\u0026quot;/entrypoint.sh\u0026quot;] Dockerfile å†…ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ entorypoint.sh ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n# /actions/golang-test/entrypoint.sh #!/bin/bash APP_DIR=\u0026quot;/go/src/github.com/${GITHUB_REPOSITORY}/\u0026quot; mkdir -p \u0026quot;${APP_DIR}\u0026quot; \u0026amp;\u0026amp; cp -r ./ \u0026quot;${APP_DIR}\u0026quot; \u0026amp;\u0026amp; cd \u0026quot;${APP_DIR}\u0026quot; export GO111MODULE=on go mod tidy go mod verify if [[ \u0026quot;$1\u0026quot; == \u0026quot;lint\u0026quot; ]]; then echo \u0026quot;############################\u0026quot; echo \u0026quot;# Running GolangCI-Lint... #\u0026quot; echo \u0026quot;############################\u0026quot; golangci-lint --version echo golangci-lint run --tests --disable-all --enable=goimports --enable=golint --enable=govet --enable=errcheck ./... fi Dockerfile ã¨ entrypoint.sh ã¯ã“ã¡ã‚‰ ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚\nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®šç¾© # /workflow/golang.yml # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®åå‰ name: Workflow for Golang # push ã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ on: [push] # ã‚¸ãƒ§ãƒ–ã‚’å®šç¾©ï¼šã‚¸ãƒ§ãƒ–ã¯ä¸¦åˆ—å‡¦ç†ã•ã‚Œã‚‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œï¼‰ jobs: lint: name: Lint runs-on: ubuntu-latest # job ã®ä¸­ã«ã•ã‚‰ã«ç´°ã‹ã„ç²’åº¦ã§ step ãŒå­˜åœ¨ï¼šstep ã¯ job ã¨é•ã„ä¸Šã‹ã‚‰é †ã«å®Ÿè¡Œã•ã‚Œã‚‹ steps: - name: Checkout uses: actions/checkout@v1 - name: Lint uses: ./.github/actions/golang test: name: Test runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v1 - name: Test run: go test ./... /workflows/golang.yml ã®ä¸­èº«ã‚’ä¸Šè¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚ ä»Šå›ã¯ Lint ã¨ go test ã‚’ä¸¦åˆ—ã§å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\né‡è¦ãƒã‚¤ãƒ³ãƒˆï¼šãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ã®è¨­å®šå·®ç•° ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨ãã¯ ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ ãŒå¿…é ˆã§ã™ï¼\nå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µãƒ³ãƒ—ãƒ« ã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚\nname: Greet Everyone # This workflow is triggered on pushes to the repository. on: [push] jobs: build: # Job name is Greeting name: Greeting # This job runs on Linux runs-on: ubuntu-latest steps: # This step uses GitHub's hello-world-javascript-action: https://github.com/actions/hello-world-javascript-action - name: Hello world uses: actions/hello-world-javascript-action@v1 with: who-to-greet: 'Mona the Octocat' id: hello # This step prints an output (time) from the previous step's action. - name: Echo the greeting's time run: echo 'The time was $ï½›ï½› steps.hello.outputs.time ï½ï½.' 14è¡Œç›®ã§ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä½¿ç”¨æ™‚ã¯ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æœ¬ä½“ï¼ˆã‚³ãƒ¼ãƒ‰ï¼‰ãŒã©ã“ã‹ã‚‰ã§ã‚‚å–å¾—å¯èƒ½ãªå ´æ‰€ã«ã‚ã‚‹ã®ã§ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆãŒå¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚\nã—ã‹ã—ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯è‡ªåˆ†ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æœ¬ä½“ãŒã‚ã‚Šã¾ã™ã€‚ ã—ãŸãŒã£ã¦ã€ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œç’°å¢ƒã«æŒã£ã¦ãã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\né‡è¦ãƒã‚¤ãƒ³ãƒˆï¼šãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ ã“ã“ã§ã€GitHub Actions ã§ã¯ã©ã®ã‚ˆã†ã«ã—ã¦ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã™ã‚‹ã®ã‹ã€‚ã§ã™ãŒã€ ç­”ãˆã¯ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ ã§ã™ã€‚\nGitHub ãŒå…¬é–‹ã—ã¦ã„ã‚‹å…¬å¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸­ã«ã€actions/checkout ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã‚Œã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nåƒ•ã®ã‚³ãƒ¼ãƒ‰ã§ã„ã†ã¨ã€ /workflow/golang.yml å†…ã® 16 è¡Œç›®ã§ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚\nã€Œãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ ã£ã¦ä½•ï¼Ÿã€ã¨ã„ã†æ–¹ã¯ã€ actions/checkout ã® README ã®èª¬æ˜ãŒã¨ã¦ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚\nThis action checks out your repository to $GITHUB_WORKSPACE, so that your workflow can access the contents of your repository.\nï¼ˆã‚ãªãŸã®ãƒªãƒã‚¸ãƒˆãƒªï¼ˆã‚³ãƒ¼ãƒ‰ï¼‰ã‚’ $GITHUB_WORKSPACE ã«æŒã£ã¦ãã¦ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒãã®ã‚³ãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼‰\nâ†‘ ã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚\nãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ãƒãƒƒãƒˆä¸Šã«å…¬é–‹ã•ã‚Œã¦ã„ãªã„ã‹ã‚‰ã€ æ‰‹å…ƒã«ã‚ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æœ¬ä½“ï¼ˆã‚³ãƒ¼ãƒ‰ï¼‰ã‚’ GtHub Actions ã®å®Ÿè¡Œç’°å¢ƒã«æŒã£ã¦ã„ã£ãŸ ã¨ã„ã†ã ã‘ã§ã™ã­ã€‚\nãƒ»\nãƒ»\nãƒ»\nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ å¾Œã¯ push ã™ã‚‹ã ã‘ã§ã™ã€‚\nå®Ÿéš›ã€push ã—ã¦ã¿ã‚‹ã¨ã€ ä¸‹è¨˜ã®ã¨ãŠã‚Šã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸğŸ‰\nãƒ­ã‚°ã‚’è¦‹ã‚‹ã¨ã€Dockerfile ã‹ã‚‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒçµ„ã¿ç«‹ã¦ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã€ãªã‚“ã¨ãªãèª­ã¿å–ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå®Ÿç¾ã™ã‚‹ CI/CD ã¾ã‚ã‚Šã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ã¨ã¦ã‚‚ãƒ¯ã‚¯ãƒ¯ã‚¯ã—ã¾ã™ã­ã€‚ ã§ã‚‚ã€ã‚„ã£ã±ã‚Šå…¬é–‹ã§ããªã„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã†ã„ã£ãŸã¨ãã«ã¯ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ´»ç”¨ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\nã€ä½™è«‡ã€‘ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã¤ã„ã¦ã‚‚ã£ã¨çŸ¥ã‚ŠãŸã„æ–¹ã¯ã€ ãœã²å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã‚’èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚\næ—¥æœ¬èªå¯¾å¿œã—ã¦ã„ã¾ã™ğŸ‘\nå‚è€ƒè¨˜äº‹ Docker ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ï½œDockerå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’è¨­å®šã™ã‚‹ï½œDockerå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ GitHub Actionsã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹æ–‡ï½œDockerå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ","ref":"/blog/github-actions-private-action/"},{"title":"ã€mercari.go #11ã€‘ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° ï¼‹ singleflight ï¼‹ ISUCON ãƒ™ãƒ³ãƒãƒãƒ¼ã‚«ãƒ¼","date":"","description":"ã‚ã¡ã‚ƒãã¡ã‚ƒãŸã‚ã«ãªã£ãŸ","body":"mercari.go #11 connpassï¼š ãƒªãƒ³ã‚¯ ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼š \u0026lt;code\u0026gt;#mercarigo\u0026lt;/code\u0026gt; ä»Šå›ã‚‚ãŠå¼å½“ã¨ãƒ‰ãƒªãƒ³ã‚¯ãŒã‚ã‚Šã¾ã—ãŸï¼ã‚ã‚ŠãŒãŸã‚„\n[è¿½è¨˜ï¼š2019å¹´10æœˆ12æ—¥]\n[Mercari Engineering Blog](https://tech.mercari.com/entry/2019/10/11/160000) ã«ã¦ã€æœ¬ã‚¤ãƒ™ãƒ³ãƒˆã®è¨˜äº‹ãŒå…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚\nç™ºè¡¨è³‡æ–™ãŒè¼‰ã›ã¦ã‚ã‚Šã¾ã™ã€‚ã‚ã‚ŠãŒãŸã‚„ğŸ™ 1. About error handling in Go ç™»å£‡è€…ï¼šjd ã•ã‚“ï¼ˆ@JehandadKamalï¼‰\nè³‡æ–™ ï¼ˆæ­£å¼ã«å…±æœ‰ã•ã‚ŒãŸã‚‚ã®ã§ãªã„ã®ã§ã€ç™ºè¡¨ã®å†…å®¹ãŒå°‘ã—ç•°ãªã‚Šã¾ã™ï¼‰\nErrors are values â€Errors are values â€ ã¨ã„ã†è€ƒãˆæ–¹ã€‚\nGoã§ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ ã‚¨ãƒ©ãƒ¼ã‚’ãƒ©ãƒƒãƒ—ã—ã¦ã‚ˆã‚Šè©³ç´°ãªæƒ…å ±ã‚’ä»˜ä¸ã™ã‚‹ å°‚ç”¨æ§‹é€ ä½“ã‚’ä½œã‚‹ ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’æ§‹æˆã™ã‚‹ â€Error is your domainâ€ Domain Error Struct ã‚’ä½œæˆã™ã‚‹ã€‚\ntype Error struct { Op Op Kind Kind Serverity zapcore.ErrorLevel Err error } Opï¼šOperation â†’ é–¢æ•°åã¨ã‹ Kindï¼šã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ â†’ NotAvailable, NotFound ã¨ã„ã£ãŸã‚‚ã® Serverityï¼šã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ™ãƒ« Errï¼šã‚¨ãƒ©ãƒ¼å†…å®¹ ä¸Šè¨˜ã®ã‚ˆã†ãªæ§‹é€ ä½“ã‚’ä½œã‚‹ç†ç”± error ã‚’æ¯”è¼ƒã™ã‚‹ã¨ãã¯ã€åŸºæœ¬çš„ã«æ–‡å­—åˆ—ã®æ¯”è¼ƒã«ãªã‚‹ãŸã‚å–ã‚Šå›ã—ãŒæ‚ªã„ â†’ â€NotFoundâ€ ã¨ã„ã†æ–‡å­—åˆ—ã‚’æ¯”è¼ƒã™ã‚‹ã¨ã‹ã¨ã‹\nDomain Error Struct ã‚’ä½œã‚Œã° Kind ã§ã®æ¯”è¼ƒãªã©ãŒå¯èƒ½ã«ãªã‚‹ã€‚\nåŠ ãˆã¦ã€æ“ä½œå†…å®¹ã‚„ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ã¨ã‹æƒ…å ±ã‚’ä»˜ä¸ã§ãã‚‹ã€‚\nã“ã‚Œå¤§äº‹ï¼ Remember â€Error is your domainâ€\nã‚¨ãƒ©ãƒ¼ã®åˆ†å‰²æ–¹æ³• Twitterãƒ¡ãƒ¢ 2. singleflight ç™»å£‡è€…ï¼š@nsega ã•ã‚“\nã‚¹ãƒ©ã‚¤ãƒ‰ singleflight åŒã˜å‡¦ç†ãŒè¤‡æ•°å›å®Ÿè¡Œã•ã‚Œã‚‹å ´åˆã«ã€ä¸€å›ã ã‘å®Ÿè¡Œã—ã¦ã€ãã®çµæœã‚’ä½¿ã„å›ã™ã¨ã„ã†ã‚‚ã®ã€‚ â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¼¼ã¦ã„ã¾ã™ãŒã€é•ã„ã¯å¾Œè¿°ã—ã¾ã™ã€‚\nBFF ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§æ´»èº â†’ ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠã„ã¦ã€è¤‡æ•°ã®APIã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é›†ç´„ã™ã‚‹ã‚ˆã†ãªã¨ãã«æœ‰åŠ¹ã€‚\nã“ã“ ã«ã‚ã‚‹3ã¤ã®é–¢æ•°ã•ãˆæŠ¼ã•ãˆã‚Œã°OKã€‚\nsingleflight ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ åˆè¦‹ã ã¨ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãªã«ãŒé•ã†ã®ã‹åˆ†ã‹ã‚Šã¥ã‚‰ã„ã¨æ€ã„ã¾ã™ã€‚ ã“ã“ã‚‰ã¸ã‚“ã‚’è¦‹ã‚‹ã¨ singleflight ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒã‚ã‹ã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚\nsingleflight ã§è§£æ±ºã§ãã‚‹ã“ã¨1 singleflight ã§è§£æ±ºã§ãã‚‹ã“ã¨2 Q\u0026amp;A Q. goroutine ã§ä½¿ã†ã®ã¯ã©ã†ã§ã—ã‚‡ã†ï¼Ÿ\nA.\nsingleflight ã¯æ‰±ã„ãŒé›£ã—ã„ã®ã§ã€å‘¼ã³å‡ºã—å…ƒãŒã‚ã‹ã‚‰ãªããªã‚‹ã¨ã€ãƒ‡ãƒãƒƒã‚°ãŒä½™è¨ˆé›£ã—ããªã‚‹ã€‚ ã‚ˆã£ã¦ã€goroutine ã§ã¯ã‚ã¾ã‚Šä½¿ã‚ãªã„æ–¹ãŒè‰¯ã•ãã†ã€‚ â†’ å‘¼ã³å‡ºã—å…ƒã¯æ˜ç¢ºãªæ–¹ãŒè¿½è·¡ã—ã‚„ã™ãã¦ã„ã„ã¨æ€ã†ã€‚\n3. ISUCON9äºˆé¸ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚«ãƒ¼ã«ã¤ã„ã¦ï¼ˆTBDï¼‰ ç™»å£‡è€…ï¼šã‚«ã‚¿ãƒ„ã‚¤ã•ã‚“ï¼ˆ@catatsuyï¼‰\nè³‡æ–™ ä¸Šè¨˜è³‡æ–™ãŒå…¨ã¦ã§ã™ï¼\nISUCON ã®è£å´ã€ã¤ã¾ã‚Šãƒ™ãƒ³ãƒãƒãƒ¼ã‚«ãƒ¼ã‚’ä½œã£ãŸè©±ã§ã™ã€‚\nã“ã‚“ãªã“ã¨ã‚’è€ƒãˆã¦ä½œã‚‰ã‚Œã¦ã„ã‚‹ã‚“ã ã¨çŸ¥ã‚‹ã“ã¨ãŒã§ãã€ ã‚ã¡ã‚ƒãã¡ã‚ƒãŠã‚‚ã—ã‚ã‹ã£ãŸã—ã€å‹‰å¼·ã«ãªã‚Šã¾ã—ãŸï¼\nãœã²ã€ä¸Šè¨˜è³‡æ–™èª­ã‚“ã§ã¿ã¦ãã ã•ã„ï¼\n","ref":"/blog/mercarigo_11/"},{"title":"React.memo ã«ã¤ã„ã¦èª¿ã¹ãŸã®ã§ãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠã","date":"","description":"React Hooks æ¥½ã—ã„","body":"React.memo ã¨ã¯ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã‚’è¦‹ã‚‹ã¨ã€\nã“ã‚Œã¯ React.PureComponent ã«ä¼¼ã¦ã„ã¾ã™ãŒã€ã‚¯ãƒ©ã‚¹ã§ã¯ãªãé–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨ã§ã™ã€‚\nã¨ã‚ã‚Šã¾ã™ã€‚\nã¤ã¾ã‚Šã€ React.PureComponent ã‚’é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Ÿç¾ã™ã‚‹ãŸã‚ã®æ‰‹æ®µã‚‰ã—ã„ã§ã™ã€‚\nReact.PureComponent ã¨ã¯ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã‚’è¦‹ã‚‹ã¨ã€\nReact.PureComponent ã¯ React.Component ã¨ä¼¼ã¦ã„ã¾ã™ã€‚ ä¸¡è€…ã®é•ã„ã¯ React.Component ãŒ shouldComponentUpdate() ã‚’å®Ÿè£…ã—ã¦ã„ãªã„ã“ã¨ã«å¯¾ã—ã€ React.PureComponent ã¯ props ã¨ state ã‚’æµ…ã (shallow) æ¯”è¼ƒã™ã‚‹ã“ã¨ã§ãã‚Œã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚\nã¨ã‚ã‚Šã¾ã™ã€‚\nshouldComponentUpdate() ã«ã‚ˆã£ã¦ã€ã©ã†ã„ã£ãŸå¤‰æ›´ãŒã‚ã‚Œã°å†æç”»ã™ã‚‹ã‹ã‚’å®šç¾©ã™ã‚‹ã‚ˆã†ã§ã™ã€‚\nè¿½åŠ ã§ã“ã®å‚è€ƒè¨˜äº‹ ã‚’èª­ã‚“ã§ã¿ã‚‹ã¨ã€\nPureComonentã¯propsåŠã³stateã®å¤‰æ›´ã‚’æ¤œå‡ºã—ãŸå ´åˆã®ã¿ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’è¡Œã„ã¾ã™ã€‚ Messageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯message propsã®å¤‰æ›´ã‚’å¯ŸçŸ¥ã—ã€å¿…è¦åˆ†ã®æ›´æ–°ã‚’è¡Œã†ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã¨ã‚ã‚Šã¾ã™ã€‚\nè‡ªåˆ†ã§å†æç”»æ¡ä»¶ã‚’å®šç¾©ã§ãã‚‹ã®ã§ã€ç„¡é§„ãªå†æç”»ã‚’çœãã“ã¨ãŒã§ãã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã‚’æœŸå¾…ã§ãã‚‹ã‚“ã§ã™ã­ã€‚\nâ†’ React.PureComponent ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã§ã™ã€‚\nï¼ˆå‚è€ƒè¨˜äº‹å†…ã«ã‚‚ã‚ã‚‹ã¨ãŠã‚ŠéŠ€ã®å¼¾ä¸¸ã§ã¯ãªã„ã‚ˆã†ã§ã™ãŒâ€¦ï¼‰\næµ…ã„æ¯”è¼ƒ ã¨ã¯ shouldComponentUpdate() ã¯æµ…ã„æ¯”è¼ƒã«ã‚ˆã£ã¦å¤‰æ›´æ¤œçŸ¥ã‚’è¡Œã†ã€‚\nã¨ã‚ã‚Šã¾ã—ãŸãŒã€æµ…ã„æ¯”è¼ƒã¨ã¯ãªã‚“ã§ã—ã‚‡ã†ã‹ã€‚\nï¼ˆshouldComponentUpdate() ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãŒæµ…ã„æ¯”è¼ƒã¨ã„ã†ã ã‘ã§ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã®æ¯”è¼ƒæ–¹æ³•ã‚’å®Ÿè£…å¯èƒ½ãªã‚ˆã†ã§ã™ï¼‰\nã•ãã»ã©ã®å‚è€ƒè¨˜äº‹ ã«ã¦èª¬æ˜ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\næµ…ã„æ¯”è¼ƒã¨ã„ã†ã®ã¯ã€ç°¡æ½”ã«è¿°ã¹ã‚‹ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‚ç…§å…ˆãŒåŒã˜ã§ã‚ã‚Œã°ç­‰ã—ã„ã¨è¦‹ãªã™ã“ã¨ã§ã™ã€‚\nå‚ç…§å…ˆã—ã‹è¦‹ã¦ã„ãªã„ã®ã§ã€ä¸­èº«ã¯è¦‹ã¦ã„ãªã„ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚\nï¼ˆã“ã®ã‚ˆã†ãªå®Ÿè£…ãªã®ã¯ã€React ã®æ€æƒ³ã¨ã—ã¦ã€props ã‚„ state ã¨ã„ã£ãŸãƒ‡ãƒ¼ã‚¿ã¯ immutable ã§ã‚ã‚‹ã¹ãã ã¨ã—ã¦ã„ã‚‹ã‹ã‚‰ã ã¨æ€ã„ã¾ã™ï¼‰\nã¡ãªã¿ã« ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ãƒˆï¼ˆå¤‰æ›´ï¼‰ã›ãšã«æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¦ã€æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ã¦è¿”ã—ã¦ã‚„ã‚Œã°ã„ã„ã‚ˆã†ã§ã™ã€‚ï¼ˆå‚è€ƒ ï¼‰\nObject.assign({}, prevState, {color: 'blue'}); React.memo å®Ÿè·µï¼ˆã—ã¦ã„ãäºˆå®šï¼‰ React.memo ã®ä½¿ã„æ–¹ã¯\nå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ä»–ã®æ–¹ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ ä¸Šè¨˜ã‚’è¦‹ã‚Œã°ã ã„ãŸã„ã‚ã‹ã‚Šãã†ã§ã™ã€‚\nä¼šç¤¾ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å°å…¥ã§ããã†ãªã¨ã“ã‚ã‚ã£ãŸã‚‰ä½¿ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ğŸ’ª\n","ref":"/blog/react_memo/"},{"title":"ã€Backend Engineerâ€™s meetupã€‘ãƒ¡ãƒ«ã‚«ãƒªç¤¾ä¸»å‚¬ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ€ãƒ¼ã®ãŸã‚ã® Meetup ã‚¤ãƒ™ãƒ³ãƒˆè¡Œã£ã¦ããŸ","date":"","description":"å®Ÿã¯2æ—¥é€£ç¶šã§ãƒ¡ãƒ«ã‚«ãƒªè¡Œã£ã¦ãŸ","body":"Backend Engineerâ€™s meetup ~ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠã‘ã‚‹èªè¨¼èªå¯åŸºç›¤~ connpass ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼š#merpay_meetup ãƒ¡ãƒ«ã‚«ãƒªã•ã‚“æ’ä¾‹ã®ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ‰ãƒªãƒ³ã‚¯ã‚‚ã‚‰ã„ã¾ã—ãŸ\n1. ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®å†…éƒ¨é€šä¿¡ã«ãŠã‘ã‚‹èªè¨¼ã«ã¤ã„ã¦ ç™»å£‡è€…ï¼š@pospome ã•ã‚“\nã‚¹ãƒ©ã‚¤ãƒ‰ ï¼ˆæ—¥æœ¬èªãŒæ¶ˆãˆã¦ã—ã¾ã£ã¦ã„ã¾ã™ãŒã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‰è¦‹ã‚Œã¾ã—ãŸï¼‰\nä¸Šè¨˜ã‚¹ãƒ©ã‚¤ãƒ‰ã®ç°¡æ˜“ãƒ¡ãƒ¢ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ã¨ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ã¯ãã‚Œãã‚Œã®ãƒãƒ¼ãƒ ã«ä»»ã›ã¦ã„ã‚‹\nSubjectID ã¨ã„ã† å…¨ã‚µãƒ¼ãƒ“ã‚¹å…±é€šã®ID ã«å¤‰æ›ã—ã¦æ‰±ã† ãƒ¡ãƒ«ã‚«ãƒªã§ã¯ã€OIDCãƒ™ãƒ¼ã‚¹ã®èªå¯ã®ä»•çµ„ã¿ã‚’æ¡ç”¨\nRFCã«æ›¸ã„ã¦ã‚ã‚‹ã‚‚ã®ã¨å¤§å·®ãªã„ã®ã§ã€ä»Šå›ã¯ ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®å†…éƒ¨é€šä¿¡ã«ãŠã‘ã‚‹èªè¨¼ ã«ã¤ã„ã¦è©±ã™ å…¨ã‚µãƒ¼ãƒ“ã‚¹ã¯ Gatwway ã‚’çµŒç”±\nGateway ã‹ã‚‰ Authority Service ã«ãã‚‹ Authority Service ã‚’èªè¨¼åŸºç›¤ãƒãƒ¼ãƒ ãŒç®¡ç†\nå¤–éƒ¨ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ¤œè¨¼ã¨å†…éƒ¨é€šä¿¡ç”¨ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆã—ã¦ã„ã‚‹ å†…éƒ¨ãƒˆãƒ¼ã‚¯ãƒ³ã¯æ¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã”ã¨ã«ç”Ÿæˆ\nãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“ã§ä½¿ç”¨ã•ã‚Œã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆå˜ä½ã§åŒä¸€ å†…éƒ¨ãƒˆãƒ¼ã‚¯ãƒ³ç”¨ã®SDKã‚’æä¾›\nGoã®ã¿å¯¾å¿œ SDKã‚’ä½¿ã†ã¨ã„ã‚ã„ã‚ã¨ã‚ˆã—ãªã«ã—ã¦ãã‚Œã‚‹ ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’ã„ã„æ„Ÿã˜ã«å–å¾— SubjectID ã®ãƒ‘ãƒ¼ã‚¹ã¨ã‹ã‚’ã„ã„æ„Ÿã˜ã«ã—ã¦ãã‚Œã‚‹ ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¯ãƒãƒƒãƒã®ãŸã‚ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ã‚‚ã¤ã“ã¨ãŒã‚ã‚‹ã®ã§ã€Gatewayã«ã‚ˆã£ã¦ãƒ¦ãƒ¼ã‚¶ãŒç›´æ¥å©ãã“ã¨ãŒããªã„ç’°å¢ƒã‚’ä½œã‚Œã‚‹ã®ã¯ãƒ¡ãƒªãƒƒãƒˆã¨ãªã‚‹\n2. ãƒ‘ãƒãƒ«ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ ç™»å£‡è€…ï¼š\nKeigo Watanabe ã•ã‚“ @kazegusuri @nerocrux @pospome ãƒ‘ãƒãƒ«ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã®ã¯ãšãŒã»ã¨ã‚“ã©è³ªç–‘ã§çµ‚ã‚ã‚Šã¾ã—ãŸï½—\nè³ªç–‘ã¯ ã•ãã»ã©ã® ç™ºè¡¨ ã«å¯¾ã™ã‚‹ã‚‚ã®ãŒä¸»ã§ã—ãŸã€‚\nã—ãŸãŒã£ã¦ã€ä»¥ä¸‹ã€ä¸Šè¨˜ç™ºè¡¨ã«é–¢ã™ã‚‹è³ªå•ã¨å›ç­”ã«ãªã‚Šã¾ã™ã€‚\nQ. ç¬¬ä¸‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã«ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŒ‡å®šã•ã›ã‚‹ã®ã§ã¯ãªãã€å¤–éƒ¨ã‚¹ã‚³ãƒ¼ãƒ—ã¨å†…éƒ¨ã‚¹ã‚³ãƒ¼ãƒ—ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’è¡Œã£ãŸã®ã¯ãªãœã‹ A.\nãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ã§ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æä¾›ã—ãŸæ–¹ãŒç¬¬ä¸‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã®é–‹ç™ºè€…ãŒã‚ã‹ã‚Šã‚„ã™ã„ã€‚\nãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ã ã¨ã©ã‚ŒãŒå¿…è¦ãªã‚¹ã‚³ãƒ¼ãƒ—ãªã®ã‹ãŒåˆ†ã‹ã‚Šã¥ã‚‰ã„ã€‚\nï¼ˆyyh-gl æ„Ÿæƒ³ï¼‰ AWSã®ãƒãƒªã‚·ãƒ¼ãŒãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ã ã¨æ€ã†ã‚“ã ã‘ã©ã€ã©ã®ãƒãƒªã‚·ãƒ¼ãŒå¿…è¦ã‹åˆ†ã‹ã‚Šã¥ã‚‰ã„ã‚‚ã‚“ã­ãƒ¼\nQ. JWTï¼ˆå†…éƒ¨ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ã®ä¿æŒæœŸé–“ï¼ˆæ¶ˆã™ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€æœ‰åŠ¹æœŸé™ï¼‰ A. ä¿å­˜ã—ã¦ã„ãªã„\nQ. Authority Serviceã®å¯ç”¨æ€§ A.\nå‡¦ç†è‡ªä½“ã¯è¤‡é›‘ã§ã¯ãªã„ã—ã€ç‰¹ã«ä½•ã‹ç‰¹åˆ¥ãªã“ã¨ã‚’ã‚„ã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã€‚\nãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒªãƒˆãƒ©ã‚¤ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¨ã‹ã¯ã‚„ã£ã¦ã„ã‚‹ã€‚\nQ. ã‚µãƒ¼ãƒ“ã‚¹é–“ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã¯ã©ã®ã‚ˆã†ã«ã‚„ã£ã¦ã‚‹ã‹ï¼Ÿå„ã‚µãƒ¼ãƒ“ã‚¹ãŒé€ä¿¡å…ƒã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã®ã‹ï¼Ÿã©ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒåº¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã‹ã®åˆ¶å¾¡ã¯ã©ã†ã—ã¦ã‚‹ã®ã‹ï¼Ÿ A.\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨èªå¯ã®è©±ã ã¨æ€ã£ã¦ã„ã‚‹ã€‚ã¾ã ã‚„ã£ã¦ã„ãªã„ã€‚\nOriginã‚’è¦‹ã¦ã€ã©ã“ã¾ã§ã®å‡¦ç†ã‚’ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ãŒã‚„ã£ã¦ã„ã„ã‹ã¯æ±ºã‚ã¦ã„ã‚‹ã€‚\nQ. ä¸æ­£ç›£è¦–ã¯ã—ã¦ã„ã‚‹ï¼Ÿ A. å†…éƒ¨ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™ãŒçŸ­ã„ã®ã§ã€ç¾çŠ¶ã‚„ã£ã¦ã„ãªã„ã€‚\nQ. å¤–éƒ¨ã‚¹ã‚³ãƒ¼ãƒ—ã¨å†…éƒ¨ã‚¹ã‚³ãƒ¼ãƒ—ã®ç®¡ç†ãŒå¤§å¤‰ãã†ã€‚ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ†å‰²ã—ãŸã¨ãã¨ã‹ã€‚ã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç®¡ç†ã¯ï¼ˆèª°ãŒï¼‰ã©ã†ã‚„ã£ã¦ã„ã‚‹ï¼Ÿ A.\nã¾ã ä¸€éƒ¨ã§ã—ã‹ä½¿ã£ã¦ã„ãªã„ã®ã§ã€ç®¡ç†ãŒé›£ã—ã„ãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ãªã„ã€‚ãŸã ã—ã€ä»Šå¾Œãã®å¿…è¦æ€§ã¯æ„Ÿã˜ã¦ã„ã‚‹ã®ã§ã€å¯¾ç­–ã‚’è€ƒãˆã‚‹å¿…è¦ã‚ã‚Šã€‚\nQ. å…¬é–‹éµã®å¤±åŠ¹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã©ã®ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã‹ï¼Ÿã‚¹ãƒ­ãƒƒãƒˆçš„ãªä»•çµ„ã¿ã¯å…¥ã‚Œã¦ã„ã‚‹ã®ã‹ï¼Ÿ A.\nå…¬é–‹éµã¨ç§˜å¯†éµã¯Nä¸–ä»£ã§ç®¡ç†ã—ã¦ã„ã‚‹ã€‚\nãƒ¡ãƒ«ãƒšã‚¤ã§ã¯ Design Doc ã‚’ä½œã£ã¦ã—ã£ã‹ã‚Šã¨è­°è«–ã—ã¦ã‹ã‚‰é–‹ç™ºã‚’é€²ã‚ã¦ã„ãã¨æ±ºã‚ã¦ã„ã‚‹ã€‚\nQ. JWTãƒˆãƒ¼ã‚¯ãƒ³ã«ã‚¯ãƒ¬ãƒ¼ãƒ å«ã¾ã›ã‚‹ã¨é•·ããªã£ã¦ãã‚‹ã¨æ€ã†ã‘ã©ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã‹å¤§ä¸ˆå¤«ï¼Ÿ A.\né•·ããªã‚‹ã“ã¨ã¯æ‡¸å¿µã—ã¦ã„ã‚‹ã€‚\nCWT(https://tools.ietf.org/html/rfc8392)(CBOR ) ã¨ã‹ã§ã€ãƒã‚¤ãƒŠãƒªåŒ–ã—ãŸã„ã¨å‹æ‰‹ã«æ€ã£ã¦ã„ã‚‹ã€‚\nQ. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ã¯ Authority Service ã§ã‚„ã£ã¦ã„ã‚‹ã‹ï¼Ÿ A. ãƒ­ã‚°ã‚¤ãƒ³éƒ¨åˆ†ã¯ç‰¹ã«ã‚„ã£ã¦ãªã„\nQ. å¯ç”¨æ€§ã«ã¤ã„ã¦ã€æ€§èƒ½é¢ã§æ„è­˜ã—ãŸã“ã¨ A.\nã¾ãšã€å‰æã¨ã—ã¦ãƒ¡ãƒ«ã‚«ãƒªã¯ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã«ã¤ã„ã¦ã¯ã‚ã‚“ã¾ã‚Šè€ƒãˆãªã„æ–¹é‡ã€‚ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã¯ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ã«ã—ãŸã‚‰æ—©ããªã‚‹ã«æ±ºã¾ã£ã¦ã„ã‚‹ã‹ã‚‰ã€‚\nãŸã ã€å…±é€šåŸºç›¤ã¯å…¨ã‚µãƒ¼ãƒ“ã‚¹ãŒåˆ©ç”¨ã™ã‚‹ã‹ã‚‰æ—©ãã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ã ã‹ã‚‰memcachedã¨ã‹ã§ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Œçµã™ã‚‹ã‚ˆã†ã«ã—ãŸã‚Šã¯ã—ã¦ã‚‹ã€‚\nQ. SDKã®æ›´æ–°ã¯ã©ã†ã‚„ã£ã¦ã„ã‚‹ A. @here ã§ã™ï½— é…å¸ƒå…ˆã«å±•é–‹ãŒå¿…è¦â€¦ ã¾ã•ã«ä»Šå•é¡Œã«ãªã£ã¦ã„ã¾ã™ï½—\nQ. SDKã®æ›´æ–°ã¯ ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ ã¨ã‹ Istio ã§ã‚„ã‚‰ãªã„ï¼Ÿ A. ä»Šå¾Œã‚„ã£ã¦ã„ããŸã„ã§ã™\nQ. ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™ A.\nã‚‚ã®ã™ã”ãçŸ­ã„ã€‚ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚‚ã§ããªã„ã€‚\n1ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒ10åˆ†ã‹ã‹ã‚‹ã‚ã‘ã‚‚ãªã„ã¨ã„ã†åˆ¤æ–­è»¸ã§æœŸé™ã‚’æ±ºã‚ã¦ã„ã‚‹ã€‚\nQ. å¤–éƒ¨ã¨å†…éƒ¨ã®ãƒãƒƒãƒ”ãƒ³ã‚°ãªã©ã®æ‰‹ä½œæ¥­ãŒå¿…è¦ã«ãªã‚‹ã¨ã“ã‚ã¯ã©ã“ãŒã‚ã‚‹ A.\nSubjectID ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç¨®é¡ãŒå¢—ãˆã‚‹ã¨å¢—ã‚„ã•ãªã„ã¨ã„ã‘ãªã„ãŒã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç¨®é¡ã¯ãã‚“ãªã«å¢—ãˆãªã„ã¨æ€ã£ã¦ã„ã‚‹ã®ã§ã€ãã®éƒ½åº¦å¢—ã‚„ã™å¯¾å¿œã‚’å–ã‚‹ã€‚\nä»–ã«ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚‚æ‰‹ä½œæ¥­ãŒå¿…è¦ã§ã‚ã‚‹ã€‚ä»Šã¯ã¯æ‰‹ä½œæ¥­ã§ã‚„ã£ã¦ã„ã¦ã—ã‚“ã©ã„ã®ã§è‡ªå‹•åŒ–ã—ã¦ã„ããŸã„ã€‚\nQ. ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒãƒƒãƒå‡¦ç†ã™ã‚‹ã“ã¨ã¯ã‚ã‚‹ã‹ A.\nã‚ã‚Šã¾ã™ã€‚ãƒãƒƒãƒå‡¦ç†ã®ã¨ãã‚‚å†…éƒ¨ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ã†ã€‚\nå†…éƒ¨ãƒˆãƒ¼ã‚¯ãƒ³ã¯ Authority Service ã‹ã‚‰ç”Ÿæˆã™ã‚‹ä»•çµ„ã¿ãŒã‚ã‚‹ã€‚\nï¼ˆå„ã‚µãƒ¼ãƒ“ã‚¹ãŒç§˜å¯†éµã‚’ã‚‚ã£ã¦ã„ã¦ã€ãã‚Œã‚’ä½¿ã†ã¨ç”Ÿæˆã§ãã‚‹ã€‚ãã®ç§˜å¯†éµã«ã‚¹ã‚³ãƒ¼ãƒ—ã¯ç¾åœ¨ãªã„ã€‚ä»Šå¾Œã¤ã‘ãŸã„ï¼‰\nQ. å¤–éƒ¨ã‚¹ã‚³ãƒ¼ãƒ—ã¨å†…éƒ¨ã‚¹ã‚³ãƒ¼ãƒ—ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæƒ…å ±ã‚’è¶³ã›ã°ã€å„ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“ã§èªè¨¼ã™ã‚‹å¿…è¦ãŒãªã•ãã†ã€‚ï¼ˆï¼Authority Serviceã ã‘ã§èªè¨¼ãŒå®Œçµã§ããã†ï¼‰ A.\nåå¯¾ã§ã™ã€‚ãã‚Œã¯å„ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ãŒçµ¶å¯¾ã«å®‰å…¨ã§ã‚ã‚‹ã¨ã„ã†å‰æã§ã‚„ã£ã¦ã„ã‚‹ã‹ã‚‰ã€‚\nå„ServiceãŒè‡ªåˆ†ãŒå—ã‘ã¦ã„ã„ã‚‚ã®ã‹ã‚’åˆ¤æ–­ã™ã‚‹ã€‚ã©ã‚“ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæ¥ã‚‹ã‹ã¯ã‚ã‹ã‚‰ãªã„ã€‚\nQ. ä¸€ç•ªå³ã—ã„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯ï¼Ÿï¼ˆä»Šå¾Œèªè¨¼åŸºç›¤ã®å¤§å¤‰ãã†ãªã¨ã“ã‚ï¼‰ A.\nå†…éƒ¨ãƒˆãƒ¼ã‚¯ãƒ³ã®å¯¿å‘½ãŒçŸ­ã„ã®ã§ã€pub/subã¨ã„ã£ãŸéåŒæœŸé€šä¿¡ã«å¯¾å¿œã§ããªã„ã€‚è§£æ±ºç­–ã¯ã¾ã ãªã„ã€‚\nãƒãƒƒãƒå‡¦ç†ã¯å„ã‚µãƒ¼ãƒ“ã‚¹ãŒ Authority Service ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½œã‚Šã«è¡Œãã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚ï¼ˆãã‚Œã§ã—ã®ã„ã§ã„ã‚‹ï¼‰\nã“ã“ã§ã‚ˆã†ã‚„ããƒ‘ãƒãƒ«ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã§ã™ã€‚\nè©±é¡Œã¯ã²ã¨ã¤ã ã‘ã§ã™ãŒï½—\nQ. è‹¦åŠ´è©± A.\n@pospome ã•ã‚“\nå†…éƒ¨é€šä¿¡ã«ãŠã‘ã‚‹å•é¡Œã‚’è€ƒãˆã‚‹ã¨ã„ã†ã“ã¨ãŒã—ã‚“ã©ã„ã€‚\nPOçš„ãªã“ã¨ã‚‚ã‚„ã£ã¦ã„ã‚‹ã®ã§ã€ã„ã‚ã„ã‚ã‚„ã‚‰ãªã„ã¨ã„ã‘ãªãã¦ã•ã‚‰ã«ã—ã‚“ã©ã„ã€‚\n@kazegusuri ã•ã‚“\nAuthority Service ã®è¤‡é›‘ãªè€ƒãˆæ–¹ãŒç¤¾å†…ã«å—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹ã‹ä¸å®‰ã ã£ãŸã€‚\nã—ã‹ã—ã€ã¡ã‚ƒã‚“ã¨å—ã‘å…¥ã‚Œã¦ã‚‚ã‚‰ãˆã¦ã‚ˆã‹ã£ãŸãƒ¼ã€‚\n@pospome ã•ã‚“ã¨ @nerocrux ã•ã‚“ãŒã‚ˆãã‚„ã£ã¦ãã‚ŒãŸãŠã‹ã’ã€‚\n@nerocrux ã•ã‚“\nãƒ•ãƒ«ã‚¿ã‚¤ãƒ ã§æ‰‹ã‚’å‹•ã‹ã›ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒ4äººã ã‘ã§ã¤ã‚‰ã„ã€‚\nèªå¯ã‚µãƒ¼ãƒã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯ã‚ˆãå¤‰ã‚ã‚‹ã‹ã‚‰ã¤ã‚‰ã„ã€‚\n","ref":"/blog/mercari_meetup_for_backend_engineers_1/"},{"title":"ã€GoåŒminiConfã€‘Goã®å‹‰å¼·ä¼šã«å‚åŠ ã—ã¦ããŸè©±","date":"","description":"CyberAgent ï¼† merpay ä¸»å‚¬ã®Goå‹‰å¼·ä¼š","body":"æ¦‚è¦ CyberAgent ï¼† merpay ãŒå…±å‚¬ã—ãŸGoã®ã‚¤ãƒ™ãƒ³ãƒˆ\nConnpassæƒ…å ± ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼š#godo_miniconf ï¼ˆå†™çœŸæ’®ã‚‹ã®å¿˜ã‚ŒãŸâ€¦ï¼‰\nä»¥ä¸‹ã€ç™ºè¡¨ã¾ã¨ã‚\n1. ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¨MonoRepo ç™»å£‡è€…ï¼šæ±Ÿé ­ å®äº®ã•ã‚“ï¼ˆ@_hiro511ï¼‰ ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰ ãƒªãƒã‚¸ãƒˆãƒªç®¡ç†ã«ã¤ã„ã¦ WinTicket ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºãƒ»é‹ç”¨ä¸­\n36å€‹ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã§å‹•ã„ã¦ã„ã‚‹\nãƒãƒ«ãƒãƒªãƒã‚¸ãƒˆãƒªï¼šãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ãƒªãƒã‚¸ãƒˆãƒªãŒåˆ¥ã‚Œã¦ã„ã‚‹ ãƒ¢ãƒãƒªãƒã‚¸ãƒˆãƒªï¼šã²ã¨ã¤ã®ãƒªãƒã‚¸ãƒˆãƒªã€‚WinTicket ã§ã¯ã“ã£ã¡ ãƒ¢ãƒãƒªãƒã‚¸ãƒˆãƒª Google, FB, Tiwtter, UberãŒæ¡ç”¨ ãƒ¡ãƒªãƒƒãƒˆ ä¾å­˜ç®¡ç†ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã§ãã‚‹ ãƒãƒ«ãƒãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€è¤‡æ•°ã®ãƒªãƒã‚¸ãƒˆãƒªã«å¤‰æ›´ã‚’åŠ ãˆã‚‹å¿…è¦ãŒã‚ã‚‹ã—ã€å¤‰æ›´ã‚’å–ã‚Šè¾¼ã‚€ã®ãŒé¢å€’ ãƒ¢ãƒãƒ¬ãƒã ã¨ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ãŒä¸€ç®‡æ‰€ã«ã‚ã‚‹ã®ã§å¤‰æ›´ãŒæ¥½ ä¸€è²«æ€§ã®ã‚ã‚‹å¤‰æ›´ è¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¾ãŸãŒã‚‹å¤‰æ›´ã«ãŠã„ã¦ã‚‚ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯ãªã‚³ãƒŸãƒƒãƒˆãŒå¯èƒ½ ã‚³ãƒ¼ãƒ‰ã®å…±æœ‰ã¨å†åˆ©ç”¨ãŒç”¨æ„ common ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã‚ã‚Œã°ã§ãã‚‹ å¤§ããªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå®¹æ˜“ ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã‚’åŠ¹ç‡è‰¯ãã—ãŸã„ã¨ã„ã† ãƒ¢ãƒãƒªãƒã‚¸ãƒˆãƒªã ã¨ã€ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã«æ™‚é–“ãŒã‹ã‹ã‚‹ ã®ã§ã€åŠ¹ç‡ã‚ˆããƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã—ãŸã„\nBazelï¼ˆãƒ™ã‚¤ã‚¼ãƒ«ï¼‰ï¼šãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ« Go, Andoroid, iOSãªã©æ§˜ã€…ãªè¨€èªã«å¯¾å¿œ GoogleãŒä½¿ã£ã¦ã„ã‚‹ï¼ˆGoogleã®è‡ªç¤¾ãƒ„ãƒ¼ãƒ«ãŒOSSåŒ–ï¼‰ å¿…è¦ç®‡æ‰€ã ã‘ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆã™ã‚‹ é€Ÿã„ ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ« æ‹¡å¼µå¯èƒ½ StarDarkã¨ã„ã†ç‹¬è‡ªè¨€èªã§è¨­å®šå®šç¾© WinTicketã§ã¯Dockerãƒ“ãƒ«ãƒ‰ã‚‚ã“ã‚Œ Go with Bazel Bazel ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« by brew WORKSPACEãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ å¤–éƒ¨ã®ä¾å­˜é–¢ä¿‚ã‚’è¨˜è¿° BUILDãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ ãƒ“ãƒ«ãƒ‰æ–¹æ³•ã‚’ç¤ºã—ãŸã‚‚ã® Gazzelã‚’åˆ©ç”¨ã—ã¦è‡ªå‹•ç”Ÿæˆå¯èƒ½ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆä¾‹\n. â”œBUILD.bazel â”œWORKSPACE â””cmd â””main.go Gazzelã¯ Go Modules ã¨ dep ã«å¯¾å¿œ go.mod, Gopkg.lockãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å–ã‚Šã“ã¿WORKSPACEãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚“ã§ãã‚Œã‚‹\nProtocol Bufferã‚’Goã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ golang/protocolbufã¨gogoprotoã«å¯¾å¿œã—ã¦ã„ã‚‹\nãƒ“ãƒ«ãƒ‰ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’ãƒªãƒ¢ãƒ¼ãƒˆã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ãã‚‹ é–‹ç™ºè€…ã‚„CIãªã©ã§ãƒ“ãƒ«ãƒ‰ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’å…±æœ‰ã§ãã‚‹ å…¨å“¡ãŒé«˜é€Ÿãªãƒ“ãƒ«ãƒ‰ä½“é¨“ã‚’å¾—ã‚‰ã‚Œã‚‹ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ nginx google cloud storage ãªã©ãªã© Go Modules and Proxy Walkthrough ç™»å£‡è€…ï¼šã‚­ã‚¿ãƒ­ãƒ¼ã•ã‚“ï¼ˆ@ktr_0731ï¼‰ ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰ Go modules ã®ç‰¹å¾´ ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ– ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° go.modã«ã‚ˆã‚‹ä¾å­˜ç®¡ç† go.sumã«ã‚ˆã‚‹ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã®ç®¡ç† æ­£ã—ã„ï¼ˆå®‰å…¨ãªï¼‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ç¢ºèªã§ãã‚‹ â˜… Go 1.13 ã§ã‚‚autoãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾\nãŸã ã—ã€srcå†…ã§ã‚‚go.modãŒã‚ã‚Œã°onã«ãªã‚‹ã‚ˆã†ã«ãªã‚‹\nGo Modules æœ‰åŠ¹æ™‚ã® go get ã®æŒ™å‹• $GOPATH/src é…ä¸‹ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒé…ç½®ã•ã‚Œãªããªã‚‹ go.modã¨go.sumãŒæ›¸ãæ›ã‚ã‚‹ go get -u=patch ã¨ã™ã‚‹ã¨ãƒ‘ãƒƒãƒã‚’å½“ã¦ã‚‰ã‚Œã‚‹ Go Modules å‘¨è¾ºãƒ„ãƒ¼ãƒ« è¿½åŠ è³‡æ–™ Module Index ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã«åˆ©ç”¨å¯èƒ½ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¯ã‚¨ãƒªæ¤œç´¢ã§ãã‚‹ Module Authentication GOPATHã«å–å¾—ã™ã‚‹ go get ã¯å–å¾—ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ¤œè¨¼ã™ã‚‹ã™ã¹ãŒãªã‹ã£ãŸ go modules ã§æ¤œè¨¼ãŒå¯èƒ½ã«ãªã£ãŸ Go checksum databaseï¼ˆsumdbï¼‰ ã‚ã‚‰ã‚†ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã‚’é›†ç´„ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åˆå›ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã¯ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã§ããªã„ã®ã‚’è§£æ±º Module Mirrors ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚„ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’è¡Œã† ç‰¹å®šã®ã‚µãƒ¼ãƒã®å¯ç”¨æ€§ã‚„ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã«å½±éŸ¿ã•ã‚Œã‚‹ã®ã‚’é˜²ã ä¸€åº¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸã‚‚ã®ã¯åŸºæœ¬çš„ã«å‰Šé™¤ã•ã‚Œãªã„ã®ã§æ³¨æ„ çªç„¶ã®ãƒªãƒã‚¸ãƒˆãƒªå‰Šé™¤ã«å¯¾å‡¦ã™ã‚‹ãŸã‚ï¼ˆex. go-bindataï¼‰ Module Proxy Go 1.13 ã‹ã‚‰ go modules ã¯proxyã‹ã‚‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å–å¾—ã—ã«ã„ãã‚ˆã†ã«ãªã‚‹ $GOPROCXY ã¨ $GOSUMDB ã§è¨­å®šå¤‰æ›´å¯èƒ½ Private Modules github ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã« proxy.golang.org ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çš„ãªå•é¡Œã‹ã‚‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å–å¾—ã«å¤±æ•—ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ $GONNOPROXY ã‚’ä½¿ãˆã°è§£æ±ºå¯èƒ½ Go 1.13 ã‹ã‚‰ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ (link: http://proxy.golang.org ) proxy.golang.org çµŒç”±ã§ä¾å­˜ã‚’è§£æ±ºã—ã«ã„ã ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã™ã‚‹ ç’°å¢ƒå¤‰æ•°ã« GONOPROXY ã‚’è¨­å®šã—ã¦å›é¿ã—ãŸã‚‰OK ãƒ‘ãƒãƒ«ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ ç™»å£‡è€…ï¼š\nã¨ã®ã‚‚ã‚Šã•ã‚“ï¼ˆ@osamingoï¼‰ãƒ¡ãƒ«ã‚«ãƒª\næ±Ÿé ­ã•ã‚“ï¼ˆ@_hiro511ï¼‰ã‚µã‚¤ãƒãƒ¼\nãŸã‹ãªã¿ã•ã‚“ï¼ˆ@storzï¼‰ãƒ¡ãƒ«ãƒšã‚¤\nãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–¢é€£ã®è©± ãƒ†ã‚¹ãƒˆ WinTicket ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãªã®ã§å…¨éƒ¨tesableãªï¼ˆinterfaceï¼‰ä½œã‚Šã‚’æ„è­˜ gomockã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã„ã‚‹ codecov ã¨ã„ã†ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å¯è¦–åŒ–ã—ã¦ã„ã‚‹ ç¾åœ¨91%ãã‚‰ã„ testifyã®assertã‚’ä½¿ã£ã¦ã„ã‚‹ ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ä½¿ã‚ãªã„å•é¡Œã¯èªè­˜ã—ãŸä¸Šã§é¸æŠ ã©ã“ãŒé•ã†ã‹çŸ¥ã‚ŠãŸã„ã¨ãã¯gocmp ã‚’ä½¿ã£ã¦ã„ã‚‹ ãƒ¡ãƒ«ãƒšã‚¤ gomockã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚­ãƒ³ã‚° codecov ã¨ã„ã†ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å¯è¦–åŒ–ã—ã¦ã„ã‚‹ assertã‚’ä½¿ã‚ãšã€gocmpã¨ã„ã†æ§‹é€ ä½“ã®æ¯”è¼ƒã‚’è¡Œã£ã¦ã„ã‚‹ testifyã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ã«èãã¨ madrier\u0026hellip;? ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãŠã™ã™ã‚ã•ã‚ŒãŸ ãƒ­ã‚®ãƒ³ã‚° WinTicket zapã‚’ä½¿ã£ã¦ã„ã‚‹ ãƒ­ã‚°åé›†ã¯CloudLoggingã‚’ä½¿ã£ã¦ã„ã‚‹ GCPã®k8sã‚’ä½¿ã£ã¦ã„ã‚‹ã‹ã‚‰ ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã¯ãƒ“ãƒƒã‚°ã‚¯ã‚¨ãƒªã«æµã—ã¦ã„ã‚‹ ãƒ¡ãƒ«ãƒšã‚¤ zapã‚’ä½¿ã£ã¦ã„ã‚‹ datadogã«å…¨ã¦æµã—ã¦ã„ã‚‹ ãŠé‡‘ã‹ã‹ã‚‹ã®ã§ãƒ­ã‚°ã‚’æ®‹ã™ã‚‚ã®ã®å–æ¨é¸æŠã‚’ã—å§‹ã‚ã¦ã„ã‚‹ templateãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã£ã¦ãƒ­ã‚°ã¨ã‹ã®åŸºç›¤ç³»å‡¦ç†ãŒå®¹æ˜“ã•ã‚Œã¦ã„ã‚‹ ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã¯ãƒ“ãƒƒã‚°ã‚¯ã‚¨ãƒªã«æµã—ã¦ã„ã‚‹ repository/packageæˆ¦ç•¥ WinTicket kubernetesã®ãƒªãƒã‚¸ãƒˆãƒªæ§‹æˆã‚’å‚è€ƒã«ã—ã¦ã„ã‚‹ /pkg é…ä¸‹ã«ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒåˆ‡ã‚‰ã‚Œã¦ã„ã‚‹ å„ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¯ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ä¸€èˆ¬çš„ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ /cmd é…ä¸‹ã«ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«main.go ã¨ bin ãŒå…¥ã£ã¦ã‚‹ ãƒ¡ãƒ«ãƒšã‚¤ ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ãƒªãƒã‚¸ãƒˆãƒªã‚’åˆ†ã‘ã¦ã„ã‚‹ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¯ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆãƒãƒ¼ãƒ ï¼‰ã”ã¨ã«åˆ¥ã‚Œã¦ã„ã‚‹ ä¸»æµã¯ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ãƒ•ãƒ©ãƒƒãƒˆã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ‡ã‚‹ã®ã‚‚ä¸»æµ ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«åˆ‡ã£ã¦ã„ã‚‹ äººã«ã‚ˆã£ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åˆ‡ã‚Šæ–¹ãŒç•°ãªã£ã¦ãã‚‹ã®ã§ã€çµ±ä¸€ã™ã‚‹ãŸã‚ã«ã€æœ€è¿‘ã¯ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ãŒå¢—ãˆã¦ã„ã‚‹ ã‚¨ãƒ‡ã‚£ã‚¿ WinTicket\nIntelliJ ãƒ¡ãƒ«ãƒšã‚¤\nGoLand Vim Emacs acmeï¼ˆrussãŒä½¿ã£ã¦ã‚‹ã‚„ã¤ï¼‰ã¯ã„ãªã„ï½—\ngo modules ã¯ä½¿ã£ã¦ã„ã‚‹ã‹ WinTicket\ndepä½¿ç”¨ ãƒ¡ãƒ«ãƒšã‚¤\næ˜”ãªãŒã‚‰ã®ã‚„ã¤ã¯dep æœ€è¿‘ã®ã¯modules ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®è‚²æˆã«ã¤ã„ã¦ è‚²æˆã©ã†ã—ã¦ã¾ã™ï¼Ÿ WinTicket\nãƒ‡ã‚£ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’ä½œã£ã¦ãŠã‚Šã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‹ã«ã¤ã„ã¦ã‹ã£ã¡ã‚Šã¨ãƒ«ãƒ¼ãƒ«ã‚’æ±ºã‚ã¦ã„ã‚‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹ã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å„å±¤ã”ã¨ã®å½¹å‰²ãŒæ˜æ–‡åŒ–ã•ã‚Œã¦ã„ã‚‹ ãƒ¢ãƒãƒ¬ãƒãªã®ã§çµæ§‹äººã«ã‚ˆã£ã¦ã‚ºãƒ¬ãŒã§ãªã„ã‚ˆã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆã«ãªã£ã¦ã„ã‚‹ æŒ‡æ‘˜ã¨ã‹ã¯ã¿ã‚“ãªãŒã¡ã‚ƒã‚“ã¨è¨€ãˆã‚‹ã‚ˆã†ãªç’°å¢ƒã¥ãã‚Šã‚’ã—ã¦ã„ã‚‹ï¼ˆå¿ƒç†çš„å®‰å…¨æ€§ãŒé«˜ã„ç’°å¢ƒï¼‰ ãƒ¡ãƒ«ãƒšã‚¤\ntentenã•ã‚“ã®Gopheré“å ´ã§å®ŸåŠ›ã‚’ã¤ã‘ã¦ã„ã£ã¦ã‚‹ æ˜æ–‡åŒ–ã•ã‚Œã¦ã„ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¯ãªã„ å„ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’è¦‹ã¦ç›—ã‚€ã®ãŒä¸»æµ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆãƒãƒ¼ãƒ ãŒã‚ã‚Šã€ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®åŸºæœ¬çš„ãªè€ƒãˆæ–¹ã‚’æŒ‡å°ã—ã¦ã„ã‚‹ Design Doc ã‚’å°å…¥ã—ã¦ãŠã‚Šã€ä»–ã®ãƒãƒ¼ãƒ ã‹ã‚‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã‚‚ã‚‰ãˆã‚‹ç’°å¢ƒã‚’ä½œã£ã¦ã„ã‚‹ Webã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ¡ç”¨ ãƒ¡ãƒ«ãƒšã‚¤ æŠ€è¡“è©¦é¨“ã®ã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•æ¡ç‚¹ã™ã‚‹ä»•çµ„ã¿ãŒã‚ã‚‹ æ–°å’æ•™è‚² ã‚µã‚¤ãƒãƒ¼\nç¾å ´ã«å…¥ã£ã¦å­¦ã¶ï¼ˆOJTï¼‰ ãƒ¡ãƒ«ã‚«ãƒª\ntentenã•ã‚“ã®Gopheré“å ´ ï¼ˆã„ã„ãªãï¼‰ ","ref":"/blog/godo_miniconf/"},{"title":"ã€OAuth 2.0 / OIDCã€‘ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã¨IDãƒˆãƒ¼ã‚¯ãƒ³ã®é•ã„ ï¼‹ OIDCèª•ç”Ÿã®æ­´å²","date":"","description":"","body":"ã¯ã˜ã‚ã« Web API ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘¨ã‚Šã«ã¤ã„ã¦èª¿ã¹ã¦ã„ã‚‹ã¨ã€\nã€ŒOAuth 2.0ã€ã‚„ã€ŒOpenID Connectã€ã¨ã„ã†å˜èªã‚’ã‚ˆãè¦‹ã‹ã‘ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã•ã‚‰ã«èª¿ã¹ã‚‹ã¨ã€ã€Œã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã€ã¨ã€ŒIDãƒˆãƒ¼ã‚¯ãƒ³ã€ã¨ã„ã†å˜èªã«å‡ºä¼šã„ã¾ã—ãŸã€‚\nã—ã‹ã—ã€ã“ã®2ã¤ã®ãƒˆãƒ¼ã‚¯ãƒ³ã®é•ã„ã«ã¤ã„ã¦ã€\nã„ã¾ã„ã¡ç†è§£ãŒã§ãã¦ã„ãªã‹ã£ãŸã®ã§ã€ä»Šå›ã¯ä¸¡è€…ã®é•ã„ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nåŠ ãˆã¦ã€ãƒˆãƒ¼ã‚¯ãƒ³ã«ã¤ã„ã¦èª¿ã¹ã‚‹ä¸­ã§ã€\nOpenID ConnectãŒç”Ÿã¾ã‚ŒãŸçµŒç·¯ã‚‚çŸ¥ã‚‹ã“ã¨ãŒã§ããŸã®ã§ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\n2ã¤ã®ãƒˆãƒ¼ã‚¯ãƒ³ã®é•ã„ ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ ã¨ IDãƒˆãƒ¼ã‚¯ãƒ³ã€ä¸¡è€…ã¯å½¹å‰²ãŒå¤§ããç•°ãªã‚Šã¾ã™ã€‚\nã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ï¼šèªå¯ï¼ˆãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ï¼ã‚ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¸ã®æ¨©é™ï¼ˆreadã‚„writeãªã©ï¼‰ã‚’æŒã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ç¢ºèªã™ã‚‹ã“ã¨ï¼‰ IDãƒˆãƒ¼ã‚¯ãƒ³ï¼šèªè¨¼ï¼ˆãã®äººãŒèª°ã‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ï¼‰ åå‰ã®ã¾ã¾ã§ã—ãŸã€‚\nèªå¯ã«ä½¿ã†ãŸã‚ã®ã„ã‚ã„ã‚ãªæƒ…å ±ãŒè©°ã¾ã£ã¦ã„ã‚‹ã®ãŒã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã§ã€ èªè¨¼ã«ä½¿ã†ãŸã‚ã®ã„ã‚ã„ã‚ãªæƒ…å ±ãŒè©°ã¾ã£ã¦ã„ã‚‹ã®ãŒIDãƒˆãƒ¼ã‚¯ãƒ³ã§ã™ã€‚\nOpenID ConnectãŒç”Ÿã¾ã‚ŒãŸçµŒç·¯ OAuth 2.0ãŠã‚ˆã³OpenID Connectã«ã¤ã„ã¦èª¿ã¹ã¦ã„ã‚‹ã¨ã€\nã€ŒOpenID Connect ã¯ OAuth 2.0 ã‚’æ‹¡å¼µã—ãŸä»•æ§˜ã€ã§ã‚ã‚‹ã¨ã„ã†è¨˜è¿°ã‚’è¦‹ã‹ã‘ã¾ã—ãŸã€‚\nã©ã†ã—ã¦OpenID ConnectãŒå¿…è¦ã«ãªã£ãŸã®ã‹ã€\nã“ã®è¾ºã®çµŒç·¯ã«ã¤ã„ã¦è¿°ã¹ã¦ã„ãã¾ã™ã€‚\nOAuth 2.0 ã¯ èªå¯ ã®ä»•çµ„ã¿ ã¾ãšã¯ã€OAuth 2.0ã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã™ã€‚\nOAuth 2.0 ã¯ èªå¯ ã®ä»•çµ„ã¿ã§ã‚ã‚Šã€ èªè¨¼ ã®ä»•çµ„ã¿ã§ã¯ãªã„\nã®ã§ã™ãŒã€å®Ÿéš›ã«ã¯OAuth 2.0ã‚’èªè¨¼ç”¨é€”ã§ä½¿ã£ã¦ã„ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã¯å¤šãå­˜åœ¨ã—ã¾ã™ã€‚\nOAuth 2.0 ã§èªè¨¼ã‚’è¡Œã†ã“ã¨ã®å•é¡Œç‚¹ã«ã¤ã„ã¦ã¯ã€\nã“ã¡ã‚‰ ã®è¨˜äº‹ã«è©³ã—ãæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚\nä¸Šè¨˜è¨˜äº‹ã‚ˆã‚Šã€OAuth 2.0 ã«ã‚ˆã‚‹èªè¨¼ã®å•é¡Œç‚¹ã¯ã€\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰å´ã§ãƒˆãƒ¼ã‚¯ãƒ³ã®æ­£å½“æ€§ã‚’ç¢ºã‹ã‚ã‚‹è¡“ãŒãªã„ ã“ã¨ã§ã‚ã‚‹ã¨ã‚ã‹ã‚Šã¾ã™ã€‚\nãªãŠã€ã“ã“ã§ã„ã†ã€Œæ­£å½“æ€§ã€ã«é–¢ã—ã¦è£œè¶³ã—ã¦ãŠãã¨ã€\nã€Œæ­£å½“ãªãƒˆãƒ¼ã‚¯ãƒ³ã€ã¨ã¯ã€ã‚¯ãƒ©ã‚¤ãƒ³ãƒˆãŒå—ã‘å–ã£ãŸãƒˆãƒ¼ã‚¯ãƒ³ãŒãã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãŸã‚ã«ç”¨æ„ã•ã‚ŒãŸã‚‚ã®ã§ã‚ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚\nã¤ã¾ã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ãƒˆãƒ¼ã‚¯ãƒ³ã®æ­£å½“æ€§ã‚’ç¢ºã‹ã‚ã‚‹è¡“ãŒãªã„ï¼ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒè‡ªèº«ã®ãŸã‚ã®ãƒˆãƒ¼ã‚¯ãƒ³ã§ã‚ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹è¡“ãŒãªã„ã¨ã„ã†æ„å‘³ã§ã™ã€‚\nï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ã®æ”¹ã–ã‚“æ¤œçŸ¥ã†ã‚“ã¬ã‚“ã®è©±ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã®ã§ã”æ³¨æ„ãã ã•ã„ï¼‰\nã€ŒOAuth 2.0 ã«ã‚ˆã‚‹èªè¨¼ã®å•é¡Œç‚¹ã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€å…ˆè¿°ã®ã¨ãŠã‚ŠOAuth 2.0ã¯èªå¯ã®ãŸã‚ã®ä»•çµ„ã¿ãªã®ã§ã€å³å¯†ã«ã¯ã€Œèªè¨¼ã®å•é¡Œã€ãªã‚“ã¦å­˜åœ¨ã—ã¾ã›ã‚“ã€‚ èª¬æ˜ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã“ã†ã„ã£ãŸè¨€è‘‰ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ãƒˆãƒ¼ã‚¯ãƒ³ã®æ­£å½“æ€§ã‚’ç¢ºã‹ã‚ãŸã„ OAuth 2.0 ã«ã‚ˆã‚‹èªè¨¼ã®å•é¡Œã¯ OpenID Connect ã«å‰‡ã‚‹ã“ã¨ã§è§£æ±ºã§ãã¾ã™ã€‚\nã§ã¯ã€ã©ã†ã—ã¦ OpenID Connect ã‚’ä½¿ã†ã¨å®‰å…¨ã«èªè¨¼ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚\nã‚­ãƒ¼ã¨ãªã‚‹ã®ã¯ IDãƒˆãƒ¼ã‚¯ãƒ³ ã«å«ã¾ã‚Œã‚‹ audã‚¯ãƒ¬ãƒ¼ãƒ  ã§ã™ã€‚\naudã‚¯ãƒ¬ãƒ¼ãƒ  audã‚¯ãƒ¬ãƒ¼ãƒ  ã¯ IDãƒˆãƒ¼ã‚¯ãƒ³ ã«å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®ã²ã¨ã¤ã§ã™ã€‚\nï¼ˆã€Œã‚¯ãƒ¬ãƒ¼ãƒ ã€ã¯JSONã«ãŠã‘ã‚‹ã€Œã‚­ãƒ¼ã€ã¨ã»ã¼åŒç¾©ã ã¨æ€ã£ã¦ãã ã•ã„ï¼‰\nã§ã¯ã€ã“ã® audã‚¯ãƒ¬ãƒ¼ãƒ  ãŒã©ã†ã„ã£ãŸæƒ…å ±ã‚’æŒã£ã¦ã„ã‚‹ã‹ã¨è¨€ã†ã¨ã€\nãã®ãƒˆãƒ¼ã‚¯ãƒ³ãŒã©ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãŸã‚ã«ç™ºè¡Œã•ã‚ŒãŸã‚‚ã®ã‹ ã¨ã„ã†æƒ…å ±ã§ã™ã€‚\nã—ãŸãŒã£ã¦ã€audã‚¯ãƒ¬ãƒ¼ãƒ ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯è‡ªèº«ã®ãŸã‚ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‹ã©ã†ã‹èª¿ã¹ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nã“ã®ã€Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ audã‚¯ãƒ¬ãƒ¼ãƒ  ã®ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ã€ã“ã¨ã¯ä»•æ§˜ã¨ã—ã¦æ±ºã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ï¼ˆå‚è€ƒ ï¼‰\nã“ã®ã‚ˆã†ãªä»•çµ„ã¿ï¼ˆãƒ«ãƒ¼ãƒ«ï¼‰ãŒã‚ã‚‹ã‹ã‚‰ã€\nOpenID Connectã§OAuth 2.0 ã«ã‚ˆã‚‹èªè¨¼ã®å•é¡Œã‚’è§£æ±ºã§ãã‚‹ã‚ã‘ã§ã™ã­ã€‚ãªã‚‹ã»ã©\nã¾ã¨ã‚ ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã¯èªå¯ã€IDãƒˆãƒ¼ã‚¯ãƒ³ã¯èªè¨¼ã«ä½¿ã†ã‚‚ã® èªè¨¼ãŒã—ãŸã„ãªã‚‰ OpenID Connect ã‚’ä½¿ã„ã¾ã—ã‚‡ã† ä»Šå›ã®å†…å®¹ã¯ã€è‡ªåˆ†ãŒèª¿ã¹ãŸã“ã¨ã‚’ã ã„ã¶ã–ã£ãã‚Šãƒ¡ãƒ¢ã—ãŸç¨‹åº¦ã®ã‚‚ã®ã§ã™ã€‚\nä¸‹è¨˜ã«å‚è€ƒè¨˜äº‹ã‚’è¼‰ã›ã¦ãŠãã®ã§ã€è©³ç´°ã¯ãã¡ã‚‰ã‚’å¾¡è¦§ãã ã•ã„ã€‚\nå‚è€ƒ OAuth 2.0 ä»•æ§˜ OpenID Connect ä»•æ§˜ OAuth 2.0 \u0026#43; OpenID Connect ã®ãƒ•ãƒ«ã‚¹ã‚¯ãƒ©ãƒƒãƒå®Ÿè£…è€…ãŒçŸ¥è¦‹ã‚’èªã‚‹ï¼ˆ@TakahikoKawasaki ã•ã‚“ï¼‰ IDãƒˆãƒ¼ã‚¯ãƒ³ãŒåˆ†ã‹ã‚Œã° OpenID Connect ãŒåˆ†ã‹ã‚‹ï¼ˆ@TakahikoKawasaki ã•ã‚“ï¼‰ OAuth 2.0/OpenID Connectã®2ã¤ã®ãƒˆãƒ¼ã‚¯ãƒ³ã®ä½¿ã„ã¿ã¡ï¼ˆ@wadahiro ã•ã‚“ï¼‰ å˜ãªã‚‹ OAuth 2.0 ã‚’èªè¨¼ã«ä½¿ã†ã¨ã€è»ŠãŒé€šã‚Œã‚‹ã»ã©ã®ã©ã§ã‹ã„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¼ãƒ»ãƒ›ãƒ¼ãƒ«ãŒã§ãã‚‹ï¼ˆNat Sakimura ã•ã‚“ï¼‰ ","ref":"/blog/id_token_and_access_token/"},{"title":"ã€å¾’ç„¶ãªã‚‹ã¾ã¾ã«ã€‘ã‚µãƒ¼ãƒ“ã‚¹ç™ºæ¡ˆã«ãŠã‘ã‚‹ä¸»è¦³ã¨å®¢è¦³ã®ãƒãƒ©ãƒ³ã‚¹ã«ã¤ã„ã¦","date":"","description":"ã‚µãƒ¼ãƒ“ã‚¹ç™ºæ¡ˆã£ã¦é›£ã—ã„â€¦","body":"ç ”ä¿®ã§ã® ã‚µãƒ¼ãƒ“ã‚¹ç™ºæ¡ˆ ã‚’ã‚„ã£ãŸ æ–°å’ç ”ä¿®ã§ ã‚µãƒ¼ãƒ“ã‚¹ç™ºæ¡ˆ ã«ã¤ã„ã¦å­¦ã³ã€å®Ÿéš›ã«\nå•é¡Œæè­° ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æ¤œè¨ ã‚µãƒ¼ãƒ“ã‚¹ã«è½ã¨ã—è¾¼ã‚€ ãªã©ã€ãƒãƒ¼ãƒ ã§ä½œæ¥­ã—ã¾ã—ãŸã€‚\nï¼ˆä»Šå›è€ƒãˆãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ã€ä»Šå¾Œãƒãƒ¼ãƒ ã§é–‹ç™ºã—ã¦ã„ãã¾ã™ï¼‰\nãã—ã¦ã€ä¸€æ—¥è€ƒãˆãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤ã¨ãªã‚‹äººãŸã¡ã« ã€Œã“ã‚“ãªã‚µãƒ¼ãƒ“ã‚¹ã©ã†ã§ã™ã‹ï¼Ÿã‚ã£ãŸã‚‰æ¬²ã—ã„ã§ã™ã‹ï¼Ÿã€ã¨ã„ã£ãŸã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’è¡Œã„ã¾ã—ãŸã€‚ è¿”ã£ã¦ããŸç­”ãˆã¯ã€Œæ¬²ã—ããªã„ã€ ãŒéåŠæ•°ã§ã—ãŸã€‚\nãã®ã¨ãåƒ•ãŸã¡ã¯ æ­£ç›´ã€æ„æ°—æ¶ˆæ²ˆã—ã¾ã—ãŸã€‚\nãŸã ã€ã“ã†ã„ã†çµæœã«ãªã£ãŸåŸå› ã¯æ˜ç™½ã§ã—ãŸã€‚\nãªãœã‹ã¨ã„ã†ã¨ã€ã“ã®æ™‚ã€ãƒãƒ¼ãƒ å†…ã‹ã‚‰å¤šãå‡ºãŸå£°ãŒ\nã€Œå¿…æ­»ã«è€ƒãˆãŸã‚µãƒ¼ãƒ“ã‚¹ã ã£ãŸã®ã«ã€\nã€Œçµ¶å¯¾æ¬²ã—ã„ã§ã—ã‚‡ã“ã‚Œã€\nã€Œä¿ºã¯æ¬²ã—ã„ã€\nã¨ã„ã£ãŸå†…å®¹ã ã£ãŸã‹ã‚‰ã§ã™ã€‚\nãƒãƒƒã‚«ã‚½ãƒ³ã§ã‚‚ã‚ã‚‹ã‚ã‚‹ã§ã™ã‚ˆã­ã€‚\nè‡ªåˆ†ãŸã¡ãŒè€ƒãˆãŸã‚µãƒ¼ãƒ“ã‚¹ã«æ„›ç€ãŒå‡ºã¦ãã¦ã€å®¢è¦³æ€§ãŒãªããªã£ã¦ã„ã‚‹çŠ¶æ…‹ã€‚\nãã†ã§ã™ã€‚åƒ•ãŸã¡ã¯å®¢è¦³çš„ã«ãªã‚Œã¦ã„ãªã‹ã£ãŸã‚“ã§ã™ã€‚\nãã‚Œã§ã‚‚ã‚ã’ãšã«åƒ•ãŸã¡ã¯å‹•ã„ãŸ ã‚ãã‚ãã—ã¦ã„ã¦ã‚‚ä»•æ–¹ãªã„ã®ã§ã€åƒ•ãŸã¡ã¯ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’ç­”ãˆã¦ãã‚ŒãŸäººã« è©±ã‚’èãã«è¡Œã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nã“ã®è¡Œå‹•ãŒå¤§æ­£è§£ã§ã—ãŸã€‚\nãƒãƒ¼ãƒ å¤–ã®äººã®è©±ã‚’èãã¨ã€ã©ã†ã„ã£ãŸã¨ã“ã‚ãŒã ã‚ã ã£ãŸã®ã‹ãŒè¦‹ãˆã¦ãã¾ã—ãŸã€‚\nåŠ ãˆã¦ã€ è‡ªåˆ†ãŸã¡ã‚‚ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®¢è¦³è¦–ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€\nä»–ã«ã‚‚ã ã‚ãªã¨ã“ã‚ãŒè¦‹ãˆã¦ãã¾ã—ãŸã€‚\nå¾Œã€æ„å¤–ã ã£ãŸã®ã§ã™ãŒã€è‡ªåˆ†ãŸã¡ãŒç‰¹ã«ã©ã“ã«åŠ›ã‚’å…¥ã‚Œã¦ã„ã¦ã€\nã©ã†ã„ã£ãŸè§£æ±ºæ–¹æ³•ã‚’å–ã‚ã†ã¨ã—ã¦ã„ã‚‹ã®ã‹ã€ç†±é‡ã‚’æŒã£ã¦ä¼ãˆã‚‹ã¨ã€\nç›¸æ‰‹æ–¹ãŒç†è§£ã—ã¦ã€å…±æ„Ÿãƒ»ç´å¾—ã—ã¦ãã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚\nã¤ã¾ã‚Šâ€¦ ã‚µãƒ¼ãƒ“ã‚¹ã‚’ææ¡ˆã™ã‚‹ä¸Šã§ã€ç¬¬ä¸€ã«å¤§äº‹ãªã®ã¯ å®¢è¦³æ€§ ã ã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nè‡ªåˆ†ãŸã¡ãŒã©ã‚Œã ã‘ã„ã„ã‚‚ã®ã ã¨æ€ã£ã¦ã‚‚ã€\nä»–ã®äººã€…ãŒã„ã‚‰ãªã„ã¨è¨€ã£ãŸã‚‰ã€ãã®ã‚µãƒ¼ãƒ“ã‚¹ã¯ä¸–ã®ä¸­ã«ã¯å—ã‘å…¥ã‚Œã‚‰ã‚Œã¾ã›ã‚“ã€‚\nã¤ã¾ã‚Šã€å®¢è¦³çš„ã«è¦‹ã‚‹ ï¼ ä¸–ã®äººã€…ãŒãªã«ã«èª²é¡Œã‚’æ„Ÿã˜ã¦ã„ã‚‹ã®ã‹èª¿æŸ»ã—ã€\nã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ãã“ã¨ãŒå¤§äº‹ã§ã™ã€‚\nã—ã‹ã—ãªãŒã‚‰ã€ã•ãã»ã©è¨€ã£ãŸã¨ãŠã‚Šã€\nç†±é‡ã‚’æŒã£ã¦ä¼ãˆã‚‹ã¨ã€ç›¸æ‰‹æ–¹ãŒç†è§£ã—ã¦ã€å…±æ„Ÿãƒ»ç´å¾—ã—ã¦ãã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚\nã“ã†ã„ã†ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚Šã¾ã™ã€‚\nã“ã‚Œã¯ã€å¤šå°‘ä¸»è¦³çš„ã§ã‚‚è«–ç†çš„ã«æ­£ã—ã„ã“ã¨ã‚’ç†±é‡æŒã£ã¦ä¼ãˆã‚‹ã“ã¨ã§ã€\nä¸–ã®äººã€…ãŒã¾ã æ°—ã¥ã„ã¦ã„ãªã„èª²é¡Œã«æ°—ã¥ãã€ææ¡ˆã‚µãƒ¼ãƒ“ã‚¹ã®å¿…è¦æ€§ã‚’æ„Ÿã˜ã¦ã‚‚ã‚‰ãˆãŸç¬é–“ã ã¨æ€ã„ã¾ã™ã€‚\nãŸã ã€ç›¸æ‰‹ã«ã‚µãƒ¼ãƒ“ã‚¹ã®è‰¯ã•ã‚’æ°—ã¥ã„ã¦ã‚‚ã‚‰ã†ã«ã¯ã€\nã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹çµ¶å¯¾çš„è‡ªä¿¡ï¼ˆä¸»è¦³ï¼‰ãŒãªã„ã¨é›£ã—ã„ã§ã™ã‚ˆã­ã€‚\nã™ãªã‚ã¡ã€ä¸»è¦³ ã‚‚å¤§äº‹ã£ã¦ã“ã¨ã§ã™ã­ã€‚\nä¸»è¦³ã¨å®¢è¦³ã®ãƒãƒ©ãƒ³ã‚¹ãŒé›£ã—ã„ ã“ã“ã¾ã§ã®å†…å®¹ã‚’ã¾ã¨ã‚ã‚‹ã¨ åƒ•ã¯ã€Œã‚µãƒ¼ãƒ“ã‚¹ç™ºæ¡ˆã«ãŠã„ã¦ã€ä¸»è¦³ ã¨ å®¢è¦³ ã©ã¡ã‚‰ã‚‚å¤§äº‹ã€ã¨ã„ã†çµè«–ã«è½ã¡ã¤ãã¾ã—ãŸã€‚\nã§ã‚‚ã€ä¸»è¦³ã¨å®¢è¦³ã®ãƒãƒ©ãƒ³ã‚¹ã£ã¦ã‚ã¡ã‚ƒãã¡ã‚ƒé›£ã—ããªã„ã§ã™ã‹ï¼Ÿ\nä¸»è¦³çš„æ„è¦‹ã‚‚ã‚ã‚‹ç¨‹åº¦ã¯å—ã‘å…¥ã‚Œã¦ã‚‚ã‚‰ãˆã‚‹ã‚“ã§ã™ã€‚\nãã—ã¦ã€ãã“ãŒãã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªæ©Ÿèƒ½ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã—ã‹ã—ã€ä¸»è¦³çš„æ„è¦‹ãŒå¤šããªã‚Šã™ãã‚‹ã¨ã€èª°ã«ã‚‚æ±‚ã‚ã‚‰ã‚Œãªã„ã‚µãƒ¼ãƒ“ã‚¹ãŒã§ãã‚ãŒã£ã¦ã—ã¾ã†ã€‚\nã„ã‹ã«ã€ã“ã® ä¸»è¦³ ã¨ å®¢è¦³ ã‚’ä¸¡ç«‹ã™ã‚‹ã®ã‹ã€‚\nã¾ã ã¾ã  ã‚µãƒ¼ãƒ“ã‚¹ç™ºæ¡ˆ ã«ã¤ã„ã¦å­¦ã¶ã“ã¨ã¯å¤šã„ã¨æ„Ÿã˜ã¾ã—ãŸã€‚\nå¾’ç„¶ãªã‚‹ã¾ã¾ â€¦ã™ããŸ ç ”ä¿®ã§æ„Ÿã˜ãŸã“ã¨ã‚’æ›¸ããªãã£ãŸã ã‘ãªã®ã§ã€\nè«–ç†çš„ã«ç ´ç¶»ã—ã¦ã„ã‚‹ã“ã¨ã‚ã€ä¸€èˆ¬è«–çš„ã«é–“é•ã£ã¦ã„ã‚‹ã¨ã“ã‚ã€å¤šã€…ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã§ã‚‚ã€ä»Šã¯ã¨ã«ã‹ãæ€ã£ãŸã“ã¨ã‚’é–“é•ã£ã¦ã„ã¦ã‚‚ã„ã„ã‹ã‚‰ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¦ãŠãã€\næ•°å¹´å¾Œè¦‹ãŸã¨ãã«ã©ã†æ„Ÿã˜ã‚‹ã®ã‹çŸ¥ã‚ŠãŸã„ã¨æ€ã„ã¾ã—ãŸã€‚ã ã‹ã‚‰ã€æ›¸ãã¾ã—ãŸã€‚\n// TODO: æ•°å¹´å¾Œã®è‡ªåˆ†ã‚ˆã€ç¶šç·¨è¨˜äº‹ã‚’ã¡ã‚ƒã‚“ã¨æ›¸ãã‚ˆã†ã«\n","ref":"/blog/my_thinking_about_planning/"},{"title":"ã€OGPã€‘ãƒªãƒ³ã‚¯å…ˆã®ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã—ãŸè©±","date":"","description":"OGPå¤§äº‹","body":"Twitter ã®ãƒªãƒ³ã‚¯ã«ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„ ã“ã®ã‚ˆã†ã« Twitter ã§ãƒ–ãƒ­ã‚°ã®ãƒªãƒ³ã‚¯ã‚’è¼‰ã›ã¦ã‚‚ã€ã‚µãƒ ãƒã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚Œãªã„ã€‚\nã¯ã¦ãªãƒ–ãƒ­ã‚°ã‚’ã‚„ã£ã¦ã„ãŸã¨ãã¯ã€ä½•ã‚‚ã—ãªãã¦ã‚‚ã‚µãƒ ãƒã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nãƒˆãƒƒãƒ—ç”»åƒã‚’ã‚ˆã—ãªã«ã‚µãƒ ãƒã‚¤ãƒ«ã«ã—ã¦ãã‚Œã‚‹ã®ã‹ãªãã£ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒé•ã£ãŸã‚“ã§ã™ã­â€¦ã€‚\nã©ã†ã‚„ã£ãŸã‚‰ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ Twitter ã‚„ Facebook ãªã©ã® SNS ã§ã‚¿ã‚¤ãƒˆãƒ«ã‚„ã‚µãƒ ãƒã‚¤ãƒ«ã¨ã„ã£ãŸWebãƒšãƒ¼ã‚¸ã®æƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ã€\nOpen Graph Protocolï¼ˆOGPï¼‰ ã¨ã„ã†ã‚‚ã®ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nOGP ã‚’è¨­å®šã™ã‚‹ã ã‘ã§ã€Twitter ã‚„ Facebook ã§ã‚µãƒ ãƒã‚¤ãƒ«ä»˜ãã®ãƒªãƒ³ã‚¯ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã¡ã‚‰ã®ã‚µã‚¤ãƒˆ ã§è©³ç´°ãŒèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nOGP ã®è¨­å®š OGP ã®è¨­å®šé …ç›®ã«ã¯ä»¥ä¸‹ã®ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\nog:title og:type og:url og:description og:image ã“ã‚Œã‚‰ã‚’ HTML ã« meta ã‚¿ã‚°ã§åŸ‹ã‚è¾¼ã‚ã° OK ã§ã™ã€‚\n\u0026lt;meta property=\u0026quot;og:title\u0026quot; content=\u0026quot;ã€Go + ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ã€‘DDDã‚’æ„è­˜ã—ã¦Web APIã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹\u0026quot;\u0026gt; \u0026lt;meta property=\u0026quot;og:type\u0026quot; content=\u0026quot;article\u0026quot;\u0026gt; \u0026lt;meta property=\u0026quot;og:url\u0026quot; content=\u0026quot;https://tech.yyh-gl.dev/blog/go_web_api/\u0026quot;\u0026gt; \u0026lt;meta property=\u0026quot;og:description\u0026quot; content=\u0026quot;hoge\u0026quot;\u0026gt; \u0026lt;meta property=\u0026quot;og:image\u0026quot; content=\u0026quot;https://tech.yyh-gl.dev/img/2019/06/go_web_api/featured.png\u0026quot;\u0026gt; ã“ã‚“ãªæ„Ÿã˜ã§ã™ã­ã€‚\nã“ã‚Œã‚’ head ã‚¿ã‚°å†…ã«åŸ‹ã‚è¾¼ã¿ã¾ã™ã€‚\nãŸã ã—ã€åƒ•ã®å ´åˆã€Hugo ã®ãƒ†ãƒ¼ãƒã®æ–¹ã§ã€ og:image ä»¥å¤–ã¯è¨­å®šã—ã¦ãã‚Œã¦ã„ã¾ã—ãŸã€‚\nã—ãŸãŒã£ã¦ã€ä»Šå›ã¯ og:image ã‚’è¿½åŠ ã§è¨­å®šã—ã¾ã—ãŸã€‚\nog:image ã®è¨­å®š ä¸‹è¨˜ã®ã‚ˆã†ãª og:image ã®è¨­å®šã‚’ /themes/\u0026lt;your-theme-name\u0026gt;/layouts/partials/meta.html ã«è¿½åŠ ã—ã¾ã—ãŸã€‚\n\u0026lt;meta property=\u0026quot;og:image\u0026quot; content=\u0026quot;ï½›ï½› .Site.BaseURL ï½ï½ï½›ï½› if .Params.featured ï½ï½imgï½›ï½› .Page.Date.Format \u0026quot;2006/01\u0026quot; | relURL ï½ï½/ï½›ï½› .Params.featured ï½ï½ï½›ï½› else ï½ï½ï½›ï½› .Site.Params.intro.ogp.src ï½ï½ï½›ï½› end ï½ï½\u0026quot; /\u0026gt; ãªã«ã‚„ã‚‰é•·ãŸã‚‰ã—ãå®šç¾©ã—ã¦ã„ã¾ã™ãŒã€ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã‚’ã¾ã¨ã‚ã‚‹ã¨ã€\nfeaturedç”»åƒï¼ˆå„è¨˜äº‹ã”ã¨ã®ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒï¼‰ãŒè¨­å®šã•ã‚Œã¦ã„ã‚Œã° ãã‚Œã‚’ä½¿ç”¨ featuredç”»åƒãŒè¨­å®šã•ã‚Œã¦ã„ãªã‘ã‚Œã°ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® OGP ç”¨ç”»åƒã‚’ä½¿ç”¨ ä»¥ä¸Šã®ã“ã¨ã‚’ã—ã¦ã„ã¾ã™ã€‚\nã€ãŠã¾ã‘ã€‘toml ã«ã‚ˆã‚‹å®šæ•°å®šç¾© og:image ã‚’å®šç¾©ã™ã‚‹ã•ã„ã« .Site.Params.intro.ogp.src ã“ã‚“ãªã®ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã¯å±•é–‹ã•ã‚Œã‚‹ã¨ OGP ç”¨ç”»åƒã®ãƒ‘ã‚¹ã«ãªã‚‹ã‚ã‘ã§ã™ãŒã€ãã®ãƒ‘ã‚¹ã‚’ã©ã†ã‚„ã£ã¦å®šç¾©ã—ã¦ã„ã‚‹ã‹ã¨ã„ã†ã¨â€¦\n/\u0026lt;your-blog-root\u0026gt;/confi.toml ã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã‚’è¨˜è¿°ã™ã‚Œã°ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n[params.intro] header = \u0026quot;yyh-gl's Tech Blog\u0026quot; paragraph = \u0026quot;æŠ€è¡“ç³»ãƒã‚¿ä¸­å¿ƒã®ãƒ–ãƒ­ã‚°ã§ã™ã€‚ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã‚’ãƒ¡ã‚¤ãƒ³ã¨ã—ãŸãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚\u0026quot; rssIntro = true socialIntro = true \u0026lt; ä¸€éƒ¨çœç•¥ \u0026gt; [params.intro.ogp] src = \u0026quot;img/main/ogp_image.png\u0026quot; alt = \u0026quot;yyh-gl's image for OGP\u0026quot; 9 ã€œ 11 è¡Œç›®ãŒ OGP ç”¨ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”»åƒã‚’è¨­å®šã—ã¦ã„ã‚‹ã¨ã“ã‚ã§ã™ã€‚\nçµæœ OGP ãŒæ­£ã—ãè¨­å®šã§ãã¦ã„ã‚‹ã‹ã¯ ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã‚’ä½¿ã£ã¦ç¢ºã‹ã‚ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nCard validatorï¼ˆTwitterï¼‰ ã‚·ã‚§ã‚¢ãƒ‡ãƒãƒƒã‚¬ãƒ¼ï¼ˆFacebookï¼‰ åƒ•ã¯ Twitter ã«ã—ã‹å…±æœ‰ã™ã‚‹æ°—ãŒãªã‹ã£ãŸã®ã§ã€ Card validator ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒãƒƒã‚°ã—ã¾ã—ãŸã€‚\nã“ã‚“ãªæ„Ÿã˜ã§ç¢ºã‹ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\næœ€å¾Œã«ã€Twitter ä¸Šã§ã©ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚\nå°‘ã—ã‚µã‚¤ã‚ºãŒãšã‚Œã¡ã‚ƒã£ã¦ã„ã¾ã™ãŒã€ã¡ã‚ƒã‚“ã¨è¡¨ç¤ºã§ãã¦ã„ã¾ã™ã­ğŸ‘\næ„Ÿæƒ³ ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‚’è¦‹ã«è¡Œã£ã¦ã¿ãŸã‚‰ã€ OGP ç”¨ã®è¨­å®šãŒã•ã‚Œã¦ã„ã¾ã—ãŸã€‚\nè£ã§è¨­å®šã—ã¦ãã‚Œã¦ã„ãŸã‚“ã§ã™ã­ã€‚\nOGP ã¨ã„ã†ä»•çµ„ã¿ã‚’çŸ¥ã‚Œã¦ã‚ˆã‹ã£ãŸã§ã™ã€‚\nãƒªãƒ³ã‚¯ã®ã‚µãƒ ãƒã‚¤ãƒ«å‡ºã‚‹ã‚ˆã†ã«ãªã£ãŸã§ğŸ¤¡https://t.co/OGXRRGonKc\n\u0026mdash; ï½´ï¾ï½¼ï¾ï¾†ï½±ã®ï¾ï½¹ï¾ã•ã‚“ ğŸŒ• (@yyh_gl) 2019å¹´6æœˆ16æ—¥ ","ref":"/blog/ogp/"},{"title":"ã€HTML + CSS + Prism.jsã€‘ãƒ–ãƒ­ã‚°ã®è¦‹ãŸç›®ã‚’æ•´ãˆãŸè©±","date":"","description":"","body":"ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆå°å…¥ ã“ã®ãƒ–ãƒ­ã‚°ã€ã¡ã‚‡ã£ã¨å‰ã¾ã§ã‚³ãƒ¼ãƒ‰ã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆãŒåŠ¹ã„ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚\næ­£ç¢ºã«ã¯å¯¾å¿œã—ã¦ã„ãªã„è¨€èªãŒï¼ˆã‚ã¡ã‚ƒãã¡ã‚ƒï¼‰ã‚ã‚Šã¾ã—ãŸã€‚\nã“ã®ã¨ãŠã‚Šã€ Goã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸâ€¦ã€‚\nã‚‚ã¨ã‚‚ã¨ã€ã“ã®ãƒ–ãƒ­ã‚°ã®ãƒ†ãƒ¼ãƒã¯ Hugo Themes ï¼ˆHugo å…¬å¼ ãƒ†ãƒ¼ãƒã‚·ãƒ§ãƒƒãƒ—çš„ãªã®ï¼‰ã« ã‚ã£ãŸã‚‚ã®ã‚’ä½¿ã‚ã›ã¦ã‚‚ã‚‰ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€ã•ã™ãŒã«å¯¾å¿œã—ã¦ã„ãªã„è¨€èªãŒå¤šã™ããŸã®ã§ã€\nã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆéƒ¨åˆ†ã ã‘å€‹åˆ¥ã«å°å…¥ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nPrism.js ã•ã£ããã€ã€ŒHTML ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã€ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nãã—ãŸã‚‰ã€ã ã„ãŸã„ä»¥ä¸‹ã®3ã¤ãŒå‡ºã¦ãã¾ã—ãŸã€‚\nPrism.js highlight.js Google code-prettify ã©ã‚Œã«ã—ã‚ˆã†ã‹è¿·ã£ãŸã®ã§ã™ãŒã€è¦‹ãŸç›®ãŒä¸€ç•ªå¥½ã¿ã ã£ãŸ Prism.js ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nå°å…¥ å°å…¥æ–¹æ³•ã«ã¤ã„ã¦ã¯è¨˜äº‹ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚’ã”è¦§ãã ã•ã„ã€‚\nå…¬å¼ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ å°å…¥ å‚è€ƒè¨˜äº‹ å°å…¥ å‚è€ƒè¨˜äº‹ å°å…¥ å‚è€ƒè¨˜äº‹ å°å…¥å¾Œ ãã‚Œã„ã§ã™ã­ãƒ¼\nä»Šå›å°å…¥ã—ãŸ Prism.js ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€\nLine Highlightï¼šè¡ŒæŒ‡å®šã—ãŸç®‡æ‰€ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹æ©Ÿèƒ½ï¼ˆä¸Šè¨˜ç”»åƒå†…ã§ã¯ä½¿ç”¨ã—ã¦ã„ã¾ã›ã‚“ï¼‰ Line Numbersï¼šè¡Œç•ªå·ã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ Show Languageï¼šå³ä¸Šã« è¨€èªå ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹æ©Ÿèƒ½ ã®3ã¤ã§ã™ã€‚\nå›°ã£ãŸã“ã¨ è¡Œç•ªå·ãŒè¡¨ç¤ºã•ã‚Œãªã„ è¡Œç•ªå·ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ã€\n\u0026lt;pre class=\u0026quot;line-numbers\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;language-c\u0026quot;\u0026gt; ã‚³ãƒ¼ãƒ‰ \u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt; ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«ã€è¡¨ç¤ºã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã«å¯¾ã—ã¦ã€\nline-numbers ã¨ã„ã†ã‚¯ãƒ©ã‚¹ã‚’ä»˜ä¸ã—ã¦ã‚ã’ã‚‹ã ã‘ã§OKã§ã™ã€‚\nâ€¦ãŒã€ãªãœã‹è¡Œç•ªå·ãŒä»–ã®è¦ç´ ã®ä¸‹ã«ã„ã£ã¦ã—ã¾ã„ã€è¦‹ãˆãªããªã£ã¦ã„ã¾ã—ãŸã€‚\nã—ãŸãŒã£ã¦ã€prism.css ã‚’ä¿®æ­£ã—ã¦è¡Œç•ªå·ãŒä»–ã®è¦ç´ ã®ä¸Šã«æ¥ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nãƒªã‚¹ãƒˆè¡¨ç¤ºã®è¡Œé–“ãŒç•°æ§˜ã«åºƒã„ Prism.js å°å…¥å¾Œâ€¦\nã“ã®ã‚ˆã†ã«ãªãœã‹ ãƒªã‚¹ãƒˆè¡¨ç¤ºï¼ˆç®‡æ¡æ›¸ãï¼‰ã®è¡Œé–“ãŒç•°æ§˜ã«åºƒããªã‚Šã€æ–‡å­—ãŒæŠ˜ã‚Šè¿”ã•ã‚Œãšã¯ã¿å‡ºã¦ã„ã¾ã™ã€‚\nã¾ã•ã‹ã¨æ€ã„ã€prism.css ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã¨â€¦\nç›´ã£ãŸï¼\nã¨ã„ã†ã“ã¨ã§ã€ãªã«ã‹ã—ã‚‰ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒæ‚ªã•ã‚’ã—ã¦ã„ã‚‹æ¨¡æ§˜ã€‚\nã—ã‹ã—ã€ã“ã‚Œã¯åƒ•ãŒæ‰‹æŠœãã§ã€\n\u0026lt;pre class=\u0026quot;line-numbers\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;language-c\u0026quot;\u0026gt; ã‚³ãƒ¼ãƒ‰ \u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt; ã®ã‚³ãƒ¼ãƒ‰ã‚’ã€ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆéƒ¨åˆ†ã ã‘ã˜ã‚ƒãªãã€è¨˜äº‹å…¨ä½“ã«å¯¾ã—ã¦é©ç”¨ã—ã¦ã„ãŸãŸã‚ç™ºç”Ÿã—ã¦ã„ã¾ã—ãŸã€‚\nï¼ˆæ‰‹æŠœã„ã¦æœ¬å½“ã«ã”ã‚ã‚“ãªã•ã„ã€‚æ‚ªæ°—ã¯ãªã‹ã£ãŸã‚“ã§ã™ã€‚ï¼‰\nã—ã‹ã—ãªãŒã‚‰ã€è¨˜äº‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«é–¢ã™ã‚‹ HTML ã¯ Hugo ãŒè‡ªå‹•ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãŸã‚ã€\nä¸­èº«ã‚’ã•ã‚ã‚‹ã“ã¨ãŒã§ããªã„æ¨¡æ§˜â€¦ã€‚\nã©ã†ã—ã‚ˆã†ã¨å›°ã£ã¦ã„ã‚‹ã¨ãã«ã€ã“ã¡ã‚‰ ã®è¨˜äº‹ã‚’ç™ºè¦‹ã€‚\nã“ã‚Œã§ç”Ÿæˆã•ã‚ŒãŸ HTML å†…ã®è¦ç´ ã‚’ç½®æ›ã§ãã¾ã™ã€‚\næœ€çµ‚çš„ã«ã¯ã€ content-single.html ã‚’ä»¥ä¸‹ã®ã¨ãŠã‚Šä¿®æ­£ã—ã¾ã—ãŸã€‚\n\u0026lt;article class=\u0026quot;post\u0026quot;\u0026gt; ï½›ï½› .Render \u0026quot;header\u0026quot; ï½ï½ \u0026lt;section id=\u0026quot;social-share\u0026quot;\u0026gt; ï½›ï½› partial \u0026quot;share-buttons\u0026quot; . ï½ï½ \u0026lt;/section\u0026gt; ï½›ï½› .Render \u0026quot;featured\u0026quot; ï½ï½ \u0026lt;div class=\u0026quot;content\u0026quot;\u0026gt; ï½›ï½› .Content | replaceRE \u0026quot;\u0026lt;pre\u0026gt;\u0026quot; \u0026quot;\u0026lt;pre class=\\\u0026quot;line-numbers\\\u0026quot;\u0026gt;\u0026quot; | safeHTML ï½ï½ \u0026lt;/div\u0026gt; \u0026lt;footer\u0026gt; ï½›ï½› .Render \u0026quot;stats\u0026quot; ï½ï½ \u0026lt;/footer\u0026gt; \u0026lt;/article\u0026gt; ä¿®æ­£ã—ãŸã®ã¯ 8è¡Œç›®éƒ¨åˆ†ã§ã™ã€‚\nï½›ï½› .Content ï½ï½ ã ã‘ã ã£ãŸéƒ¨åˆ†ã‚’\nï½›ï½› .Content | replaceRE \u0026quot;\u0026lt;pre\u0026gt;\u0026quot; \u0026quot;\u0026lt;pre class=\\\u0026quot;line-numbers\\\u0026quot;\u0026gt;\u0026quot; | safeHTML ï½ï½ ã“ã†ã™ã‚‹ã“ã¨ã§ã€ ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆéƒ¨åˆ†ã ã‘ã« line-numbers ã‚’é©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nè¡Œé–“ã‚‚ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ\u0026amp;è¡Œç•ªå· ã‚‚ã„ã„å…·åˆã«è¡¨ç¤ºã§ãã¦ã„ã¾ã™ã€‚\nã¾ã¨ã‚ Prism.js ã„ã„ã§ã™ã­ï¼\nãƒ•ãƒ­ãƒ³ãƒˆã«ç–ã„åƒ•ã§ã‚‚ç°¡å˜ã«ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆå¯¾å¿œãŒã§ãã¾ã—ãŸã€‚\nãƒ•ãƒ­ãƒ³ãƒˆã®å‹‰å¼·ã‚‚ã©ã‚“ã©ã‚“ã‚„ã£ã¦ã„ãã¾ã™ã€‚\n","ref":"/blog/blog_style_fix/"},{"title":"ã€mercari.go #8ã€‘ãƒ¡ãƒ«ã‚«ãƒªã®Goã«é–¢ã™ã‚‹å‹‰å¼·ä¼šãƒ¡ãƒ¢","date":"","description":"","body":"mercari.go #8 connpassï¼š ãƒªãƒ³ã‚¯ ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼š \u0026lt;code\u0026gt;#mercarigo\u0026lt;/code\u0026gt; ç‹¬è‡ªãƒ«ãƒ¼ãƒ«ï¼š æ‡‡è¦ªä¼šã®Gãƒ«ãƒ¼ãƒ« æ‡‡è¦ªä¼šã®ã¨ãã«ç™»å£‡è€…ã‚’å›²ã‚“ã§ã‚‚ã„ã„ã‘ã©ã€è‡ªåˆ†ãŸã¡ä»¥å¤–ã«ã‚‚ã†ä¸€äººå…¥ã£ã¦ã“ã‚Œã‚‹ã‚¹ãƒšãƒ¼ã‚¹ã‚’å¸¸ã«é–‹ã‘ã¦ãŠã“ã†ã­ã£ã¦ã„ã†ãƒ«ãƒ¼ãƒ«ã€‚ã¨ã¦ã‚‚ã‚ˆã„ï¼ é›°å›²æ°— ãƒ“ãƒ¼ãƒ«ä»¥å¤–ã«ã‚‚ãŠã„ã—ãã†ãªã”é£¯ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€å†™çœŸã‚’æ’®ã‚‹ã®å¿˜ã‚Œâ€¦\nä»¥é™ã€è‡ªåˆ†ç”¨ã®ãƒ¡ãƒ¢ã‚’æ›¸ãé€£ã­ã¾ã™ã€‚\nè©³ç´°ã¯ã‚¹ãƒ©ã‚¤ãƒ‰ã®æ–¹ã‚’ã”è¦§ãã ã•ã„ã€‚\n1. Goã§å­¦ã¶Knative ç™»å£‡è€…ï¼š @toshi0607 ã•ã‚“\nã‚¹ãƒ©ã‚¤ãƒ‰ãƒªãƒ³ã‚¯ Knative Knative ï¼ æœ€æ–°ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚’ãƒ“ãƒ«ãƒ‰ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã€ç®¡ç†ã§ãã‚‹ Kubernetes ãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  AWS ã® Lmabda ã«è¿‘ã„ã“ã¨ã‚’ k8s ä¸Šã§ã§ãã‚‹ã¨è§£é‡ˆ ç™»å£‡è€…å«ã‚ã€ä¼šå ´å†…ã§ Knative ã‚’æœ¬ç•ªã«å°å…¥ã—ã¦ã„ã‚‹äººã¯ãªã—ã€‚\nã¾ã æ™‚æœŸå°šæ—©ã£ã½ã„ k8s ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æŠ½è±¡åŒ–ã—ã€ç‹¬è‡ªã®PaaS/FaaSã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒ¼ãƒ„ã‚’æä¾› k8s ä¸Šã«ã®ã£ã‹ã‚‹ã€‚ Knative ã®æ§‹æˆ Serving Build Eventing ç¾çŠ¶ã€ä¸€éƒ¨ã€Istio ã«ä¾å­˜ã—ã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã§ã€Istioã®å°å…¥ãŒå¿…è¦ä¸å¯æ¬  ç™»å£‡è€…ã¯ æ©Ÿèƒ½å®Ÿè£…ã«ä¸€å±¤é›†ä¸­ã™ã‚‹ãŸã‚ã®åŸºç›¤ ã¨ã—ã¦æ³¨ç›®ã—ã¦ã„ã‚‹ yml ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ãŸå†…å®¹ã«åŸºã¥ã„ã¦ ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ æ„Ÿæƒ³ çµ‚ç›¤ã€ Knative ã®å†…éƒ¨å‡¦ç†ã‚’ ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚° ã—ã¦ã„ãŸã®ã§ã™ãŒã€\nè¦‹å…¥ã£ã¦ã—ã¾ã„ãƒ¡ãƒ¢ã‚’å¿˜ã‚Œã¦ã„ã¾ã—ãŸã€‚ã€‚ã€‚\nKnative åˆã‚ã¦èã„ãŸã®ã§ã™ãŒã€ãŠã‚‚ã—ã‚ãã†ã ãªã¨ã„ã†æ„Ÿæƒ³ã€‚\nk8s ã®å‹‰å¼·ã—ãªã„ã¨ãªã€‚\n2. Gotham Goã¨GopherCon EUã«å‚åŠ ã—ã¦ãã¾ã—ãŸ ç™»å£‡è€…ï¼š @tenntenn\nã‚¹ãƒ©ã‚¤ãƒ‰ãƒªãƒ³ã‚¯ æŠ€è¡“ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹ã¨ã“ã‚ã«äººã¯é›†ã¾ã‚‹ ãƒ¡ãƒ«ãƒšã‚¤ ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãƒãƒ¼ãƒ  ã§ã¯ 50%ä»¥ä¸Šã®æ™‚é–“ ã‚’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®è²¢çŒ®ã«å……ã¦ã¦ã„ã‚‹ æµ·å¤–ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«å‚åŠ ã™ã‚‹ç†ç”± æœ€æ–°ã®æŠ€è¡“ã‚’çŸ¥ã‚‹ ä¸–ç•Œå„åœ°ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã®äº¤æµ Gotham Go ãƒ‹ãƒ¥ãƒ¼ãƒ¨ãƒ¼ã‚¯ã§æ¯å¹´é–‹ã‹ã‚Œã¦ã„ã‚‹ Go ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ 1ãƒˆãƒ©ãƒƒã‚¯ 200åãã‚‰ã„ãŒå‚åŠ ã™ã‚‹ï¼ˆãã‚“ãªã«å¤§è¦æ¨¡ã§ã¯ãªã„ï¼‰ ãƒãƒ³ã‚ºã‚ªãƒ³ãŒã‚ã£ãŸ ãƒ‘ãƒƒã‚¯ãƒãƒ³ï¼ˆã‚²ãƒ¼ãƒ ï¼‰ä½œã£ãŸï¼ˆgithub ï¼‰ çµµæ–‡å­—ã§å‹•ãã‚‰ã—ã„ step by step ã§åˆå¿ƒè€…ã«ãŠã™ã™ã‚ è‡ªä½œæ¥½å™¨ ã‚’ Go ã‹ã‚‰æ“ä½œã™ã‚‹ ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ãƒ—ãƒ¼ãƒ«ï¼ˆå†åˆ©ç”¨ï¼‰ã™ã‚‹æ–¹æ³• leachsync ã‚’ä½¿ã†æ–¹æ³•ãŒè‰¯ã•ãã†ã¨ã„ã†çµè«– ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ¬ãƒ™ãƒ«ã¯ æ—¥æœ¬ã® Go Conference ã¨åŒç­‰ ãŸã ã—ã€ ç¾åœ°ã« Goãƒãƒ¼ãƒ  ãŒã„ã‚‹ã®ã§ç™»å£‡è€…ãŒè±ªè¯ çªç„¶ãƒ“ãƒ³ã‚´å¤§ä¼šãŒå§‹ã¾ã£ãŸã‚Šã™ã‚‹ GopherCon EU ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ã§æ¯å¹´é–‹å‚¬ã•ã‚Œã¦ã„ã‚‹ ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ä¸­ã‹ã‚‰ Gopher ãŒé›†ã¾ã‚‹ å‚åŠ è€…ã¯200åãã‚‰ã„ 2ãƒˆãƒ©ãƒƒã‚¯ã§å¤§ãã‚ ãƒ€ã‚¤ãƒãƒ¼ã‚·ãƒ†ã‚£ã‚¹ã‚«ãƒ©ãƒ¼ã‚·ãƒƒãƒ—ãŒã‚ã‚Šã€è²»ç”¨ã®è£œåŠ©ãŒå‡ºã‚‹ï¼ˆä¸€éƒ¨ï¼‰ ãƒªãƒ¼ãƒ€ãƒ“ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ width ãŒå¤§ãã„ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ ã¨ dipth ãŒå¤§ãã„è¡ŒãéããŸæŠ½è±¡åŒ– ã©ã¡ã‚‰ã‚‚ãã‚Œãã‚Œã„ã‚„ãªã“ã¨ãŒã‚ã‚‹ã€‚ã“ã®é–“ãã‚‰ã„ãŒã„ã„ã‚ˆã­ãƒ¼ã£ã¦è©±ã€‚ GoTraceï¼š Go Routine ã‚’å¯è¦–åŒ–ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª â†’ å‚è€ƒè¨˜äº‹ãƒªãƒ³ã‚¯ IDE ã§ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€ãªã‚“ã¦ã€ æ´çªŸã§ãŸã„ã¾ã¤ã‚’ã‚‚ã£ã¦å£ç”»ã«æ›¸ã‹ã‚ŒãŸæ–‡å­—ã‚’èª­ã‚€ã‚ˆã†ãªã‚‚ã®ã€‚ å¯è¦–åŒ–ã—ã¾ã—ã‚‡ã†ï¼ ç¾åœ¨ä½¿ç”¨ã§ã¯ã€ map ã« range ã‚’ä½¿ã†ã¨ã‚­ãƒ¼ãŒãƒ©ãƒ³ãƒ€ãƒ ã«ä¸¦ã¶ ã®ã§ã€ãã‚Œã‚’ä½¿ã£ã¦LTå¤§ä¼šã®ç™ºè¡¨é †ã‚’æ±ºã‚ãŸ æ„Ÿæƒ³ ãƒ¡ãƒ«ãƒšã‚¤ ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãƒãƒ¼ãƒ  ã§ã¯ 50%ä»¥ä¸Šã®æ™‚é–“ ã‚’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®è²¢çŒ®ã«å……ã¦ã¦ã„ã‚‹ ã“ã‚Œã™ã”ããªã„ã§ã™ã‹ï¼Ÿ\nå¤šãã®ã¤ã‚ˆã¤ã‚ˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒé›†ã¾ã‚‹ã®ã‚‚ç´å¾—ã§ã™ã€‚\næµ·å¤–ã®ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®ãƒãƒªãŒãŠã‚‚ã—ã‚ãã†ã§ã—ãŸã€‚\nç™ºè¡¨ã«ã‹ã‘ã‚‹æ°—åˆãŒã™ã”ã„ç¬‘\nãœã²ã€ä¸€åº¦è¡Œã£ã¦ã¿ãŸã„ã§ã™ã€‚\n3. Go + WebAssemblyã‚’æ´»ç”¨ã™ã‚‹ ç™»å£‡è€…ï¼š @__syumai\nãƒ¡ãƒ«ãƒšã‚¤ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ Go Playground ã«ã‚¿ãƒ–ã‚’è¿½åŠ ã™ã‚‹ chromeæ‹¡å¼µã‚’ä½œã£ãŸäºº ã‚¹ãƒ©ã‚¤ãƒ‰ãƒªãƒ³ã‚¯ Go WebAssemblyï¼ˆwasm ãƒ¯ã‚ºãƒ ï¼‰ experimental ã®æ©Ÿèƒ½ 1.11 ä»¥ä¸Šã§ä½¿ç”¨å¯èƒ½ GOOS=js GOARCH=wasm ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨ .wasm ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã€JavaScript ã‹ã‚‰ä½¿ç”¨ã§ãã‚‹ â‰’ JavaScriptã‹ã‚‰Goã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ ã‚¯ãƒªãƒƒã‚¯ã®å‹•ä½œã‚’Goã§å®Ÿè£…ã—ãŸã‚Šã—ãŸ select{} ä½¿ã‚ãªã„ã¨ main é–¢æ•°ãŒçµ‚äº†ã—ã¦ JavaScriptã‹ã‚‰å‘¼ã¹ãªããªã‚‹ï¼ˆå‚è€ƒ ï¼‰ ã¤ã‚‰ã¿ GOOS=js GOARCH=wasm ã§ã—ã‹ãƒ“ãƒ«ãƒ‰ã§ããªã„ã®ã§ã€ãƒ†ã‚¹ãƒˆãŒã§ããªã„ ï¼ˆè§£æ±ºç­–ï¼‰ãƒ†ã‚¹ãƒˆã—ãŸã„éƒ¨åˆ†ã¯åˆ¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã€‚Goã§å®Ÿè£…ã™ã‚‹ã‚„ã¤ã¯ main.go ã ã‘ã«ä¾å­˜ã™ã‚‹ã‚ˆã†ã«ã—ãŸã‚‰ã„ã„ã€‚ DOMæ“ä½œã‚’Goã§ã‚„ã£ãŸï¼ˆJavaScript ãªã‚‰ã—ã‚…ã£ã¨æ›¸ã‘ã‚‹ã®ã«â€¦ï¼‰ ï¼ˆè§£æ±ºç­–ï¼‰ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯éƒ¨åˆ†ã ã‘ã‚’Goã§å®Ÿè£…ã™ã‚‹ã‚ˆã†ã«ã—ãªã„ã¨ã¤ã‚‰ã„ DOMæ“ä½œã¯ç´ ç›´ã« JavaScript ã«ãŠä»»ã›ã—ãŸæ–¹ãŒã„ã„ æ„Ÿæƒ³ JavaScriptã‹ã‚‰Goã§å®Ÿè£…ã—ãŸæ©Ÿèƒ½ã‚’ä½¿ãˆã‚‹ã®ã¯ã„ã‚ã„ã‚ã¨ä¾¿åˆ©ãã†ã€‚\n4. E2E Testing with \u0026lsquo;main\u0026rsquo; function ç™»å£‡è€…ï¼š @yuki.ito\nã‚µãƒ³ãƒ—ãƒ«ãƒªãƒã‚¸ãƒˆãƒªï¼š https://github.com/110y/go-e2e-example æ™®é€šã«ãƒ†ã‚¹ãƒˆã—ã‚ˆã†ã¨ã™ã‚‹ã¨ main é–¢æ•° ãŒã‚«ãƒãƒ¬ãƒƒã‚¸ã«å«ã¾ã‚Œãªã„ã‹ã‚‰ã€å«ã¾ã‚Œã‚‹ã‚ˆã†ã«åŠªåŠ›ã™ã‚‹è©± e2e ã§ TestMain ã‚’èµ·å‹•ã—ã€go test . ã§ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚’goroutineã§èµ·å‹• Mainã§èµ·å‹•ã•ã‚ŒãŸã‚µãƒ¼ãƒã«å¯¾ã—ã¦ TestMainã‹ã‚‰æ¥ç¶šã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹ TestMainã§ç”Ÿæˆã—ãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å€‹ã€…ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã€‚ mainã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚‚å–ã‚Œã‚‹ã€‚ æ„Ÿæƒ³ ã“ã†ã„ã†å·¥å¤«ã—ã¦å•é¡Œè§£æ±ºã™ã‚‹è©±å¤§å¥½ãã§ã™ã€‚\nãã®æ‰‹ãŒã‚ã£ãŸã‹ã€‚ã¨ãŸã ãŸã èª¬æ˜ã‚’èãå…¥ã£ã¦ã¾ã—ãŸã€‚\nå…¨ä½“ã¾ã¨ã‚ ãƒ¡ãƒ«ã‚«ãƒªç¤¾ã®æŠ€è¡“åŠ›ã®é«˜ã•ãŒã¨ã¦ã‚‚åˆ†ã‹ã‚‹å‹‰å¼·ä¼šã§ã—ãŸã€‚\nä¸­ã®äººãŸã¡ãŒç©æ¥µçš„ã«å¤–ã«å‡ºã¦ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã‚’ã—ã¦ã„ã‚‹å§¿è¦‹ç¿’ã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸå‚åŠ ã—ãŸã„ãªãƒ¼\n","ref":"/blog/mercari_go/"},{"title":"ã€Go + ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ã€‘DDDã‚’æ„è­˜ã—ã¦Web APIã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹","date":"","description":"2019/10/30 ã«å†…å®¹ã‚’ä¸€éƒ¨æ›´æ–°ã—ã¾ã—ãŸ","body":"æ›´æ–°ï¼ˆ2019å¹´10æœˆ30æ—¥ï¼‰ åˆå›æŠ•ç¨¿ã‹ã‚‰3ãƒ¶æœˆçµŒã¡ã¾ã—ãŸã€‚\nã“ã®3ãƒ¶æœˆã§æ–°ã—ãå¾—ãŸçŸ¥è¦‹ã‚’åŸºã«ã€å†…å®¹ã‚’ä¸€éƒ¨ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã—ãŸã€‚\nä»Šå›ã‚„ã‚‹ã“ã¨ Goã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«ã¤ã„ã¦ã„ã‚ã„ã‚ã¨èª¿ã¹ã‚‹ä¸­ã§ã€\nã“ã¡ã‚‰ã®è³‡æ–™ ãŒã¨ã¦ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã‹ã£ãŸã®ã§ã€\nä»Šå›ã¯ã“ã¡ã‚‰ã‚’å‚è€ƒã«Goã§Web APIã‚’ä½œã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nåŠ ãˆã¦ã€æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€DDD ã¨ ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ ã‚’å–ã‚Šå…¥ã‚Œã¾ã™ã€‚\nï¼ˆå†…å®¹ã¯ã»ã¼ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒâ€¦ï¼‰\nDDD ã«ã¤ã„ã¦ã¯ã€ã€ŒDDD ã‚’ Go ã¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã‚„ã‚‹ãªã‚‰ã€ã“ã‚“ãªæ„Ÿã˜ã‹ãªï¼Ÿã€ã¨ã„ã†å€‹äººã®è¦‹è§£ãƒ¬ãƒ™ãƒ«ã§ã™ã€‚\nãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\nï¼ˆã§ã™ã®ã§ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã¯é‡åº¦ã®ãƒ‰ãƒ¡ã‚¤ãƒ³è²§è¡€ç—‡ã«é™¥ã£ã¦ã„ã¾ã™ï½—ï¼‰\né‡£ã‚Šã‚¿ã‚¤ãƒˆãƒ«ã¿ãŸã„ã«ãªã£ã¡ã‚ƒã£ã¦ã¦ã™ã¿ã¾ã›ã‚“ğŸ§â€â™€ï¸\nç’°å¢ƒ MacOS Mojave 10.14.6 Go 1.12.5 ãªãŠã€ä»Šå›ã¯ã€Gin ã‚„ Mux ãªã©ã¨ã„ã£ãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ä½¿ã‚ãšã€\nhttprouter ã®ã¿ã§è–„ãä½œã£ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nMux ã‚’ä½¿ã£ãŸå®Ÿè£…ã¯ åƒ•ã®å‰ã®ãƒ–ãƒ­ã‚°ã§ç´¹ä»‹ã—ã¦ã„ã‚‹ ã®ã§ã‚ˆã‘ã‚Œã°ã©ã†ãã€‚\nãƒ» ãƒ»\nãƒ»\nã§ã¯ã€æ—©é€Ÿæœ¬é¡Œã«å…¥ã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\næ¡ç”¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼šãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ å‚è€ƒè¨˜äº‹å†… ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã®ã¯ ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ã‚’ãƒ™ãƒ¼ã‚¹ã« ã„ã‚ã„ã‚ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸã‚‚ã®ã‚‰ã—ã„ã§ã™ã€‚\nã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ä¼¼ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã ã¨ã‹ã€‚\nãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ã¨ã„ã†å‘¼ã³æ–¹ã¯ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç”±æ¥ã§ã™ã­ã€‚\nDDD ã®æ–‡è„ˆã ã¨ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ ã¨å‘¼ã°ã‚Œã¾ã™ãŒã€\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã£ã¦æ„å‘³ãŒåºƒãã¦åˆ†ã‹ã‚Šã¥ã‚‰ã„ã®ã§ã€\næœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ ã¨ã„ã†å˜èªã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\nã¨ã‚Šã‚ãˆãšã€ä»Šå›ã¯ã‚¹ãƒ©ã‚¤ãƒ‰ãƒšãƒ¼ã‚¸19ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«å¾“ã£ã¦ã€ DDD ã‚’æ„è­˜ã—ã¦ Web API ã‚’å®Ÿè£…ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nï¼ˆæ„è­˜ã ã‘ã—ã¦ã€å®Ÿè·µã§ããšã«çµ‚ã‚ã‚Šã¾ã—ãŸãŒğŸ˜‡ï¼‰\nãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ã«ãŠã‘ã‚‹å„å±¤ã®ä¾å­˜é–¢ä¿‚ ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚\nä¾å­˜é–¢ä¿‚ã®å›³ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚\nçŸ¢å°ã¯ä¾å­˜ã®æ–¹å‘ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚\nä¾‹ãˆã°ã€ä¸Šå›³ã ã¨ Handlerå±¤ ã¯ UseCaseå±¤ ã®å‡¦ç†ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚\nä¸€èˆ¬çš„ãªãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã ã¨ã€ä¸Šã‹ã‚‰ä¸‹ã«ä¸€æ–¹å‘ã«ä¾å­˜ã—ã¾ã™ã€‚\nã—ã‹ã—ã€ä»Šå›ã¯ã€Infraå±¤ãŒ Domainå±¤ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚\nã“ã®ã‚ãŸã‚Šã¯ã‚ªãƒ‹ã‚ªãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ã‚„ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨åŒã˜ã‚„ã‚Šæ–¹ã§ã™ã­ã€‚\nã•ãã»ã©ã®å›³ã‚’è¦–ç‚¹ã‚’å¤‰ãˆã¦è¦‹ã¦ã¿ã¾ã™ã€‚ï¼ˆä¸‹è¨˜ã®å›³ï¼‰\nä»Šå›æ¡ç”¨ã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã€\nã‚ªãƒ‹ã‚ªãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ã‚„ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ã‚ˆã†ã«ã€\nä¾å­˜ãŒä¸­å¿ƒæ–¹å‘ã« ã®ã¿ å‘ã„ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\nã™ã¹ã¦ã®ä¾å­˜ãŒä¸­å¿ƒã«å‘ã‹ã£ã¦ã„ã‚‹ã“ã®çŠ¶æ…‹ãŒç†æƒ³ã§ã™ã€‚\nï¼ˆHandlerå±¤ã¨ Infraå±¤ãŒä¸€ç·’ã®å±¤ã¿ãŸã„ã«ãªã£ã¦ã„ã¾ã™ãŒã€å…¨ãã®åˆ¥ç‰©ã§ã™ã€‚ã†ã¾ãåˆ†é›¢ã—ã¦æã‘ãšã€ã“ã†ãªã‚Šã¾ã—ãŸã€‚ã”æ³¨æ„ã‚’ï¼‰\nä¾å­˜é–¢ä¿‚ã«ã¤ã„ã¦ã€ã‚‚ã†å°‘ã—è¿°ã¹ã¦ãŠãã¨ã€\nåŸºæœ¬çš„ã«ä¾å­˜ã¯ã²ã¨ã¤ä¸‹ã®å±¤ã¾ã§ã«æŠ‘ãˆã¦ãŠãã¹ãã®ã‚ˆã†ã§ã™ã€‚\nãŸã ã—ã€ç°¡ç•¥åŒ–ã®ãŸã‚ã«2ã¤ä¸‹ã®å±¤ã¾ã§ä¾å­˜ã—ã¦ã„ã‚‹ä¾‹ã‚‚ã‚ã‚‹ã®ã§ã€\nãã“ã¯ãƒãƒ¼ãƒ ã¨ã—ã¦åŒæ„ãŒå–ã‚Œã¦ã„ã‚Œã°è‰¯ã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\nã“ã“ã§ã€ãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ ãŒã‚ã£ãŸå ´åˆã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚\nãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ Handler ã§å—ã‘å–ã‚‰ã‚Œã€ UseCase ã‚’ä½¿ã£ã¦å‡¦ç†ãŒè¡Œã‚ã‚Œã¾ã™ã€‚\nã•ã‚‰ã«ã€UseCase ã¯ Domain ã‚’ä½¿ã£ã¦å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚\nã“ã“ã¾ã§ã¯å‡¦ç†ãŒä¸­å¿ƒã«é€²ã‚“ã§ã„ã‚‹ã€ã¤ã¾ã‚Šä¾å­˜ã¯ä¸­å¿ƒã«å‘ã‹ã£ã¦ç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚\nã—ã‹ã—ã€ãŸã„ã¦ã„ã®ã‚µãƒ¼ãƒ“ã‚¹ã£ã¦ DB ã‚’ä½¿ç”¨ã—ã¾ã™ã‚ˆã­ã€‚\nã¤ã¾ã‚Šã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä»‹ã—ã¦ã€Infra ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nUseCase â†’ Domain â†’ Infra\nâ€¦ä¾å­˜ãŒå¤–å´ã‚’å‘ã„ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\nã“ã‚Œã¯è¨±ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã§ã¯ã©ã†ã™ã‚‹ã‹ã€‚\nä¾å­˜æ€§é€†è»¢ã®æ³•å‰‡ ã‚’ä½¿ã„ã¾ã™ã€‚\nä¾å­˜æ€§é€†è»¢ã®æ³•å‰‡ ã¨ã¯ã€ interfaceã‚’åˆ©ç”¨ã—ã¦ã€ä¾å­˜ã®æ–¹å‘ã‚’é€†ã«ã™ã‚‹ã“ã¨ ã§ã™ã€‚\nã‚‚ã†å°‘ã—è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚\nã¾ãšã€ â‘  Domainå±¤ ã«ãŠã„ã¦ã€ DB ã¨ã®ã‚„ã‚Šã¨ã‚Šã‚’ interface ã§å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚\ninterface ï¼ˆå¾Œã»ã©ã‚³ãƒ¼ãƒ‰å†…ã«ã¦ BookRepository ã¨ã—ã¦å‡ºã¦ãã¾ã™ï¼‰ è‡ªä½“ã¯å®Ÿè£…ã‚’æŒãŸãªã„ã®ã§ã€\nã©ã“ã«ã‚‚ä¾å­˜ã—ã¦ã„ã¾ã›ã‚“ã€‚\næ¬¡ã«ã€ â‘¡ Infraå±¤ ã‹ã‚‰ Domainå±¤ ã«å®šç¾©ã—ãŸ interface ï¼ˆå¾Œã»ã©ã‚³ãƒ¼ãƒ‰å†…ã«ã¦ BookPersistence ã¨ã—ã¦å‡ºã¦ãã¾ã™ï¼‰ ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\nâ‘ , â‘¡ ã®2ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¸ã‚€ã“ã¨ã§ã€ã¾ãš Domain ã¯ interface ã«å¯¾ã—ã¦ å‡¦ç†ã‚’ãŠé¡˜ã„ã™ã‚‹ã ã‘ã§ã‚ˆããªã‚Šã¾ã™ã€‚ å…ˆã»ã©ã‚‚è¨€ã£ãŸã¨ãŠã‚Š interface ã¯ å®Ÿè£…ã‚’æŒãŸãªã„ã®ã§ä¾å­˜é–¢ä¿‚ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\ninterface è‡ªä½“ã¯å®Ÿè£…ã‚’æŒã¡ã¾ã›ã‚“ãŒã€\nInfra ãŒ interface ã®å®Ÿè£…ã‚’è¡Œã£ã¦ã„ã‚‹ã®ã§ã€ã¡ã‚ƒã‚“ã¨DBã‚¢ã‚¯ã‚»ã‚¹ã—ã¦å‡¦ç†ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã“ã§ã€ Infra ã¯ interface ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã®ã§ã€ä¾å­˜ãŒ interface ã€ã™ãªã‚ã¡ Domain ã«å‘ã„ã¦ã„ã¾ã™ã€‚\nä¾å­˜æ€§ãŒé€†è»¢ã—ã€ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ãŒä¸­å¿ƒã«å‘ã‹ã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã­ã€‚\nã“ã“ã¯ã¨ã£ã¤ãã¥ã‚‰ã„ã¨ã“ã‚ãªã®ã§ã€ã¾ã ã„ã¾ã„ã¡ç†è§£ã§ããªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nä»¥é™ã€å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã‚’ç´¹ä»‹ã—ã¦ã„ãã®ã§ã€ã‚³ãƒ¼ãƒ‰ã«è½ã¨ã—è¾¼ã¿ãªãŒã‚‰è€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚\nå®Œæˆç‰© å®Œæˆç‰©ã«é–¢ã—ã¦ã¯ ã“ã¡ã‚‰ ã«ç½®ã„ã¦ãŠãã¾ã™ã€‚\nAPI ä¸€è¦§ æ›¸ç±ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  ã® API ã‚’æƒ³å®š\næ›¸ç±ä¸€è¦§ å–å¾— æ›¸ç±è©³ç´° å–å¾— æ›¸ç± è¿½åŠ  æ›¸ç± è²¸å‡º æ›¸ç± è¿”å´ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\napi-server-with-go-kit-and-ddd â”œâ”€â”€ cmd â”‚Â â””â”€â”€ api â”‚Â â””â”€â”€ main.go // ã‚µãƒ¼ãƒèµ·å‹•ã—ãŸã‚Šã€ä¾å­˜æ³¨å…¥ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¡Œã† â”œâ”€â”€ domain â”‚Â â””â”€â”€ blog.go â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â”œâ”€â”€ handler â”‚Â â””â”€â”€ rest // RESTful API ç”¨ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ â”‚ â””â”€â”€ blog.go â”œâ”€â”€ infra â”‚Â â””â”€â”€ blog.go â””â”€â”€ usecase â””â”€â”€ blog.go æ›¸ç±ä¸€è¦§ã‚’å–å¾—ã™ã‚‹APIã‚’ä½œã‚‹ Domain å±¤ ã¾ãšã¯ã€/domain/model ã«æ›¸ç±ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚\nDomainå±¤ ã¯ã‚·ã‚¹ãƒ†ãƒ ãŒæ‰±ã†æ¥­å‹™é ˜åŸŸã«é–¢ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ç½®ãã¨ã“ã‚ã§ã™ã€‚\nã‚ˆã£ã¦ã€ã€Œæ›¸ç±ã€ ãŒã©ã†ã„ã†ã‚‚ã®ãªã®ã‹ãƒ¢ãƒ‡ãƒ«ã¨ã„ã†å½¢ã§å®šç¾©ã—ã¾ã™ã€‚\n/domain/model/book.go\npackage model import \u0026quot;time\u0026quot; // Book : Book ã‚’è¡¨ã™ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« // !! é‡åº¦ã®ãƒ‰ãƒ¡ã‚¤ãƒ³è²§è¡€ç—‡ã§ã™ !! type Book struct { Id int64 Title string Author string IssuedAt time.Time } å†’é ­ã§ã‚‚è¿°ã¹ãŸã¨ãŠã‚Šã€ã¿ã”ã¨ãªãƒ‰ãƒ¡ã‚¤ãƒ³è²§è¡€ç—‡ã£ã·ã‚Šã§ã™ã€‚\nã¡ã‚ƒã‚“ã¨ å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ã£ãŸã‚Šã—ã¦ã€ã”ã‚Šã”ã‚Š DDD ã—ã¦ã„ããŸã„ã§ã™ãŒã€ä»Šå›ã¯â€¦çœãã¾ã™ğŸ™‡â€â™‚ï¸\næ¬¡ã«ã€/domain/repository/book.go ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚\nä»Šå›ã€ ãƒªãƒã‚¸ãƒˆãƒªã§ã‚„ã‚‹ã“ã¨ã‚’ç°¡å˜ã«è¨€ã†ã¨ã€ DB ã‚„ KVS ãªã©ã§è¡Œã† CRUDå‡¦ç† ã®å®šç¾©ã§ã™ã€‚\nãŸã ã—ã€Domainå±¤ã«ã¯æŠ€è¡“çš„é–¢å¿ƒäº‹ã‚’æŒã¡è¾¼ã¾ãªã„ ã¨ã„ã†ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹ãŸã‚ã€\nã“ã“ã§ã¯ interface ã‚’å®šç¾©ã™ã‚‹ã ã‘ã§ã™ã€‚\nå®Ÿè£…ã¯ã€å¾Œè¿°ã™ã‚‹ infra ã§è¡Œã„ã¾ã™ã€‚\nï¼ˆInfraå±¤ ã¯æŠ€è¡“çš„é–¢å¿ƒäº‹ã‚’æ‰±ã†å±¤ã§ã™ï¼‰\nãƒªãƒã‚¸ãƒˆãƒªã«ã¤ã„ã¦ã¡ã‚ƒã‚“ã¨çŸ¥ã‚ŠãŸã„æ–¹ã¯ã€\nã“ã¡ã‚‰ ãŒå‚è€ƒã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚\n/domain/repository/book.go\npackage repository import ( \u0026quot;context\u0026quot; \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/domain/model\u0026quot; ) // BookRepository : Book ã«ãŠã‘ã‚‹ Repository ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ // -\u0026gt; ä¾å­˜æ€§é€†è»¢ã®æ³•å‰‡ã«ã‚ˆã‚Š infra å±¤ã¯ domain å±¤ï¼ˆæœ¬ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰ã«ä¾å­˜ type BookRepository interface { GetAll(context.Context) ([]*model.Book, error) } ä»Šã¯ å…¨ã¦ã®æ›¸ç±ã‚’å–å¾—ã™ã‚‹é–¢æ•° GetAll() ã®ã¿å®šç¾©ã—ã¾ã™ã€‚\nã“ã“ã§ã€ã¯ã˜ã‚ã«ç¤ºã—ãŸ ä¾å­˜é–¢ä¿‚ã®å›³ ã‚’æ€ã„å‡ºã—ã¦ãã ã•ã„ã€‚\nä»Šå®šç¾©ã—ãŸ Domainå±¤ ã¯ä»–ã®å±¤ã®ã‚³ãƒ¼ãƒ‰ã‚’ä¸€åˆ‡åˆ©ç”¨ã—ã¦ã„ã¾ã›ã‚“ã€‚\nã¤ã¾ã‚Šã€ä¸‹å›³ã®èµ¤æ ã®ä¸­ã§ä¾å­˜é–¢ä¿‚ãŒå®Œçµã—ã¦ã„ã¾ã™ã€‚\nInfra å±¤ ã•ãã»ã©è¿°ã¹ãŸã¨ãŠã‚Šã€Infraå±¤ ã¯æŠ€è¡“çš„é–¢å¿ƒäº‹ã‚’æ‰±ã†å±¤ã§ã™ã€‚\nã“ã“ã§ã•ã£ãå®šç¾©ã—ãŸ repository ã®å‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\n/infra/persistence/book.go\npackage persistence // repository ã¨ã„ã†åå‰ã«ã—ãŸã„ãŒ domain é…ä¸‹ã® repository ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åãŒè¢«ã£ã¦ã—ã¾ã†ãŸã‚ persistence ã§ä»£æ›¿ import ( \u0026quot;context\u0026quot; \u0026quot;time\u0026quot; \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/domain/model\u0026quot; \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/domain/repository\u0026quot; ) type bookPersistence struct{} // NewBookPersistence : Book ãƒ‡ãƒ¼ã‚¿ã«é–¢ã™ã‚‹ Persistence ã‚’ç”Ÿæˆ func NewBookPersistence() repository.BookRepository { return \u0026amp;bookPersistence{} } // GetAll : DB ã‹ã‚‰ Book ãƒ‡ãƒ¼ã‚¿ã‚’å…¨ä»¶å–å¾—ï¼ˆBookRepository ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã® GetAll() ã‚’å®Ÿè£…ã—ãŸã‚‚ã®ï¼‰ // -\u0026gt; æœ¬æ¥ã¯ DB ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŒã€ç°¡ç•¥åŒ–ã®ãŸã‚ã«çœç•¥ï¼ˆãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’è¿”å´ï¼‰ func (bp bookPersistence) GetAll(context.Context) ([]*model.Book, error) { book1 := model.Book{} book1.Id = 1 book1.Title = \u0026quot;DDDãŒåˆ†ã‹ã‚‹æœ¬\u0026quot; book1.Author = \u0026quot;ãŸã‚ã†ãã‚“\u0026quot; book1.IssuedAt = time.Now().Add(-24 * time.Hour) book2 := model.Book{} book2.Id = 2 book2.Title = \u0026quot;ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒåˆ†ã‹ã‚‹æœ¬\u0026quot; book2.Author = \u0026quot;ã¯ãªã“ã•ã‚“\u0026quot; book2.IssuedAt = time.Now().Add(-24 * 7 * time.Hour) return []*model.Book{\u0026amp;book1, \u0026amp;book2}, nil } ãªãŠã€ å®Ÿéš›ã«ã¯ DB ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ãƒ‡ãƒ¼ã‚¿ã‚’æŒã£ã¦ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nã“ã“ã§ã¯ä¸€æ—¦ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚\nã¾ãŸã€Persistence ã¨ã„ã†å˜èªãŒã„ããªã‚Šå‡ºã¦ãã¾ã—ãŸãŒã€ã“ã‚Œã¯ Repository ã¨åŒç¾©ã§ã™ã€‚\nå®Ÿéš›ã« NewBookPersistence() ã®ä¸­èº«ã‚’è¦‹ã‚‹ã¨ Repository ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’è¿”ã—ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nï¼ˆNewBookPersistence()ã®è©³ç´°ã¯å¾Œè¿°ï¼‰\næœ¬å½“ã¯ Repositoryã¨ã„ã†åå‰ã‚’ä½¿ã„ãŸã‹ã£ãŸã®ã§ã™ãŒã€\nDomainå±¤ã¨ Infraå±¤ ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åãŒè¢«ã£ã¦ã—ã¾ã†ãŸã‚ã€ã‚„ã‚€ãªãã“ã†ã—ã¦ã„ã¾ã™ã€‚\nå…ˆã»ã©ã¨åŒæ§˜ã« ä¾å­˜é–¢ä¿‚ ã‚’ç¢ºèªã—ã¾ã™ã€‚\nInfraå±¤ ã¯ Domainå±¤ ã§ä½œã£ãŸ /domain/repository/book.go ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆBookRepositoryï¼‰ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚\nã“ã“ã§ã€Goã«æ…£ã‚Œã¦ã„ãªã„æ–¹ã¯ã€ã©ã“ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨é–¢é€£ã¥ã‘ã¦ã‚‹ã®ï¼Ÿ\nã¨ã„ã†ç–‘å•ãŒç”Ÿã¾ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚\nç­”ãˆã¯ã€ NewBookPersistence() ã§ã™ã€‚\nã“ã®é–¢æ•°ã®æˆ»ã‚Šå€¤ã¯ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ ã§ã™ã€‚\nã—ãŸãŒã£ã¦ã€17è¡Œç›®ã§returnã™ã‚‹ bookPersistence ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã—ã¦ã„ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚\nã“ã®ã‚ˆã†ã«ã—ã¦ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã—ã¦ã„ã‚‹ã‹å¦ã‹ã‚’åˆ¤åˆ¥ã—ã¾ã™ã€‚\nNewBookPersistence() ã‚’ã©ã“ã§ä½¿ã†ã‹ã¯å¾Œè¿°ã—ã¾ã™ã€‚\nã§ã¯ã€ä¾å­˜é–¢ä¿‚ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚\nä¸Šè¿°ã—ãŸã¨ãŠã‚Šã€Infraå±¤ ã¯ Domainå±¤ ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã™ã‚ˆã†ã«ä½œã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€Domainå±¤ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚\nGoã«ã¯ implements ã¨ã‹ãªã„ã®ã§åˆ†ã‹ã‚Šã¥ã‚‰ã„ã§ã™ã­ã€‚\nã§ã‚‚ã€ç¢ºã‹ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚\nUseCase å±¤ UseCaseå±¤ ã§ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’æº€ãŸã™å‡¦ç†ã®æµã‚Œã‚’å®Ÿè£…ã—ã¾ã™ã€‚\nä»Šå›ã¯å˜ç´”ãªå‡¦ç†ã—ã‹ã—ãªã„ã®ã§ã€ã“ã®å±¤ã®å­˜åœ¨ä¾¡å€¤ãŒå°‘ã—åˆ†ã‹ã‚Šã¥ã‚‰ããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nè¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒã‚ã‚‹ã¨ãã¯ã€ã“ã®å±¤ã®å­˜åœ¨ãŒåŠ¹ã„ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n/usecase/book.go\npackage usecase import ( \u0026quot;context\u0026quot; \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/domain/model\u0026quot; \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/domain/repository\u0026quot; ) // BookUseCase : Book ã«ãŠã‘ã‚‹ UseCase ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ type BookUseCase interface { GetAll(context.Context) ([]*model.Book, error) } type bookUseCase struct { bookRepository repository.BookRepository } // NewBookUseCase : Book ãƒ‡ãƒ¼ã‚¿ã«é–¢ã™ã‚‹ UseCase ã‚’ç”Ÿæˆ func NewBookUseCase(br repository.BookRepository) BookUseCase { return \u0026amp;bookUseCase{ bookRepository: br, } } // GetAll : Book ãƒ‡ãƒ¼ã‚¿ã‚’å…¨ä»¶å–å¾—ã™ã‚‹ãŸã‚ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ // -\u0026gt; æœ¬ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã‚ã¾ã‚Šãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ã®æ©æµã‚’å—ã‘ã‚Œãªã„ãŒã€ã‚‚ã†å°‘ã—å¤§ããªã‚·ã‚¹ãƒ†ãƒ ã«ãªã£ã¦ãã‚‹ã¨ã€ // ã€Œãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®èª¿ç¯€è€…ã€ã¨ã—ã¦ã®å½¹å‰²ãŒè¦‹ãˆã¦ãã‚‹ func (bu bookUseCase) GetAll(ctx context.Context) (books []*model.Book, err error) { // Persistenceï¼ˆRepositoryï¼‰ã‚’å‘¼å‡º books, err = bu.bookRepository.GetAll(ctx) if err != nil { return nil, err } return books, nil } UseCaseå±¤ ã®ä¾å­˜é–¢ä¿‚ã‚‚è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nUseCaseå±¤ ã¯ /domain/repository ã‚’å‘¼ã³å‡ºã—ã¦ã„ã¾ã™ã€‚\nã—ãŸãŒã£ã¦ã€ UseCaseå±¤ ã¯ Domainå±¤ ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚\nå‚è€ƒã«ã—ã¦ã„ã‚‹è³‡æ–™ ã§ã¯ã€\nUseCaseå±¤ ã‚’ã•ã‚‰ã« input ã¨ output ã§åˆ‡ã£ã¦ã„ã¾ã™ãŒã€è¤‡é›‘ã«ãªã‚Šã™ãã‚‹ã¨æ€ã„ã€çœç•¥ã—ã¾ã—ãŸã€‚\nHandler å±¤ æ¬¡ã« Handlerå±¤ ã§ã™ã€‚\næœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹ã€Handlerå±¤ ã®å½¹ç›®ã¯ã€HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€UseCase ã‚’ä½¿ã£ã¦å‡¦ç†ã‚’è¡Œã„ã€çµæœã‚’è¿”ã™ ã“ã¨ã§ã™ã€‚\nãŸã ã—ã€æœ¬æ¥ã® Handlerå±¤ã¯ HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã«é™ã£ãŸè©±ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nå¤–éƒ¨ã«ã‚ã‚‹ã‚‚ã®ãŒãªã‚“ã§ã‚ã‚Œã€ãã®å·®ç•°ã‚’å¸åã—ã¦ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ä¼ãˆã‚‹ã®ãŒå½¹ç›®ã§ã™ã€‚\nã—ãŸãŒã£ã¦ã€HTTPé€šä¿¡ä»¥å¤–ã§ã‚‚å¯¾å¿œã§ãã‚‹ã‚ˆã†ã«ã€æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ /handler/rest ã¨ã„ã†ãµã†ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ‡ã£ã¦ã„ã¾ã™ã€‚\nï¼ˆRESTful API ã§ã‚ã‚‹ã“ã¨ã‚’æ˜ç¢ºã«ã—ã¦ã¿ã¾ã—ãŸï¼‰\nCLIã‚’è¿½åŠ ã™ã‚‹ãªã‚‰ /handler/cli ã¨ã„ã†ãµã†ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ‡ã‚Œã°OKã€‚\næœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‰çš„ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n/handler/blog.go\npackage rest // Handler å±¤ã‚’å¤‰ãˆã‚‹ã ã‘ã§ã€ä¾‹ãˆã° CLI ã«ã‚‚ç°¡å˜ã«å¯¾å¿œå¯èƒ½ import ( \u0026quot;encoding/json\u0026quot; \u0026quot;net/http\u0026quot; \u0026quot;time\u0026quot; \u0026quot;github.com/julienschmidt/httprouter\u0026quot; \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/usecase\u0026quot; ) // BookHandler : Book ã«ãŠã‘ã‚‹ Handler ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ type BookHandler interface { Index(http.ResponseWriter, *http.Request, httprouter.Params) } type bookHandler struct { bookUseCase usecase.BookUseCase } // NewBookUseCase : Book ãƒ‡ãƒ¼ã‚¿ã«é–¢ã™ã‚‹ Handler ã‚’ç”Ÿæˆ func NewBookHandler(bu usecase.BookUseCase) BookHandler { return \u0026amp;bookHandler{ bookUseCase: bu, } } // BookIndex : GET /books -\u0026gt; Book ãƒ‡ãƒ¼ã‚¿ä¸€è¦§ã‚’è¿”ã™ func (bh bookHandler) Index(w http.ResponseWriter, r *http.Request, pr httprouter.Params) { // request : æœ¬ API ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ // -\u0026gt; ã“ã‚“ãªæ„Ÿã˜ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚‚å—ã‘å–ã‚Œã¾ã™ãŒã€ä»Šå›ã¯ä½¿ã„ã¾ã›ã‚“ type request struct { Begin uint `query:\u0026quot;begin\u0026quot;` Limit uint `query:\u0026quot;limit\u0026quot;` } // bookField : response å†…ã§ä½¿ç”¨ã™ã‚‹ Book ã‚’è¡¨ã™æ§‹é€ ä½“ // -\u0026gt; ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã® Book ã« HTTP ã®é–¢å¿ƒäº‹ã§ã‚ã‚‹ JSON ã‚¿ã‚°ã‚’ä»˜ä¸ã—ãŸããªã„ãŸã‚ã« Handler å±¤ã§ç”¨æ„ // ç°¡ç•¥åŒ–ã®ãŸã‚ã« JSON ã‚¿ã‚°ã‚’ä»˜ä¸ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’æµç”¨ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚‚ã—ã°ã—ã°è¦‹ã‹ã‘ã‚‹ type bookField struct { Id int64 `json:\u0026quot;id\u0026quot;` Title string `json:\u0026quot;title\u0026quot;` Author string `json:\u0026quot;author\u0026quot;` IssuedAt time.Time `json:\u0026quot;issued_at\u0026quot;` } // response : æœ¬ API ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ type response struct { Books []bookField `json:\u0026quot;books\u0026quot;` } ctx := r.Context() // ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å‘¼å‡º books, err := bh.bookUseCase.GetAll(ctx) if err != nil { // TODO: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ãã¡ã‚“ã¨ã™ã‚‹ http.Error(w, \u0026quot;Internal Server Error\u0026quot;, 500) return } // å–å¾—ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’ response ã«å¤‰æ› res := new(response) for _, book := range books { var bf bookField bf = bookField(*book) res.Books = append(res.Books, bf) } // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”å´ w.Header().Set(\u0026quot;Content-Type\u0026quot;, \u0026quot;application/json\u0026quot;) if err = json.NewEncoder(w).Encode(res); err != nil { // TODO: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ãã¡ã‚“ã¨ã™ã‚‹ http.Error(w, \u0026quot;Internal Server Error\u0026quot;, 500) return } } ä¾å­˜é–¢ä¿‚ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚\n57è¡Œç›®ã§ UseCase ã‚’ä½¿ç”¨ã™ã‚‹ã®ã§ã€UseCaseå±¤ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚\nmain.go ã“ã“ã¾ã§ã§ã€æ›¸ç±ã«é–¢ã™ã‚‹ Handler, UseCase, Repository ãŒç”¨æ„ã§ãã¾ã—ãŸã€‚\næœ€å¾Œã«ã€main.go ã«ã¦ã€ã“ã‚Œã‚‰ã®ä¾å­˜é–¢ä¿‚ã‚’å®šç¾©ã—ã¦ã‚„ã‚‹ã“ã¨ã§ã€åˆ©ç”¨å¯èƒ½ãªçŠ¶æ…‹ã«ã—ã¾ã™ã€‚\nï¼ˆDI ã¨ã‹ã¯ã‚„ã£ã¦ã¾ã›ã‚“ğŸ™ï¼‰\nã“ã®ã¨ãåˆ©ç”¨ã™ã‚‹ã®ãŒã€å„å±¤ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ NewXxx() ã¨ã„ã†é–¢æ•°ã§ã™ã€‚\nNewXxx() ã‚’ä½¿ç”¨ã—ã¦ã€Handler ã‚„ UseCase, Repository ã‚’ç”Ÿæˆã—ã€ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n/cmd/api/main.go\npackage main import ( \u0026quot;fmt\u0026quot; \u0026quot;log\u0026quot; \u0026quot;net/http\u0026quot; \u0026quot;github.com/julienschmidt/httprouter\u0026quot; handler \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/handler/rest\u0026quot; \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/infra/persistence\u0026quot; \u0026quot;github.com/yyh-gl/go-api-server-by-ddd/usecase\u0026quot; ) func main() { // ä¾å­˜é–¢ä¿‚ã‚’æ³¨å…¥ï¼ˆDI ã¾ã§ã¯ã„ãã¾ã›ã‚“ãŒä¸€å¿œæ³¨å…¥ã£ã½ã„ã“ã¨ã‚’ã—ã¦ã‚‹ï¼‰ // DI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ãˆã°ã€ã‚‚ã£ã¨ã‚¹ãƒãƒ¼ãƒˆã«ãªã‚‹ã¯ãš bookPersistence := persistence.NewBookPersistence() bookUseCase := usecase.NewBookUseCase(bookPersistence) bookHandler := handler.NewBookHandler(bookUseCase) // ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¨­å®š router := httprouter.New() router.GET(\u0026quot;/api/v1/books\u0026quot;, bookHandler.Index) // ã‚µãƒ¼ãƒèµ·å‹• fmt.Println(\u0026quot;========================\u0026quot;) fmt.Println(\u0026quot;Server Start \u0026gt;\u0026gt; http://localhost:3000\u0026quot;) fmt.Println(\u0026quot;========================\u0026quot;) log.Fatal(http.ListenAndServe(\u0026quot;:3000\u0026quot;, router)) } æ³¨ç›®ã—ã¦ã„ãŸã ããŸã®ãŒã€17è¡Œç›®ã‹ã‚‰19è¡Œç›®ã®å‡¦ç†ã§ã™ã€‚\nã“ã“ã§ã€å„å±¤ã® NewXxx() ã®å‡¦ç†ã‚’ä½¿ã£ã¦ä¾å­˜é–¢ä¿‚ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\nDI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã†ã“ã¨ã§ã€ã‚ˆã‚Šã‚¹ãƒãƒ¼ãƒˆã«æ›¸ã‘ã‚‹ã¨æ€ã„ã¾ã™ãŒã€\næ„šç›´ã«ã‚„ã‚‹ãªã‚‰ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\nãƒ†ã‚¹ãƒˆ ã“ã“ã¾ã§ã®å®Ÿè£…ã§ æ›¸ç±ä¸€è¦§ å–å¾—ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\n$ go run cmd/api/main.go $ curl -X GET http://localhost:3000/api/v1/books ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€\n2ã¤ã®æ›¸ç±ãƒ‡ãƒ¼ã‚¿ãŒè¿”ã£ã¦ãã‚‹ã¯ãšã§ã™ã€‚\n{ \u0026quot;books\u0026quot;: [ { \u0026quot;id\u0026quot;: 1, \u0026quot;title\u0026quot;: \u0026quot;DDDãŒåˆ†ã‹ã‚‹æœ¬\u0026quot;, \u0026quot;author\u0026quot;: \u0026quot;ãŸã‚ã†ãã‚“\u0026quot;, \u0026quot;issued_at\u0026quot;: \u0026quot;2019-10-29T02:22:09.264835+09:00\u0026quot; }, { \u0026quot;id\u0026quot;: 2, \u0026quot;title\u0026quot;: \u0026quot;ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒåˆ†ã‹ã‚‹æœ¬\u0026quot;, \u0026quot;author\u0026quot;: \u0026quot;ã¯ãªã“ã•ã‚“\u0026quot;, \u0026quot;issued_at\u0026quot;: \u0026quot;2019-10-23T02:22:09.264841+09:00\u0026quot; } ] } ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒä¸€å€‹ã—ã‹ãªã‹ã£ãŸã‚Šã€DB æ¥ç¶šã—ã¦ãªã‹ã£ãŸã‚Šã¨ã€æœªå®Œæˆãªã¨ã“ã‚ãŒå¤šã„ã§ã™ãŒã€\nDDD ã‚„ ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ãŒçµ¡ã‚“ã§ãã¦ã€çµæ§‹é‡ã„å†…å®¹ã«ãªã£ã¦ããŸã®ã§ã€ä¸€æ—¦ã“ã“ã§åˆ‡ã‚ã†ã¨æ€ã„ã¾ã™ã€‚\nå¾Œæ—¥ã€ç¶šç·¨è¨˜äº‹ã‚’å‡ºã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚ ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒãƒ¡ã‚¤ãƒ³ã®è©±ã«ãªã‚Šã¾ã—ãŸãŒã€\nã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¤ã„ã¦å‹‰å¼·ä¸­ã ã£ãŸã®ã§ã€åƒ•çš„ã«ã¯ã¡ã‚‡ã†ã©è‰¯ã„å‹‰å¼·ã«ãªã‚Šã¾ã—ãŸã€‚\nä»Šå¾Œã¯ã€ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹æœ¬ã§ã€Œãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã‚’ã©ã®ã‚ˆã†ã«ã—ã¦ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã«è½ã¨ã—è¾¼ã‚“ã§ã„ãã®ã‹ã€ã£ã¦ã¨ã“ã‚ã‚’å‹‰å¼·ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n","ref":"/blog/go_web_api/"},{"title":"ã€goenvã€‘GOPATH ãŒå¤‰ã‚ã‚‰ãªã„ã¨ãã®å¯¾å‡¦æ³•","date":"","description":"","body":"GOPATH ãŒå¤‰ã‚ã‚‰ãªã„â€¦ ä»Šæ—¥ã“ã‚“ãªç¾è±¡ã«é­é‡ã—ãŸã€‚\n$ export GOPATH=/Users/yyh-gl/workspaces/Go $ echo $GOPATH /Users/yyh-gl/workspaces/Go $ go env GOPATH /Users/yyh-gl/go/1.12.5 GOPATH ãŒæ›¸ãæ›ã‚ã‚‰ãªã„ã€‚\nè§£æ±ºæ–¹æ³• ç¤¾å†…Slack ã§é©å½“ã«ã¤ã¶ã‚„ã„ãŸã‚‰ã€åŒæœŸãŒåŠ©ã‘ã¦ãã‚ŒãŸï¼ˆç¥ï¼‰\nç”»åƒã«ã‚ã‚‹ Qiita ã®ãƒªãƒ³ã‚¯ãŒ ã“ã¡ã‚‰ ã¡ãªã¿ã«åƒ•ã®ç’°å¢ƒã® goenv ã¯ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.12.5 ã ã£ãŸã®ã§ã€2ç³»ã«ä¸Šã’ãªãã¦ã‚‚ç™ºç”Ÿã™ã‚‹æ¨¡æ§˜ã€‚\nï¼ˆè¿½è¨˜ï¼š19/06/14ï¼‰ã¾ãŸã¾ãŸåŒæœŸãŒæ•™ãˆã¦ãã‚Œã¾ã—ãŸã€‚\nã“ã¡ã‚‰ã®è¨˜äº‹ ã«ã‚ˆã‚‹ã¨ã€ goenv ã«ã‚ˆã‚‹ç®¡ç†ã¯ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.12 ã‹ã‚‰ã¨ã®ã“ã¨ã€‚\nçµè«–ï¼šgoenv ãŒ GOPATH ã‚’ç®¡ç†ã—ã‚ˆã†ã¨ã—ã¦ãŸ\ngoenv ã®ç®¡ç†ã‹ã‚‰å¤–ã—ã¦ã‚„ã‚‹ã«ã¯ GOENV_DISABLE_GOPATH=1 ã«ã—ã¦ã‚„ã‚Œã°OKã€‚\nåƒ•ã¯ zshrc ã«ä»¥ä¸‹ã®ã¨ãŠã‚Šè¿½è¨˜ã—ã¾ã—ãŸã€‚\nexport GOENV_DISABLE_GOPATH=1\nï¼ˆzshrc ã®èª­ã¿è¾¼ã¿ç›´ã—ã‚’å¿˜ã‚Œãšã«ï¼‰\nçµæœ $ go env GOPATH /Users/yyh-gl/workspaces/Go å¤‰ã‚ã£ãŸã€‚ã‚ˆã‹ã£ãŸ\n","ref":"/blog/gopath/"},{"title":"ã€ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆã€‘DDDå…¥é–€ Part 1","date":"","description":"","body":"DDD ã®å‹‰å¼·å§‹ã‚ã¾ã™ æ–°å’ç ”ä¿®ã‚’å—ã‘ã‚‹ä¸­ã§ DDD ãŒå‡ºã¦ãã¦ã€å‹‰å¼·ã—ãŸããªã£ãŸã®ã§ã€\nã€ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆã€ï¼ˆã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹è‘—ï¼Œä»Šé–¢ å‰› ç›£è¨³ï¼Œå’Œæ™º å³æ¡‚ã€ç‰§é‡ ç¥å­ è¨³ï¼‰ ã‚’èª­ã‚“ã§ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nä»Šå›ã¯ç¬¬1éƒ¨ã€Œãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’æ©Ÿèƒ½ã•ã›ã‚‹ã€ã® 1ç«  ã¨ 2ç«  ã‚’ã¾ã¨ã‚ã¾ã™ã€‚\næ³¨æ„ï¼š åƒ•ã®ç†è§£ã‚’ãã®ã¾ã¾ãƒ¡ãƒ¢ã¨ã—ã¦æ›¸ãé€£ã­ã¦ã„ãã¾ã™ã€‚\nã—ãŸãŒã£ã¦ã€èª¤ã£ãŸç†è§£ã‚‚ã‚ã‚‹ã¨æ€ã†ã®ã§ã€ãã®ã¨ãã¯DMã¨ã‹ã§ã”æŒ‡æ‘˜ãŠé¡˜ã„ã—ã¾ã™ï¼\n1ç«  çŸ¥è­˜ã‚’ã‹ã¿ç •ã ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ä½œã‚‹ã¨ãã«ã€ã¯ã˜ã‚ã‹ã‚‰å¯¾è±¡ã‚’ååˆ†ã«ç†è§£ã—ã¦ã„ã‚‹é–‹ç™ºè€…ãªã©ã„ãªã„ã€‚\nå¯¾è±¡ ï¼ ã“ã‚Œã‹ã‚‰ä½œã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§å®Ÿç¾ã™ã‚‹ä½œæ¥­ ï¼ ãƒ‰ãƒ¡ã‚¤ãƒ³\nã—ãŸãŒã£ã¦ã€å¯¾è±¡ã«ã¤ã„ã¦è©³ã—ã„äººï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆï¼‰ã¨é–‹ç™ºè€…ã§ ååˆ†ã«è©±ã—åˆã£ã¦ç†è§£ã‚’æ·±ã‚ã‚‹ã“ã¨ãŒé‡è¦ã§ã‚ã‚‹ã€‚\nç†è§£ã—ãŸã“ã¨ã¯ãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦æ›¸ãå‡ºã™ã€‚ ãã—ã¦ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¯è¶³ã‚Šãªã„ã¨ã“ã‚ãŒã‚ã‚Œã°è¿½åŠ ã§èª¬æ˜ã™ã‚‹ã€‚\né–‹ç™ºè€…ã¯åˆ†ã‹ã‚‰ãªã„ã¨ã“ã‚ãŒã‚ã‚Œã°è³ªå•ã™ã‚‹ã€‚\nä¸Šè¨˜å·¥ç¨‹ã‚’ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã—ã€ãã®éƒ½åº¦å¾—ãŸçŸ¥è­˜ã‚’ãƒ¢ãƒ‡ãƒ«ã«è½ã¨ã—è¾¼ã‚“ã§ã„ãã€‚\nâ†’ ç¶™ç¶šçš„å­¦ç¿’ï¼ˆç¶™ç¶šçš„å­¦ç¿’ã¯é–‹ç™ºãŒå§‹ã¾ã£ãŸå¾Œã§ã‚‚è¡Œã†ï¼‰\nã¯ã˜ã‚ã‹ã‚‰å¯¾è±¡ã‚’å¦‚å®Ÿã«è¡¨ã—ãŸãƒ¢ãƒ‡ãƒ«ã‚’ä½œã‚Œã‚‹ã“ã¨ã¯æ»…å¤šã«ãªã„ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ ã¨ é–‹ç™ºè€… ã§ã¯è¦‹ã¦ã„ã‚‹è¦–ç‚¹ãŒé•ã†ã®ã§å°‘ã—è©±ã‚’èã„ãŸãã‚‰ã„ã§ å®Œç’§ãªãƒ¢ãƒ‡ãƒ«ã‚’ä½œã‚‹ã“ã¨ãŒã§ããªã„ã®ã¯å½“ãŸã‚Šå‰ã§ã‚ã‚‹ã€‚\nã ã‹ã‚‰ã“ãã€å¯¾è©±ã‚’é€šã—ã¦ã€äº’ã„ã«ç–‘å•ç‚¹ã‚„ä¸è¦ãªç‚¹ã‚’æ´—ã„å‡ºã—ã€æ´—ç·´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\nã“ã‚ŒãŒ çŸ¥è­˜ã®ã‹ã¿ç •ã ã§ã‚ã‚‹ã€‚\n1ç«  ã¾ã¨ã‚ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨é–‹ç™ºè€…ãŒè©±ã—åˆã£ã¦ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ãƒ¢ãƒ‡ãƒ«ã«è½ã¨ã—è¾¼ã‚“ã§ã„ã ç”¨èªã®èª¬æ˜ã‚„ä¸è¶³ç‚¹ã®è¿½åŠ ãªã© ã¨ã«ã‹ãè©±ã™ ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼šã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢åŒ–ã™ã‚‹å¯¾è±¡ï¼ˆæ¥­å‹™ã‚„ã‚µãƒ¼ãƒ“ã‚¹ãªã©ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢åŒ–ã®å¯¾è±¡ã¨ãªã‚Šã†ã‚‹ä¸‡ç‰©ï¼‰ ä¸€ç™ºã§å®Œç’§ãªãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã¯ã§ããªã„ã‹ã‚‰ã€ç¶™ç¶šçš„ã«æ”¹å–„ã—ã¦ã„ã 2ç«  ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨è¨€èªã®ä½¿ã„æ–¹ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãŒä½¿ã†å°‚é–€ç”¨èªã‚’é–‹ç™ºè€…ã¯ç†è§£ã§ããªã„ã—ã€\né–‹ç™ºè€…ãŒä½¿ã†å°‚é–€ç”¨èªã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¯ç†è§£ã§ããªã„ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨é–‹ç™ºè€…ã®ä¸¡è€…ãŒåŒã˜æ„å‘³ã ã¨æ€ã£ã¦ä½¿ã£ã¦ã„ãŸã¨ã—ã¦ã‚‚ ãŸã„ã¦ã„ã®å ´åˆã€å·®ç•°ãŒã‚ã‚‹ã€‚\nã“ã®ã‚ˆã†ãªå·®ç•°ãŒã‚ã‚‹ã¨ é€šè¨³ ãŒå¿…è¦ã¨ãªã‚‹ã€‚\né€šè¨³ã¯ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’éˆã‚‰ã›ã€çŸ¥è­˜ã®ã‹ã¿ç •ãã‚’æ²ˆæ»ã•ã›ã‚‹ã€‚\nå…±é€šè¨€èªã¨ã—ã¦ã®ãƒ¢ãƒ‡ãƒ« é€šè¨³ã‚’ãªãã™ãŸã‚ã«ã€ ãƒ¢ãƒ‡ãƒ«ã‚’è¨€èªã®éª¨æ ¼ã¨ã—ã¦ä½¿ç”¨ ã™ã‚‹ã€‚\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨é–‹ç™ºè€…ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚³ãƒ¼ãƒ‰ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€å›³ãªã© å…¨ã¦ã«ãŠã„ã¦ã€ãã®è¨€èªã‚’ä½¿ç”¨ã™ã‚‹ã€‚\nã“ã“ã§ã€ãƒ¢ãƒ‡ãƒ«ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨é–‹ç™ºè€…ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ç”Ÿã¾ã‚Œã‚‹ã“ã¨ã‚’æ€ã„å‡ºã™ã€‚\nã¤ã¾ã‚Šã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸­ã§èªè­˜ã®é•ã„ãŒè¦‹ã¤ã‹ã‚‹ãªã©ã—ã¦ã€\nè¨€èªå®šç¾©ã«å¯¾ã™ã‚‹å¤‰æ›´ãŒã‚ã£ãŸã¨ãã«ã¯ãƒ¢ãƒ‡ãƒ«ãŒå¤‰æ›´ã«ãªã‚Šã€\nã•ã‚‰ã«ã¯ã‚³ãƒ¼ãƒ‰ä¸­ã®ã‚¯ãƒ©ã‚¹åã‚„ãƒ¡ã‚½ãƒƒãƒ‰åãŒå¤‰ã‚ã‚‹ã“ã¨ã‚‚ã‚ã‚Šãˆã‚‹ã€‚\nã“ã†ã™ã‚‹ã“ã¨ã§ã€\nãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨é–‹ç™ºè€…ã¯ã€ã¨ã‚‚ã«ä¸æ­£ç¢ºãªã¨ã“ã‚ã‚„çŸ›ç›¾ã‚’æŒ‡æ‘˜ã—åˆã„ã€\nã‚ˆã‚Šç¢ºã‹ãªãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\nã“ã†ã—ã¦ä½œæˆã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãŒç†è§£ã§ããªã‹ã£ãŸå ´åˆã€\nãã®ãƒ¢ãƒ‡ãƒ«ã«ã¯ä½•ã‹å•é¡ŒãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚\nã¤ã¾ã‚Šã€å®Ÿç¾ã—ãŸã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§ã¯ãªã„ã¨ã„ã†ã“ã¨ã«ãªã‚‹ã€‚\nå›³ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«é–¢ã™ã‚‹æ³¨æ„ç‚¹ ã“ã“ã§ã„ã†ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã¯é–‹ç™ºè€…å´ã§ã®ã¿ä½¿ç”¨ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã ã¨æ€ã‚ã‚Œã‚‹\nè¨­è¨ˆã«é–¢ã™ã‚‹æœ¬è³ªçš„ãªè©³ç´°ã¯ã€ã‚³ãƒ¼ãƒ‰ã«ãŠã„ã¦ã¨ã‚‰ãˆã‚‰ã‚Œã‚‹ã€‚ ã—ãŸãŒã£ã¦ã€å›³ã§ãƒ¢ãƒ‡ãƒ«ã‚’è¡¨ç¾ã¯ã—ãªã„ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ˆã£ã¦å…¨ã¦èª¬æ˜ã—ã‚ˆã†ã¨ã¯ã—ãªã„ã€‚\nãƒ¢ãƒ‡ãƒ« â‰  å›³\nå›³ã¯ãƒ¢ãƒ‡ãƒ«ã«ã¤ã„ã¦ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€èª¬æ˜ã‚’åŠ©ã‘ã‚‹ãŸã‚ã«ä½¿ã†ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã‚³ãƒ¼ãƒ‰ã¨ä¼šè©±ã®è£œè¶³äº‹é …ã®ã¿ã‚’è¨˜è¿°ã™ã‚‹ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å¸¸ã«æœ€æ–°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã€\nè£œè¶³äº‹é …ä»¥å¤–ã‚‚å«ã‚ã¦å…¨ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã™ã‚‹ã®ã¯ã¤ã‚‰ã„çš„ãªæ„å‘³åˆã„ã«æ„Ÿã˜ãŸã€‚\nãªã«ã‚ˆã‚Šå…ˆè¿°ã—ãŸã¨ãŠã‚Šã€ã€Œè¨­è¨ˆã«é–¢ã™ã‚‹æœ¬è³ªçš„ãªè©³ç´°ã¯ã€ã‚³ãƒ¼ãƒ‰ã«ãŠã„ã¦ã¨ã‚‰ãˆã‚‰ã‚Œã‚‹ã€ã‹ã‚‰ã€‚\nXP ã‚’ä»£è¡¨ã¨ã™ã‚‹ã„ãã¤ã‹ã®æ‰‹æ³•ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã§å…¨ã¦ã‚’èªã‚‹ã€‚\n2ç«  ã¾ã¨ã‚ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨é–‹ç™ºè€…ã®å…±é€šè¨€èªã¯ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’è¨€èªã®éª¨æ ¼ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹\nãã“ã§ç†è§£ã§ããªã„ã“ã¨ãŒã‚ã‚Œã°ã€ãƒ¢ãƒ‡ãƒ«ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå¿…è¦ å›³ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã‚ãã¾ã§è£œåŠ©è³‡æ–™ã€‚ã‚³ãƒ¼ãƒ‰ã§èªã‚ã†ã€‚\n","ref":"/blog/evans_ddd_1/"},{"title":"ã€å¤§è¦æ¨¡ã‚µãƒ¼ãƒ“ã‚¹æŠ€è¡“å…¥é–€ 5ç« ã€‘å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†æ–¹æ³•ã«ã¤ã„ã¦ã¾ã¨ã‚ãŸ","date":"","description":"","body":"ã¯ã˜ã‚ã« ç¤¾å†…ã§ä¼Šè—¤ ç›´ä¹Ÿã•ã‚“ã¨ç”°ä¸­ æ…å¸ã•ã‚“ãŒæ›¸ã‹ã‚ŒãŸ\nã€Webé–‹ç™ºè€…ã®ãŸã‚ã®å¤§è¦æ¨¡ã‚µãƒ¼ãƒ“ã‚¹æŠ€è¡“å…¥é–€ã€ ã‚’è¼ªèª­ã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ã€åƒ•ãŒæ‹…å½“ã—ãŸ ç¬¬5å›ã®ã€Œå¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿å‡¦ç†[å®Ÿè·µ]å…¥é–€ã€ã«ã¤ã„ã¦ã¾ã¨ã‚ã¾ã™ã€‚\nãªãŠã€æœ¬æ›¸ã¯2010å¹´ã«å‡ºç‰ˆã•ã‚ŒãŸæœ¬ã§ã‚ã‚‹ãŸã‚ã€\nå°‘ãªãã¨ã‚‚ç¬¬5å›ã®å†…å®¹ã¯ä»Šã§ã¯å½“ãŸã‚Šå‰ã®ã“ã¨ã¨ã„ã†å°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚\nãã‚Œã§ã‚‚ã€ã—ã£ã‹ã‚Šã¨æ–‡ç« ã§å­¦ã‚“ã§ãŠãã“ã¨ã¯å¤§äº‹ã ã¨æ€ã†ã®ã§ã¾ã¨ã‚ã¾ã™ã€‚\nâ˜…å°ã¯å€‹äººãƒ¡ãƒ¢ã§ã™ã€‚\nä»¥ä¸‹ã¾ã¨ã‚\nå¤§é‡ãªãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†å ´é¢ å…¨æ–‡æ¤œç´¢ã‚„ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ‹ãƒ³ã‚°ãªã© RDBMSã§å‡¦ç†ã§ããªã„è¦æ¨¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’\nå‡¦ç†ã—ãŸã„å ´é¢ã¯å¤šãå­˜åœ¨ã—ã¾ã™ã€‚\nã§ã¯ã€RDBMSãŒä½¿ãˆãªã„è¦æ¨¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã†å‡¦ç†ã™ã‚Œã°ã„ã„ã§ã—ã‚‡ã†ã‹ã€‚\nãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º çµè«–ã‹ã‚‰è¨€ã†ã¨ã€RDBMSã§æ‰±ã†ã“ã¨ãŒã§ããªã„ãƒ‡ãƒ¼ã‚¿ã¯ã€é©å®œRDBMSã‹ã‚‰ æŠ½å‡º ã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚\nå…·ä½“çš„ã«ã¯ ãƒãƒƒãƒå‡¦ç†ã§RDBMSã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã—ã€\nåˆ¥é€”ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚µãƒ¼ãƒã®ã‚ˆã†ãªã‚‚ã®ã‚’ä½œã£ã¦ã€ãã“ã«å…¥ã‚Œã¦ã„ãã¾ã™ã€‚\nâ˜… ã“ã“ã§è¨€ã£ã¦ã„ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚µãƒ¼ãƒã¨ã„ã†ã®ã¯ã€ä¾‹ãˆã°å…¨æ–‡æ¤œç´¢ç”¨ã§ã‚ã‚Œã°\nã€Œæ¤œç´¢ç”¨ã«ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã—ãŸï¼ˆæ¤œç´¢ã—ã‚„ã™ãã—ãŸï¼‰ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€ã¨è€ƒãˆã‚‹ã¹ãã§ã—ã‚‡ã†ã€‚\nâ˜… æœ€è¿‘ã¯ã€Fluentd ã‚’ä½¿ç”¨ã—ã¦ãƒ­ã‚°ã‚’å¤–éƒ¨ã«åãå‡ºã—ã¦ã‹ã‚‰è§£æã—ãŸã‚Šã—ã¾ã™ã‚ˆã­ã€‚\nãã‚Œã¨è€ƒãˆæ–¹ã¯ä¸€ç·’ã ã¨æ€ã„ã¾ã™ã€‚\nã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚µãƒ¼ãƒã«ã¯RPCï¼ˆRemote Procedure Callï¼‰ã‚’ä½¿ã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚\nï¼ˆãªãŠã€RPCã¨è¨€ã„ã¾ã—ãŸãŒã€ç¾åœ¨ã§ã¯ Web API ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒä¸€èˆ¬çš„ãªã®ã§ã€ä»¥é™ã€ Web API ã‚’ä¾‹ã«ä½¿ç”¨ã—ã¾ã™ï¼‰\nã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯ä¸‹å›³ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nç”¨é€”ç‰¹åŒ–å‹ã®ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚° ä¸Šè¿°ã—ãŸæ–¹æ³•ã‚’ã€ã¯ã¦ãªç¤¾ï¼ˆè‘—è€…ãŒã¯ã¦ãªç¤¾å‡ºèº«ã®æ–¹ãªã®ã§ã‚ˆãå‡ºã¦ãã¾ã™ï¼‰ã§ã¯ã€\nç”¨é€”ç‰¹åŒ–å‹ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚° ã¨å‘¼ã¶ãã†ã§ã™ã€‚\nç”¨é€”ç‰¹åŒ–å‹ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°ã¨RDBMS RDBMS ã¯ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ãƒˆã‚„çµ±è¨ˆå‡¦ç†ã€JOIN ãªã©ã€ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦æ§˜ã€…ãªå‡¦ç†ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚\nã—ã‹ã—ã€æ±ç”¨çš„æ•…ã«ã€ç‰¹å®šã®ç›®çš„ã ã‘ã«ä½¿ã†ã¨ãã«ã¯ã€ãã‚Œç”¨ã«ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã—ãŸãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€\nã™ãªã‚ã¡ ç”¨é€”ç‰¹åŒ–å‹ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚° ã‚’ä½¿ã†æ–¹ãŒåœ§å€’çš„ã«é€Ÿããªã‚Šã¾ã™ã€‚\nâ˜… å…ˆã»ã©è¨€ã£ã¦ã„ãŸ Fluentd ã‚’ç”¨ã„ãŸãƒ­ã‚°è§£æã‚·ã‚¹ãƒ†ãƒ  ã¯ ãƒ­ã‚°è§£æç”¨ã«ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã—ãŸã‚‚ã®ã¨è¨€ãˆã‚‹ã§ã—ã‚‡ã†ã‹ã€‚\nç”¨é€”ç‰¹åŒ–å‹ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°ã®ä½¿ç”¨ä¾‹ï¼š å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã¯ã€ä»¥ä¸‹3ç‚¹ã®è¦æ±‚ã‚’ã©ã†æº€ãŸã™ã‹ è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nå¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ¤œç´¢ã—ãŸã„ é«˜é€Ÿã«æ¤œç´¢ã—ãŸã„ ã€Œã„ã„æ„Ÿã˜ã€ã®æ–‡æ›¸ã‚’ä¸Šä½ã«æŒã£ã¦ããŸã„ ç‰¹ã«é›£ã—ã„ã®ãŒ ã€Œã„ã„æ„Ÿã˜ã€ã‚’æŒã£ã¦ãã‚‹ã¨ã“ã‚ã€‚\nâ˜… ã“ã“ã§ã„ã†ã€Œã„ã„æ„Ÿã˜ã€ã¨ã¯ã€é–¢é€£åº¦ã®é«˜ã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ ã¨ã‹ã§ã—ã‚‡ã†ã‹ã€‚\nã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ã‚ˆã£ã¦ã€Œã„ã„æ„Ÿã˜ã€ã¯å¤‰ã‚ã£ã¦ãã‚‹ã®ã§çš†ã•ã‚“ãŒè€ƒãˆã‚‹ã€Œã„ã„æ„Ÿã˜ã€ã‚’æƒ³åƒã—ã¦èª­ã¿ã™ã™ã‚ã¦ãã ã•ã„ã€‚\nRDBMS ã§ã¯è¦ä»¶ã‚’æº€ãŸã›ãªã„ RDBMS ã¯ç‰¹å®šã®ã‚«ãƒ©ãƒ ã§ã—ã‹ä¸¦ã³æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚\nä¾‹ãˆã°ã€ä½œæˆæ—¥æ™‚ã§ä¸¦ã¹æ›¿ãˆã‚‹ã¨ã‹ã€åå‰ã®ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã§ä¸¦ã³æ›¿ãˆã‚‹ã¨ã‹ã§ã™ã­ã€‚\nã¯ã¦ãªç¤¾ã§ã¯ã€ã€Œã„ã„æ„Ÿã˜ã€ã®æ–‡ç« ã‚’ä¸Šä½ã«æŒã£ã¦ãã‚‹ãŸã‚ã«\nã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°å‡¦ç† ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãã†ã§ã™ã€‚\nã—ã‹ã—ã€ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°å‡¦ç†ã«ã¯ã€æ–‡ç« ãŒæŒã¤ã•ã¾ã–ã¾ãªæƒ…å ±ã‚’è¤‡åˆçš„ã«åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã‚Œã¯ç‰¹å®šã®ã‚«ãƒ©ãƒ ã§ã—ã‹ä¸¦ã³æ›¿ãˆã§ããªã„ RDBMS ãŒè‹¦æ‰‹ã™ã‚‹åˆ†é‡ã§ã™ã€‚\nã‚ˆã£ã¦ã€ã“ã“ã§ ç”¨é€”ç‰¹åŒ–å‹ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚° ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚\nâ˜… ã„ã‚ã‚“ãªäººãŒæŠ•ç¨¿ã—ãŸè¨˜äº‹ï¼ˆæ–‡ç« ï¼‰ã‚’å˜èªãƒ¬ãƒ™ãƒ«ã«åˆ†å‰²ã—ã¦\nä¿å­˜ã¨ã‹ã—ã¦ã„ã‚‹ã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿ\nã¨ã«ã‹ãã€æ–‡ç« å…¨æ–‡ãŒä¿å­˜ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰æ¤œç´¢ã™ã‚‹ã®ã§ã¯ãªãã¦ã€\nã‚ˆã‚Šæ¤œç´¢ã—ã‚„ã™ã„å½¢ã«æ•´å½¢ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«å¯¾ã—ã¦\næ¤œç´¢ã‚’ã‹ã‘ã‚‹ã“ã¨ãŒå¤§äº‹ã¨ã„ã†ã“ã¨ãŒåˆ†ã‹ã£ã¦ã‚‚ã‚‰ãˆã‚Œã°å¹¸ã„ã§ã™ã€‚\nã¯ã¦ãªç¤¾ã§ã¯ã€ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã—ã‚„ã™ã„ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«å¤‰æ›ã—ã¦ã‚„ã‚‹å‡¦ç†ï¼ˆæ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰ã‚’\nè‡ªå‰ã§ä½œæˆã—ã¦ã„ã¾ã™ã€‚ï¼ˆâ‰’ å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’è‡ªä½œï¼‰\nã™ãªã‚ã¡ã€ç”¨é€”ç‰¹åŒ–å‹ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°ã‚’ä½œæˆã—ã€å…¨æ–‡æ¤œç´¢ã—ã¦ã„ã‚‹ã‚ã‘ã§ã™ã­ã€‚\nç†è«–ã¨å®Ÿè·µ å…¨æ–‡æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã¯ã€RDBMS ã® JOIN ã‚’ä½¿ã£ã¦å®Ÿç¾ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚ï¼ˆå¤šåˆ†ï¼‰\nä¸€æ–¹ã§ã€ã€ŒRDBMS ã§ JOIN ã‚’ä½¿ã‚ãªã„ã€ã¨ã„ã†ã®ã¯ã‚ˆãèãè©±ã§ã™ã€‚\nåƒ•ã‚‚ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã€ã‚¯ã‚¨ãƒªé«˜é€ŸåŒ–ã®ãŸã‚ã« JOIN ã‚’ä½¿ã‚ãªã„ã‚ˆã†ã«è¨€ã‚ã‚ŒãŸã“ã¨ãŒã‚ã‚Šã¾ã™ã—ã€\nãã®è€ƒãˆæ–¹ã¯ç†è§£ã§ãã¾ã™ã€‚\nã—ã‹ã—ã€ãã‚Œã¯RDSç ”ç©¶è€…ã‹ã‚‰ã™ã‚Œã°ã€ŒRDBMS ã§ JOIN ã‚’ä½¿ã‚ãªã„ãªã‚“ã¦ã€\nRDS ã‚’å¦å®šã—ãªãŒã‚‰ RDS ã‚’ä½¿ã†ã‚ˆã†ãªã‚‚ã®ã€ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã“ã§å¤§äº‹ãªã®ã¯ã€\nã€ŒRDBMS ã§ JOIN ã‚’ä½¿ã‚ãªã„ã€ã¨ã„ã†ãƒã‚¦ãƒã‚¦ã¯ ã€å®Ÿè·µã€çš„ã«ã¯ã™ã”ãæœ‰ç›Šãªãƒã‚¦ãƒã‚¦ã§ã‚ã‚‹ã“ã¨ã€‚\nã—ã‹ã—ã€JOINå¥ã‚’ä½¿ãˆã°ã€å…¨æ–‡æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ã—ã€\nä»–ã®æ§˜ã€…ãªå ´é¢ã«ãŠã„ã¦ã‚‚ JOINå¥ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§è§£æ±ºã§ãã‚‹å•é¡Œã¯ãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚\nã“ã£ã¡ã¯ ã€ç†è«–ã€ ã®è©±ã€‚\nç†è«–å´ã§ã¯ã€JOINå¥ã‚’ä½¿ã‚ãªã„ã®ã¯ã€ãƒãƒƒãƒ‰ãƒã‚¦ãƒã‚¦ã§ã™ã€‚\nä½•ãŒè¨€ã„ãŸã„ã‹ã¨ã„ã†ã¨ã€\nå¤§è¦æ¨¡ãª Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã‚’é‹ç”¨ãƒ»é–‹ç™ºã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€\nå®Ÿè·µã‚‚ç†è«–ã‚‚ä¸¡æ–¹ã‚„ã£ã¦ã„ã‹ãªã„ã¨ã„ã‘ãªã„ ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nç›´é¢ã—ãŸèª²é¡Œã«å¯¾ã—ã¦ã€ã‚ã‚‹å´é¢ã§ã¯ãƒãƒƒãƒ‰ãƒã‚¦ãƒã‚¦ã§ã‚ã£ã¦ã‚‚ã€\nä»–ã®é¢ã‹ã‚‰è¦‹ãŸã¨ãã«ã‚°ãƒƒãƒ‰ãƒã‚¦ãƒã‚¦ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\næˆ‘ã€…ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«æ±‚ã‚ã‚‰ã‚Œã‚‹ã®ã¯ã€å®Ÿè·µã‚‚ç†è«–ã‚‚ä¸¡æ–¹ã‚’ãƒãƒ©ãƒ³ã‚¹è‰¯ãä½¿ã†åŠ›ã§ã™ã€‚\n","ref":"/blog/bigdata_processing/"},{"title":"ã€Web APIï¼ˆRailsï¼‰ + Vue.jsã€‘ãƒ–ãƒ­ã‚°ã®ã„ã„ã­ãƒœã‚¿ãƒ³è‡ªä½œã—ã¦ã¿ãŸ","date":"","description":"ã„ã„ã­æ©Ÿèƒ½ã¤ã‘ã¾ã—ãŸ","body":"ã„ã„ã­ãƒœã‚¿ãƒ³ãŒãªã„ãƒ–ãƒ­ã‚° æœ¬ãƒ–ãƒ­ã‚°ã€ã„ã„ã­ãƒœã‚¿ãƒ³ãŒ ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nã ã‹ã‚‰ã€ä½œã£ã¡ã‚ƒã„ã¾ã—ãŸã€‚ã£ã¦ã„ã†è¨˜äº‹ã§ã™ã€‚\næ§‹æˆ ä¸Šå›³ã®ã‚ˆã†ã«\nè¨˜äº‹ãƒšãƒ¼ã‚¸ã‹ã‚‰APIã‚µãƒ¼ãƒã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Šã€ ã„ã„ã­ã®æ•°ã‚’å–å¾—ãƒ»åŠ ç®—ã—ã¾ã™ã€‚\nè¨˜äº‹ãƒšãƒ¼ã‚¸ã‹ã‚‰APIã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆéƒ¨åˆ†ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰ã«ã¯ Vue + axios ã‚’ä½¿ç”¨ã€‚\nAPIã‚µãƒ¼ãƒã¯ Rails ã§å®Ÿè£…ã—ã¾ã—ãŸã€‚\nï¼ˆä»¥å‰ã‹ã‚‰ Slackã®ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ç”¨ã«ä½¿ç”¨ã—ã¦ã„ãŸAPIã‚µãƒ¼ãƒã‚’æµç”¨ã—ã¾ã—ãŸï¼‰\nAPIã‚µãƒ¼ãƒ Rails ã§ APIã‚µãƒ¼ãƒã‚’å»ºã¦ã‚‹æ–¹æ³•ã«é–¢ã—ã¦ã¯ã€\nä»¥å‰ã« Qiita ã§ å…¥é–€è¨˜äº‹ æ›¸ã„ãŸã®ã§ãã¡ã‚‰ã‚’ã”è¦§ãã ã•ã„ã€‚\nï¼ˆå°‘ã—å¤ã„è¨˜äº‹ã§ã™ãŒã€ãã‚“ãªã«å•é¡Œã¯ãªã„ã¯ãšã§ã™ï¼‰\nDB ã«ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ ä»Šå›ã€ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã«ã€ä¸‹è¨˜ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nmysql\u0026gt; describe blog_posts; +------------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +------------+--------------+------+-----+---------+----------------+ | id | bigint(20) | NO | PRI | NULL | auto_increment | | title | varchar(255) | NO | | NULL | | | count | varchar(255) | NO | | 0 | | | created_at | datetime | NO | | NULL | | | updated_at | datetime | NO | | NULL | | +------------+--------------+------+-----+---------+----------------+ 5 rows in set (0.00 sec) titleã«ã¯ã€æ—¥æœ¬èªã®ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆæœ¬è¨˜äº‹ã ã¨ã€ã€WEB APIï¼ˆRAILSï¼‰ + VUE.JSã€‘ãƒ–ãƒ­ã‚°ã®ã„ã„ã­ãƒœã‚¿ãƒ³è‡ªä½œã—ã¦ã¿ãŸã€ï¼‰ã§ã¯ãªãã€ è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ï¼‰ã®åå‰ï¼ˆæœ¬è¨˜äº‹ã ã¨ã€good_apiã€, æ‹¡å¼µå­æŠœãï¼‰ãŒå…¥ã‚Šã¾ã™ã€‚\nWebä¸Šã®è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã¨ APIã‚µãƒ¼ãƒã®ãƒ¬ã‚³ãƒ¼ãƒ‰ ã‚’ã©ã†ã‚„ã£ã¦çµã³ã¤ã‘ã‚‹ã‹è€ƒãˆãŸã¨ãã€\nãƒšãƒ¼ã‚¸ãŒæŒã£ã¦ã„ã‚‹è¨˜äº‹ã®æƒ…å ±ã£ã¦ã€ URL ã«å«ã¾ã‚Œã‚‹ è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«å ã—ã‹ãªã„ãªãâ€¦ã¨è€ƒãˆã€\nURL ã‹ã‚‰å–å¾—ã—ãŸ è‹±title ã¨ ãƒ†ãƒ¼ãƒ–ãƒ«ã® title ãŒä¸€è‡´ã™ã‚‹ã‚‚ã®ã‚’æ¢ã™ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nCORSã®è¨­å®š ä»Šå›é‡è¦ãªã®ã¯ CORS ã®è¨­å®šã§ã™ã€‚\nCORS ã‚’èª¬æ˜ã™ã‚‹ã¨ãªã‚‹ã¨ã€ CSRF ã®èª¬æ˜ã‚„ã‚‰ãªã‚“ã‚„ã‚‰ã§ã€ã¨ã¦ã‚‚é•·ããªã‚Šã€æœ¬é¡Œã‹ã‚‰ã‹ãªã‚Šè„±ç·šã™ã‚‹ã®ã§\nä»Šå›ã¯ ã“ã¡ã‚‰ã®ã‚µã‚¤ãƒˆ ã‚’ã”ç´¹ä»‹ã™ã‚‹ã ã‘ã«ã—ã¦ãŠãã¾ã™ã€‚\nåƒ•çš„ã«ä¸€ç•ªåˆ†ã‹ã‚Šã‚„ã™ã‹ã£ãŸã§ã™ã€‚\nãƒ»\nãƒ»\nãƒ»\nã§ã¯ã€æœ¬é¡Œã® CORS ã®è¨­å®šã«ã¤ã„ã¦ã§ã™ãŒã€\nRails ã«ãŠã‘ã‚‹ CORS ã®è¨­å®šã¯ã¨ã¦ã‚‚ç°¡å˜ã§ã™ã€‚\nGemfile ã« rack-cors ã‚’è¿½åŠ \nRails ã§ç”Ÿæˆã—ãŸ Gemfile ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¥ã£ã¦ã„ã¾ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nã‚³ãƒ¡ãƒ³ãƒˆã‚’è§£é™¤ã—ã¦ã‚ã’ã¾ã—ã‚‡ã†ã€‚\n# Gemfile â€¦çœç•¥ # Use Rack CORS for handling Cross-Origin Resource Sharing (CORS), making cross-origin AJAX possible gem 'rack-cors' â€¦çœç•¥ cors.rb ã‚’ç·¨é›†\nã“ã¡ã‚‰ã‚‚å…ƒã‹ã‚‰å­˜åœ¨ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚\nä¸­èº«ã«é–¢ã—ã¦ã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’è§£é™¤ã—ã¦ã‚ã’ã‚‹ã ã‘ã§OKã§ã™ã€‚\n# \u0026lt;Rails Root Directory\u0026gt;/config/initializers/cors.rb Rails.application.config.middleware.insert_before 0, Rack::Cors do allow do origins 'https://yyh-gl.github.io' resource '*', headers: :any, methods: [:get, :post, :options] end end origins ã§æŒ‡å®šã—ãŸå ´æ‰€ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã«é–¢ã—ã¦ã¯ã€åŒä¸€ç”Ÿæˆå…ƒãƒãƒªã‚·ãƒ¼ã‚’å°‘ã—ç„¡è¦–ã—ã¦\nã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¾ã™ã€‚\nãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã«ã‚ˆã‚‹æŒ‡å®šã‚‚ã§ãã¾ã™ã€‚\nä»Šå›ã¯ã€åƒ•ã®ãƒ–ãƒ­ã‚°ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿ã‚’è¨±å¯ã—ã¾ã™ã€‚\nresource ã«ã‚ˆã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’æŒ‡å®šã§ãã¾ã™ã€‚\nresource ã§è¨±å¯ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã—ã¦ã€\nheaders ãŠã‚ˆã³ methods ã§æŒ‡å®šã—ãŸãƒ˜ãƒƒãƒ€ãŠã‚ˆã³ãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿ã‚’å—ã‘ä»˜ã‘ã¾ã™ã€‚\nã“ã¡ã‚‰ ã‚’è¦‹ã¦ã„ãŸã ã‘ã‚Œã°ã€ã‚ˆã‚Šè©³ã—ã„è¨­å®šæ–¹æ³•ãŒåˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nä»Šå›å®Ÿè£…ã™ã‚‹APIã¯ GET ã¨ POST ã—ã‹ä½¿ã‚ãªã„ã®ã§\nmethods: [:get, :post, :options] ã¨ãªã£ã¦ã„ã¾ã™ã€‚\noptions ã¯ ãƒ—ãƒªãƒ•ãƒ©ã‚¤ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã¨è¨€ã£ã¦ã€\näº‹å‰ã«ã‚µãƒ¼ãƒã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¦ã‚‚å¤§ä¸ˆå¤«ã‹å•ã„åˆã‚ã›ã‚‹ã•ã„ã«ä½¿ç”¨ã—ã¾ã™ï¼ˆå‚è€ƒ ï¼‰ã€‚\nå¿˜ã‚Œãšã«è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚ ä»¥ä¸Šã§ã€Rails ã«ãŠã‘ã‚‹ CORS ã®è¨­å®šã¯å®Œäº†ã§ã™ã€‚ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å®Ÿè£… æ¬¡ã¯ã€è¨˜äº‹ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹éƒ¨åˆ†ã§ã™ã€‚\nã¾ãšã€HTMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ â†“\n\u0026lt;html\u0026gt; \u0026lt;div id=\u0026quot;GoodCounter\u0026quot;\u0026gt; \u0026lt;good-counter\u0026gt;\u0026lt;/good-counter\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/html\u0026gt; \u0026lt;script src=\u0026quot;/tech-blog/js/axios.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026quot;/tech-blog/js/vue.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026quot;/tech-blog/js/vue_app.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; ä¸­ã®å‡¦ç†ã‚’èª¬æ˜ã™ã‚‹ã¨ã€\nIDãŒ GoodCounter ã® divè¦ç´ ã®éƒ¨åˆ†ã« Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆå¾Œè¿°ï¼‰ã‚’å…¥ã‚Œè¾¼ã‚“ã§ã„ã¾ã™ã€‚\nscriptã‚¿ã‚°ã¯ã€ä¸Šã‹ã‚‰ axios, Vue, Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™ã€‚\næ¬¡ã« Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚\n// vue_app.js Vue.component('good-counter', { template: '\u0026lt;button v-on:click=\u0026quot;addCount\u0026quot;\u0026gt;\\n' + '\u0026lt;i class=\u0026quot;far fa-thumbs-up\u0026quot;\u0026gt;\u0026lt;/i\u0026gt; ã„ã„ã­ã€€ï½›ï½› good_count ï½ï½\\n' + '\u0026lt;/button\u0026gt;', data: function () { return { good_count: \u0026quot;-\u0026quot;, } }, mounted () { // URL ã‹ã‚‰è¨˜äº‹æƒ…å ±ã‚’å–å¾— let paths = location.pathname.split('/'); // URL ã®ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†ã®ã¿ã‚’æŠ½å‡º // GET /posts/:title ã¸ã® ãƒªã‚¯ã‚¨ã‚¹ãƒˆURL ã‚’ä½œæˆ let reqUrl = '\u0026lt;server url\u0026gt;' + paths[paths.length - 2]; axios .get(reqUrl) .then(response =\u0026gt; this.good_count = response.data.post.count) }, methods: { addCount: function (event) { // URL ã‹ã‚‰è¨˜äº‹æƒ…å ±ã‚’å–å¾— let paths = location.pathname.split('/'); // URL ã®ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†ã®ã¿ã‚’æŠ½å‡º // POST /posts/:title/good ã¸ã® ãƒªã‚¯ã‚¨ã‚¹ãƒˆURL ã‚’ä½œæˆ let reqUrl = '\u0026lt;server url\u0026gt;' + paths[paths.length - 2] + '/good'; if(event) { axios .post(reqUrl) .then(response =\u0026gt; this.good_count = response.data.after) } } } }); // root ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ new Vue({ el: '#GoodCounter', }); ã„ã‚ã„ã‚æ›¸ã„ã¦ã„ã¾ã™ãŒã€ URL ã‹ã‚‰è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã—ã€\nãã‚Œã‚’åŸºã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã£ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\nVue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒã‚¦ãƒ³ãƒˆæ™‚ã« ã„ã„ã­ã®æ•°ã‚’ GET ã—ã¦ã„ã¾ã™ã€‚\nãã—ã¦ã€ã„ã„ã­ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚Œã‚‹ãŸã³ã« addCount() ãŒå®Ÿè¡Œã•ã‚Œã¦ã€ ã„ã„ã­ ãŒåŠ ç®—ã•ã‚Œã¾ã™ã€‚\nVue ã® SFC ã‚’ä½¿ã„ãŸã‹ã£ãŸã®ã§ã™ãŒã€å‹‰å¼·ä¸è¶³ã§å®Ÿç¾ã§ããšã€ã“ã®ã‚ˆã†ãªå®Ÿè£…ã«ãªã‚Šã¾ã—ãŸã€‚\nè©³ã—ã„äººãœã²æ•™ãˆã¦ãã ã•ã„ã€‚\nå®Œæˆï¼ ã§ãã‚ãŒã£ãŸã‚‚ã®ã¯ã€â†“ ã®æ–¹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã£ãŸã‚‰å®Ÿç‰©ãŒã‚ã‚‹ã®ã§è¦‹ã¦ã¿ã¦ãã ã•ã„\nã ã‚ŒãŒã„ã„ã­ã—ã¦ãã‚ŒãŸã‹ã¯åˆ†ã‹ã‚‰ãªã„ã§ã™ãŒã€ èª°ã‹ãŒã—ã¦ãã‚ŒãŸ ã¨ã„ã†äº‹å®Ÿã‚’å™›ã¿ç· ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nVue ã¯åƒ•ã®ä¼šç¤¾ã§ã‚‚ä½¿ã‚ã‚Œã¦ã„ã‚‹ã®ã§ã€ä»Šå¾Œã‚‚ç©æ¥µçš„ã«ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã‚’ç¶šã‘ã¦ã„ããŸã„ã§ã™ã€‚\nãƒ•ãƒ­ãƒ³ãƒˆã®çŸ¥è­˜ã‚‚ã£ã¨ã¤ã‘ã¦ã„ããŸã„ã§ã™ã­ãƒ¼ğŸ‘¾\nï¼ˆAPIã‚µãƒ¼ãƒã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã—ãªã„ã¨ãªâ€¦ï¼‰\n","ref":"/blog/good_api/"},{"title":"ã‚¹ã‚¯ãƒ©ãƒ ã«ã¤ã„ã¦å­¦ã‚“ã è©±","date":"","description":"","body":"ã‚¹ã‚¯ãƒ©ãƒ ã¨ã¯ æ¦‚è¦ å¤‰åŒ–ã«å¯¾ã—æŸ”è»Ÿã«é–‹ç™ºã‚’é‹ç”¨ã™ã‚‹ãŸã‚ã®ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\né–‹ç™ºã«å¸¸ã«å„ªå…ˆåº¦ã‚’ã¤ã‘ã‚‹\nä»•äº‹ã‚’é€²ã‚ã‚‹ã“ã¨ã‚’ä¸»çœ¼ã«è€ƒãˆã€ãã®ãŸã‚ã«æ”¹å–„ã‚’å¸¸ã«è¡Œã†\nãƒ­ãƒ¼ãƒ«ãŒ3ã¤ã‚ã‚Šã€å”èª¿ã—ã‚ã„é–‹ç™ºã™ã‚‹\nãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼ ã‚¹ã‚¯ãƒ©ãƒ ãƒãƒ¼ãƒ  é–‹ç™ºãƒãƒ¼ãƒ  POãŒæº€è¶³ã™ã‚‹ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãŒã‚ã£ãŸã‹ã®ã¿ã‚’æ¤œè¨¼\n5ã¤ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚‹ï¼ˆå¾Œè¿°ï¼‰\n2ã¤ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆï¼ˆæˆæœç‰©ï¼‰ãŒã‚ã‚‹ï¼ˆå¾Œè¿°ï¼‰\nç‰¹å¾´ éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\nå®šã‚ã‚‰ã‚ŒãŸãƒ«ãƒ¼ãƒ«ãŒä»–ã®æ‰‹æ³•ã‚ˆã‚Šå°‘ãªãã‚¢ãƒ¬ãƒ³ã‚¸ãŒå®¹æ˜“ å®Ÿè·µçš„ã§çµŒé¨“ä¸»ç¾©\nä¸–ç•Œçš„ã«æ™®åŠã—ã¦ã„ã‚‹\nã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã¨ã¯ ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ã¨ã‚¹ã‚¯ãƒ©ãƒ ã®é•ã„ ã‚¹ã‚¯ãƒ©ãƒ ã¨ã¯ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºæ‰‹æ³•ã®ã²ã¨ã¤\nä»–ã«ã‚‚XPã¨ã‹ãŒã‚ã‚‹\nã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºå®£è¨€ ã“ã“ ã«ã„ã‚ã„ã‚ãªè¨€èªã§å®£è¨€ã•ã‚Œã¦ã„ã¾ã™\nã“ã®å®£è¨€ã§ã¯ä»¥ä¸‹ã®ã“ã¨ã‚’é‡è¦è¦–ã—ã¦ã„ã‚‹\nå€‹äººã¨å¯¾è©± å‹•ãã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ é¡§å®¢ã¨ã®å”èª¿ å¤‰åŒ–ã¸ã®å¯¾å¿œ ã‚¹ã‚¯ãƒ©ãƒ ã¨ã‚¦ã‚©ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒ«ã®é•ã„ ã‚¦ã‚©ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒ«\nè¨ˆç”»ã€è¨­è¨ˆã€å®Ÿè£…ã€ãƒ†ã‚¹ãƒˆãŒä¸€æ–¹å‘ã«é€²ã‚€ ãƒªãƒªãƒ¼ã‚¹ç›´å‰ã®å®Ÿè£…ã‚„ä»•æ§˜ã«æ¼ã‚ŒãŒã‚ã‚‹ã¨æœ€æ‚ªã®å ´åˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã½ã—ã‚ƒã‚‹ é‹ç”¨ãƒ»ä¿å®ˆã«ã¯å¼·ã„ã€‚æ–°è¦æ¡ˆä»¶å‘ã‘ã§ã¯ãªã„ ã‚¹ã‚¯ãƒ©ãƒ \né–‹ç™ºæœŸé–“ä¸­ã«è¨ˆç”»ã€è¨­è¨ˆã€å®Ÿè£…ã€ãƒ†ã‚¹ãƒˆã®ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚’ä½•åº¦ã‚‚å›ã™ ç´°ã‹ã„ã‚¹ãƒ‘ãƒ³ã§ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã®ã§ã€å¤§ããªæ‰‹æˆ»ã‚ŠãŒå°‘ãªã„ ã‚¹ã‚¯ãƒ©ãƒ ã§ç™»å ´ã™ã‚‹ãƒ­ãƒ¼ãƒ«ï¼ˆå½¹å‰²ï¼‰ ã‚ãã¾ã§ãƒ†ãƒ³ãƒ—ãƒ¬ã®å†…å®¹ã‚’ç´¹ä»‹\nè‡ªåˆ†ã®ãƒãƒ¼ãƒ ã«åˆã‚ã›ã¦å¤‰ãˆã¦OKï¼ˆã‚€ã—ã‚ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ãŒé‡è¦ï¼‰\nãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼ï¼ˆPOï¼‰ å½¹å‰²\nãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã«è²¬ä»»ã‚’æŒã¤ ãƒªãƒªãƒ¼ã‚¹åˆ¤æ–­ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ å„ªå…ˆåº¦ã®åˆ¤æ–­å½¹ æ±‚ã‚ã‚‰ã‚Œã‚‹åŠ›\næƒ…å ±ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆï¼ˆè¦‹ãˆã‚‹åŒ–ã€é€æ˜æ€§ï¼‰ â†’ å®Ÿç¾ã—ãŸã„ã“ã¨ã‚’ã¡ã‚ƒã‚“ã¨ä¼ãˆã‚‹åŠ› ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ãƒãƒ¼ãƒ ã‚’ç¹‹ããƒãƒ–å½¹ ã‚¹ã‚¯ãƒ©ãƒ ãƒã‚¹ã‚¿ãƒ¼ï¼ˆSMï¼‰ å½¹å‰²\nã‚¹ã‚¯ãƒ©ãƒ é–‹ç™ºã«é–¢ã‚ã‚‹å…¨ã¦ã®äººã‚’æ”¯æ´ã—ã€æˆåŠŸã«å°ã POã®ãƒ“ã‚¸ãƒã‚¹çš„ãªç›¸è«‡ã‚’å—ã‘ãŸã‚Šã€é–‹ç™ºãƒãƒ¼ãƒ ã®æŠ€è¡“çš„ãªç›¸è«‡ã‚’å—ã‘ãŸã‚Š ãªã©ãªã© ã‚¹ã‚¯ãƒ©ãƒ ã®ç†è«–ã‚„ä¾¡å€¤ã‚’é–¢ä¿‚è€…å…¨å“¡ã«æ•™ãˆã€ç†è§£ã—ã¦ã‚‚ã‚‰ã† é–‹ç™ºãƒãƒ¼ãƒ ã¸ã®éšœå®³ã‚„å¤–éƒ¨å¹²æ¸‰ã‚’å–ã‚Šé™¤ãã€é˜²ã æ±‚ã‚ã‚‰ã‚Œã‚‹åŠ›\nã‚µãƒ¼ãƒ´ã‚¡ãƒ³ãƒˆãƒªãƒ¼ãƒ€ã‚·ãƒƒãƒ—ï¼ˆå¥‰ä»•å‹ãƒªãƒ¼ãƒ€ãƒ¼ï¼‰ ä¸‹ã‹ã‚‰ã¿ã‚“ãªã‚’æŒã¡ä¸Šã’ã‚‹ã‚ˆã†ãªãƒªãƒ¼ãƒ€ãƒ¼ ç†è§£ã¨å®Ÿè¡Œã®è©±ã¥ãã‚Šã¨è‰¯ããƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼ SMãŒé–‹ç™ºã«åŠ ã‚ã‚‹ã®ã¯OKï¼Ÿ\nãƒãƒ¼ãƒ ãŒè‰¯ã—ã¨ã™ã‚‹ãªã‚‰ã°OKã€‚\nã¯ã˜ã‚ã‹ã‚‰å‚åŠ ã™ã‚‹ã“ã¨ã¯åŸºæœ¬çš„ã«ãªã„ã€‚\né–‹ç™ºãƒãƒ¼ãƒ  å½¹å‰²\nå…·ä½“çš„ãªé–‹ç™ºã‚’é‚è¡Œ ãƒªãƒªãƒ¼ã‚¹å¯èƒ½ãªãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã‚¢ã‚¤ãƒ†ãƒ ã‚’å®Œæˆã•ã›ã‚‹ ä½•ã‚’ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹æ±ºå®šã™ã‚‹ï¼ˆPOã¯å®Ÿç¾ã—ãŸã„ã‚‚ã®ã‚’è¨€ã†ãŒã€ã©ã†ã‚„ã£ã¦ä½œã‚Šä¸Šã’ã‚‹ã‹ã¯é–‹ç™ºãƒãƒ¼ãƒ ã«å§”ã­ã‚‹ï¼‰ æ±‚ã‚ã‚‰ã‚Œã‚‹åŠ›\nä¸»ä½“æ€§ã¨å”èª¿æ€§ï¼ˆãŸã ä½œã‚‹ã ã‘ã®å­˜åœ¨ã«ãªã‚‰ãªã„ï¼‰ â†’ å—æ³¨ä½“è³ªã¯ã ã‚ ä»®èª¬ã‚„çŸ¥è­˜ã‚’ç†è§£ã—ã€ã‚µãƒ¼ãƒ“ã‚¹ä¾¡å€¤å‘ä¸Šã®æ–½ç­–ã‚’ç«‹æ¡ˆã™ã‚‹ é–¢ä¿‚å›³ ãƒ©ãƒ³ãƒ€ãƒ ãƒ­ãƒ¼ãƒ«ã£ã¦ã†ã¾ãã„ãï¼Ÿ\nãƒ©ãƒ³ãƒ€ãƒ ãƒ­ãƒ¼ãƒ«ï¼šSMãŒãŠã‚‰ãšã€ã‚¹ãƒ—ãƒªãƒ³ãƒˆã”ã¨ã«ãƒ©ãƒ³ãƒ€ãƒ ã«ãƒ­ãƒ¼ãƒ«ã‚’æ±ºå®šã™ã‚‹ã“ã¨\nãƒ©ãƒ³ãƒ€ãƒ ãƒ­ãƒ¼ãƒ«ã¯é›£ã—ã„ã€‚å„ãƒ­ãƒ¼ãƒ«ã‚’ç†è§£ãŒå‡ºæ¥ã¦ã„ã‚‹ã“ã¨ãŒé‡è¦ã€‚\nå…¨å“¡ãŒã€Œãƒ­ãƒ¼ãƒ«ã®å½¹å‰²ã‚’ãƒãƒ¼ãƒ å†…ã§åˆæ„ã§ãã¦ã„ã‚‹çŠ¶æ…‹ã€ã«ãªã£ã¦ã„ã‚‹ã“ã¨ãŒé‡è¦ã€‚\nè¦‹åˆ‡ã‚Šç™ºè»Šã¯å±é™ºã€‚ãƒãƒ¼ãƒ ãŒæˆç†Ÿã—ã¦ã„ã‚‹ã¨ã†ã¾ãã„ããã†ã€‚\nã‚¹ã‚¯ãƒ©ãƒ ã¯ã€Œã‚¤ãƒ™ãƒ³ãƒˆã€ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ å®šç¾© ã‚¤ãƒ™ãƒ³ãƒˆã¨ã¯ã‚¹ãƒ—ãƒªãƒ³ãƒˆå†…ã«è¦å‰‡æ€§ã‚’ä½œã‚Šå‡ºã™ãŸã‚ã®ã‚¿ã‚¤ãƒ ãƒœãƒƒã‚¯ã‚¹ã®ã“ã¨\nâ†’ å®šç¾©ã•ã‚Œã¦ã„ãªã„MTGã®å¿…è¦æ€§ã‚’æœ€å°é™ã«ã§ãã‚‹\nç›®çš„ é€²ã‚€ã¹ãæ–¹å‘ãŒé–“é•ã£ã¦ã„ãªã„ã‹ã‚’ç¢ºèªã™ã‚‹\nã‚¤ãƒ™ãƒ³ãƒˆã®ç¨®é¡ ä»¥ä¸‹5ã¤ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚‹ã€‚\n1. ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚° é”æˆã§ãã‚‹ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã‚¢ã‚¤ãƒ†ãƒ ã‚’ç´„æŸã™ã‚‹\né–‹ç™ºãƒãƒ¼ãƒ ã¨SMã§ã‚„ã‚Šã€POã«å ±å‘Šã™ã‚‹\nä½•ã‚’ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹ã€ã©ã†ã„ã†çŠ¶æ…‹ã‚’ã‚´ãƒ¼ãƒ«ã¨ã™ã‚‹ã‹æ±ºå®šã™ã‚‹\nãƒãƒ¼ãƒ å…¨å“¡ãŒåŒæ„ã—ã¦ã„ã‚‹ã“ã¨ãŒå¤§äº‹\näºŒéƒ¨åˆ¶ã§å®Ÿæ–½\nç¬¬ä¸€éƒ¨ï¼šä½•ã‚’ä½œã‚‹ã‹ æ¤œè¨ ã©ã®ãã‚‰ã„ã§ãã‚‹ã‹ ã©ã‚Œã‚’ã‚„ã‚‹ã‹ ç¬¬äºŒéƒ¨ï¼šã©ã†ä½œã‚‹ã‹ æ¤œè¨ 2. ãƒ‡ã‚¤ãƒªãƒ¼ã‚¹ã‚¯ãƒ©ãƒ  é–‹ç™ºãƒãƒ¼ãƒ ãŒæ¯æ—¥ã‚„ã‚‹çŸ­ã„æ‰“ã¡åˆã‚ã›\n15åˆ†ä»¥ä¸Šã‚„ã£ã¦ã¯ã„ã‘ãªã„ ã‚¹ãƒ—ãƒªãƒ³ãƒˆã‚´ãƒ¼ãƒ«ã¨ãƒãƒƒã‚¯ãƒ­ã‚°ã®é€²æ—ã®æ¤œæŸ»ã‚’è¡Œã†\nç¾åœ¨ã®ã‚¹ãƒ—ãƒªãƒ³ãƒˆçµ‚äº†ã¾ã§ã«æœŸå¾…ã•ã‚Œã‚‹æˆæœç‰©ã‚’ä½œæˆã§ãã‚‹ã®ã‹æ¯æ—¥æŠŠæ¡ã—ãªã‘ã‚Œã°ã„ã‘ãªã„\nå†…å®¹ã¯é–‹ç™ºãƒãƒ¼ãƒ ãŒè¨­å®šã—ã€è³ªå•ãƒ™ãƒ¼ã‚¹ã§ä¼šè©±ã—ãŸã‚Šã€è­°è«–ãƒ™ãƒ¼ã‚¹ã§ä¼šè©±ã—ã¦ã‚‚ã‚ˆã„\nPOã¨SMã¯å‚åŠ ã—ãªã„\nå‚åŠ ã™ã‚‹ã¨ã€é–‹ç™ºãƒãƒ¼ãƒ ã‹ã‚‰POã€SMã«å ±å‘Šã™ã‚‹å ´ã«ãªã£ã¦ã—ã¾ã†ã‹ã‚‰ã€é–‹ç™ºãƒãƒ¼ãƒ å†…ã§ã®è­°è«–ãŒå¼¾ã¾ãªããªã‚‹ã€‚ ãŸã ã—ã€ã‚¹ã‚¯ãƒ©ãƒ åˆå¿ƒè€…ã®ãƒãƒ¼ãƒ ã«é–¢ã—ã¦ã¯SMãŒãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦å‚åŠ ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚ ãƒ‡ã‚¤ãƒªãƒ¼ã‚¹ã‚¯ãƒ©ãƒ ã¯å•é¡Œè§£æ±ºã®å ´ã§ã¯ãªã„\nã“ã®å ´ã§ã¯ã€Œã“ã†ã„ã†å•é¡ŒãŒç™ºç”Ÿã—ãŸã€ã¨ã„ã†éšœå®³ã¨ãªã‚‹äº‹æŸ„ã‚’ä¼ãˆã‚‹ã ã‘ã«ã™ã‚‹ï¼ˆãã®å¾Œå½“äº‹è€…ã‚’é›†ã‚ãŸã‚Šã—ãŸã‚‰ã„ã„ï¼‰ 3. ãƒªãƒ•ã‚¡ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆ POã«ã‚ˆã‚‹ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã‚¢ã‚¤ãƒ†ãƒ ã®è©³ç´°åŒ–ã¨å„ªå…ˆé †ä½ã®è¦‹ç›´ã—ã‚„èª¿æ•´ã‚’è¡Œã†\nPOã¨é–‹ç™ºãƒãƒ¼ãƒ ãŒå‚åŠ ã—ã€ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚„ã‚µãƒ¼ãƒ“ã‚¹ãƒ“ã‚¸ãƒ§ãƒ³ã‹ã‚‰ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã‚¢ã‚¤ãƒ†ãƒ ã®ä½œæˆã™ã‚‹\næ–°ã—ãå¢—ãˆãŸãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã‚¢ã‚¤ãƒ†ãƒ ã®å„ªå…ˆåº¦è¦‹ç›´ã—ã¦ã€å…¨ä½“ã®ä¸¦ã³æ›¿ãˆã‚’è¡Œã† æ™‚é–“ã¯æœªå®šã§ã€ãƒãƒ¼ãƒ ã§æ±ºã‚ã‚‹\n4. ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ ã‚¹ã‚¯ãƒ©ãƒ ãƒãƒ¼ãƒ ã¨ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ãŒå¼·åŠ›ã—ã€æˆæœç‰©ã®æ¤œæŸ»ãƒ»é©å¿œã‚’ã™ã‚‹\né–‹ç™ºãƒãƒ¼ãƒ ãŒPOã¨ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã«å¯¾ã—ã¦ã€å®Œäº†ã—ãŸæˆæœç‰©ã®ãƒ‡ãƒ¢ã‚’è¡Œã„ã€ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ è€…ã‹ã‚‰ã®è³ªå•ã«ç­”ãˆã‚‹\nãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã‹ã©ã†ã‹POã®åˆ¤æ–­ã«ä¸€ä»»ã•ã‚Œã€ãã“ã§å‡ºãŸä¸å…·åˆã‚„æ–°ãŸãªè¦æ±‚ã¯ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã«è¿½åŠ ã•ã‚Œã‚‹\nå¤§äº‹ãªã“ã¨ã¯å‹•ãã‚‚ã®ã‚’è¦‹ã›ã‚‹ã“ã¨ã€‚ãã—ã¦ã€ç´ ç›´ã«è©±ã™ã“ã¨ï¼ˆæ©Ÿèƒ½æ”¹å–„ãªã©ã«ã¤ã„ã¦æ€ã£ãŸã“ã¨ã‚’ç´ ç›´ã«è©±ã™ï¼‰\n5. ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ– æ—¥æœ¬èªã«ã™ã‚‹ã¨ã€ŒæŒ¯ã‚Šè¿”ã‚Šã€\nã‚¹ãƒ—ãƒªãƒ³ãƒˆã®æ¤œæŸ»ã‚’è¡Œã„ã€æ”¹å–„è¨ˆç”»ã‚’ç«‹ã¦ã‚‹\nåçœä¼šã§ã¯ãªã„ã“ã¨ã‚’æ„è­˜ã™ã‚‹ã€‚\nåçœä¼šï¼šæ‚ªã‹ã£ãŸã“ã¨ã‚’è¨€ã†ã ã‘ã§ã€æ¬¡ã®è¡Œå‹•ã‚’æ±ºã‚ãªã„çŠ¶æ³ ä¼šè©±ã‹ã‚‰å‡ºãŸé …ç›®ã«é–¢ã—ã¦ã€ãã®çµæœã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ´—ã„å‡ºã—ã€æ¬¡å›ã®ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã«å«ã‚ãªã‘ã‚Œã°ã„ã‘ãªã„ã€‚\nã‚¹ã‚¯ãƒ©ãƒ ã«ãŠã‘ã‚‹æˆæœç‰©ã¨ã¯ ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ï¼ˆPBLï¼‰ å®šç¾© å„ªå…ˆé †ä½ãŒæ±ºã‚ã‚‰ã‚ŒãŸè¦æ±‚äº‹é …ï¼ˆãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆPBLIï¼‰ï¼‰ãŒé›†ã¾ã£ã¦ä¸€è¦§åŒ–ã•ã‚ŒãŸã‚‚ã®\nè²¬ä»»è€… POãŒè²¬ä»»ã‚’æŒã¤\nãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« â˜…èª¿ã¹ã¦è¿½è¨˜ã™ã‚‹äºˆå®š\nã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ï¼ˆSBLï¼‰ å®šç¾© ã‚¹ãƒ—ãƒªãƒ³ãƒˆã«ãŠã‘ã‚‹é–‹ç™ºãƒãƒ¼ãƒ ã®ã—ã”ã¨ã‚’å®šç¾©ã—ãŸã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ\nè²¬ä»»è€… é–‹ç™ºãƒãƒ¼ãƒ ãŒè²¬ä»»ã‚’æŒã¤\nãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« ã‚¹ãƒ—ãƒªãƒ³ãƒˆã®é–“ã ã‘å­˜åœ¨ã™ã‚‹ï¼ˆã‚¹ãƒ—ãƒªãƒ³ãƒˆã”ã¨ã«æ›´æ–°ã•ã‚Œã‚‹ï¼‰\nã¾ã¨ã‚ ã‚¹ã‚¯ãƒ©ãƒ ã¯ã‚ãã¾ã§ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ã€‚\néŠ€ã®å¼¾ä¸¸ã§ã¯ãªã„ã€‚\n","ref":"/blog/scrum_entry/"},{"title":"ã€Terraform + ECS + RDSã€‘Terraform ã§ ECSç’°å¢ƒæ§‹ç¯‰ã—ã¦ã¿ãŸ","date":"","description":"","body":"Terraform ã¨ã¯ æœ€è¿‘æµè¡Œã‚Šã® IaC ã§ã™ã€‚\nã¤ã¾ã‚Šã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ã‚¤ãƒ³ãƒ•ãƒ©ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\nä¸­ã§ã‚‚Terraform ã¯ã‚¯ãƒ©ã‚¦ãƒ‰ã«ç‰¹åŒ–ã—ãŸ IaC ãƒ„ãƒ¼ãƒ«ã¨ã„ã†ç«‹ã¡ä½ç½®ã§ã™ã€‚\nAWSã‚„GCP, Azure ãªã©ã®ä»–ã«æ§˜ã€…ãªã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚\nï¼ˆã¡ãªã¿ã«ã€Vagrant é–‹ç™ºå…ƒã® HashiCorp ç¤¾ãŒé–‹ç™ºã—ã¦ã„ã¾ã™ï¼‰\nä»Šå›ã‚„ã‚‹ã“ã¨ Terraform ã§ AWS ä¸Šã«ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒã‚’è‡ªå‹•æ§‹ç¯‰ã—ã¾ã™ã€‚\nECS ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¯ ECR ã‹ã‚‰å¼•ã£å¼µã£ã¦ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nãã—ã¦ã€ãã®ã‚µãƒ¼ãƒ“ã‚¹ã¯ Aurora ã‚’ä½¿ã†ã‚·ã‚¹ãƒ†ãƒ ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚\nã€âš æ³¨æ„âš ã€‘ä¸Šè¨˜æ§‹æˆã¯ãŠé‡‘ãŒç™ºç”Ÿã—ã¾ã™ï¼ ã¾ã£ãŸãã‚‚ã£ã¦ç„¡æ–™æ ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼\nã€âš æ³¨æ„âš ã€‘ä»Šå›ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€ãƒ‰ãƒ¡ã‚¤ãƒ³å–å¾—ã«é–¢ã—ã¦ã¯çœç•¥ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›ã‚„ã‚‹å†…å®¹ã¯â€¦ åƒ•ãŒæ‰€å±ã™ã‚‹ä¼šç¤¾ã®ç ”ä¿®è³‡æ–™ã‚’å‚è€ƒã«é€²ã‚ã¦ã„ã¾ã™ã€‚\nè³‡æ–™ã‚’ä½œæˆã—ã¦ãã ã•ã£ãŸ@_y_ohgi ã•ã‚“ã«æ„Ÿè¬ã€‚\nè‡ªå‹•æ§‹ç¯‰ãƒ—ãƒ­ã‚»ã‚¹å…¨ä½“ã§ä½¿ç”¨ã™ã‚‹å…±é€šè¨­å®šã‚’å®šç¾© ã¾ãšã€ main.tf ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®ã¨ãŠã‚Šå…±é€šè¨­å®šã‚’å®šç¾©ã—ã¦ã„ãã¾ã™ã€‚\n# AWS ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’æ˜ç¤º provider \u0026quot;aws\u0026quot; { # ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨­å®š region = \u0026quot;ap-northeast-1\u0026quot; } # ã“ã‚Œã‹ã‚‰ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã«ä»˜ä¸ã™ã‚‹åå‰ã®ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’è¨­å®š # ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°çš„ãªç«‹ã¡ä½ç½®ã§å®šç¾© variable \u0026quot;prefix\u0026quot; { default = \u0026quot;sample-project\u0026quot; } provider ã§ä½¿ç”¨ã™ã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nvariable ã¯å¤‰æ•°å®šç¾©ã§ã™ã€‚\n${var.prefix} ã¨æ›¸ãã“ã¨ã§ default ã§æŒ‡å®šã—ãŸå†…å®¹ãŒå±•é–‹ã•ã‚Œã¾ã™ã€‚\nï¼ˆæ¬¡ã®å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚å¤‰æ•°ãŒå‡ºã¦ãã‚‹ã®ã§ã€ãã“ã§ä½¿ã„ã‹ãŸã‚’è¦‹ã¦ã¿ã¦ãã ã•ã„ã€‚ï¼‰\nãªãŠã€å¤‰æ•°å®šç¾©ã‚’åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ‡ã‚Šå‡ºã™æ–¹æ³•ã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ãŒã€ä»Šå›ã¯ã‚„ã‚Šã¾ã›ã‚“ã€‚\nåˆ‡ã‚Šå‡ºã™æ–¹æ³•ã¯ã“ã¡ã‚‰ ãŒå‚è€ƒã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚\nRoute53 ã®è¨­å®š route53_acm.tf ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®ã¨ãŠã‚Šå®šç¾©ã—ã¾ã™ã€‚\nå†…éƒ¨ã§ ACM ã«é–¢ã™ã‚‹å®šç¾©ã‚‚è¡Œã£ã¦ã„ã¾ã™ã€‚\nä»¥é™ã€ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ä¾å­˜ã—ãªã„è¨­å®šã«é–¢ã—ã¦ã¯ã€è§£èª¬ã€‘ã‚³ãƒ¡ãƒ³ãƒˆã§è§£èª¬ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚\nå„ resource ã®å®šç¾©å†…å®¹ã«é–¢ã—ã¦ã¯ ã‚³ãƒ¡ãƒ³ãƒˆã«ã‚ã‚‹URLã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nè‹±èªã§ã¯ã‚ã‚Šã¾ã™ãŒã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ãŒã¨ã¦ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã„ã§ã™\n# ãƒ‰ãƒ¡ã‚¤ãƒ³åã®è¨­å®š variable \u0026quot;domain\u0026quot; { description = \u0026quot;ã€ŒRoute53ã§ç®¡ç†ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ ãªã©ã®èª¬æ˜æ–‡\u0026quot; type = \u0026quot;string\u0026quot; # ã¿ãªã•ã‚“ãŒæŒã¤ãƒ‰ãƒ¡ã‚¤ãƒ³åã«ã—ã¦ãã ã•ã„ default = \u0026quot;example.com\u0026quot; } # Route53 Hosted Zone # https://www.terraform.io/docs/providers/aws/d/route53_zone.html # ã€è§£èª¬ã€‘data ã§å§‹ã¾ã£ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯èª­ã¿å–ã‚Šå°‚ç”¨ã®ãƒªã‚½ãƒ¼ã‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚ # ã™ã§ã«ã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã«å­˜åœ¨ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®å€¤ã‚’å‚ç…§ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚ data \u0026quot;aws_route53_zone\u0026quot; \u0026quot;main\u0026quot; { name = \u0026quot;${var.domain}\u0026quot; # å¤‰æ•°ã‚’å±•é–‹ã—ã¦ã„ã‚‹ã¨ã“ã‚ã€ã“ã“ã§ã™ private_zone = false } # ACM # https://www.terraform.io/docs/providers/aws/r/acm_certificate.html # ã€è§£èª¬ã€‘resource ã¯ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹å ´æ‰€ã§ã™ã€‚ resource \u0026quot;aws_acm_certificate\u0026quot; \u0026quot;main\u0026quot; { domain_name = \u0026quot;${var.domain}\u0026quot; validation_method = \u0026quot;DNS\u0026quot; lifecycle { create_before_destroy = true } } # Route53 record # ACMã«ã‚ˆã‚‹æ¤œè¨¼ç”¨ãƒ¬ã‚³ãƒ¼ãƒ‰ # https://www.terraform.io/docs/providers/aws/r/route53_record.html resource \u0026quot;aws_route53_record\u0026quot; \u0026quot;validation\u0026quot; { depends_on = [\u0026quot;aws_acm_certificate.main\u0026quot;] zone_id = \u0026quot;${data.aws_route53_zone.main.id}\u0026quot; ttl = 60 name = \u0026quot;${aws_acm_certificate.main.domain_validation_options.0.resource_record_name}\u0026quot; type = \u0026quot;${aws_acm_certificate.main.domain_validation_options.0.resource_record_type}\u0026quot; records = [\u0026quot;${aws_acm_certificate.main.domain_validation_options.0.resource_record_value}\u0026quot;] } # ACM Validate # https://www.terraform.io/docs/providers/aws/r/acm_certificate_validation.html resource \u0026quot;aws_acm_certificate_validation\u0026quot; \u0026quot;main\u0026quot; { certificate_arn = \u0026quot;${aws_acm_certificate.main.arn}\u0026quot; validation_record_fqdns = [\u0026quot;${aws_route53_record.validation.0.fqdn}\u0026quot;] } # Route53 record # https://www.terraform.io/docs/providers/aws/r/route53_record.html resource \u0026quot;aws_route53_record\u0026quot; \u0026quot;main\u0026quot; { type = \u0026quot;A\u0026quot; name = \u0026quot;${var.domain}\u0026quot; zone_id = \u0026quot;${data.aws_route53_zone.main.id}\u0026quot; alias = { name = \u0026quot;${aws_lb.main.dns_name}\u0026quot; zone_id = \u0026quot;${aws_lb.main.zone_id}\u0026quot; evaluate_target_health = true } } # ALB Listener # https://www.terraform.io/docs/providers/aws/r/lb_listener.html resource \u0026quot;aws_lb_listener\u0026quot; \u0026quot;https\u0026quot; { load_balancer_arn = \u0026quot;${aws_lb.main.arn}\u0026quot; certificate_arn = \u0026quot;${aws_acm_certificate.main.arn}\u0026quot; port = \u0026quot;443\u0026quot; protocol = \u0026quot;HTTPS\u0026quot; default_action { type = \u0026quot;forward\u0026quot; target_group_arn = \u0026quot;${aws_lb_target_group.main.id}\u0026quot; } } # ALB Listener Rule # https://www.terraform.io/docs/providers/aws/r/lb_listener_rule.html resource \u0026quot;aws_lb_listener_rule\u0026quot; \u0026quot;http_to_https\u0026quot; { listener_arn = \u0026quot;${aws_lb_listener.main.arn}\u0026quot; priority = 99 action { type = \u0026quot;redirect\u0026quot; redirect { port = \u0026quot;443\u0026quot; protocol = \u0026quot;HTTPS\u0026quot; status_code = \u0026quot;HTTP_301\u0026quot; } } condition { field = \u0026quot;host-header\u0026quot; values = [\u0026quot;${var.domain}\u0026quot;] } } # Security Group Rule # https://www.terraform.io/docs/providers/aws/r/security_group_rule.html resource \u0026quot;aws_security_group_rule\u0026quot; \u0026quot;alb_https\u0026quot; { security_group_id = \u0026quot;${aws_security_group.alb.id}\u0026quot; type = \u0026quot;ingress\u0026quot; from_port = 443 to_port = 443 protocol = \u0026quot;tcp\u0026quot; cidr_blocks = [\u0026quot;0.0.0.0/0\u0026quot;] } VPCã®è¨­å®š vpc.tf ã‚’ä»¥ä¸‹ã®ã¨ãŠã‚Šå®šç¾©ã—ã¾ã™ã€‚\nã“ã“ã§ã€ main.tf ã§å®šç¾©ã—ãŸå¤‰æ•°ãŒå¤§æ´»èºã—ã¾ã™ã€‚\n# VPC # https://www.terraform.io/docs/providers/aws/r/vpc.html resource \u0026quot;aws_vpc\u0026quot; \u0026quot;main\u0026quot; { cidr_block = \u0026quot;10.0.0.0/16\u0026quot; tags = { Name = \u0026quot;${var.prefix}-vpc\u0026quot; } } # Public Subnet # https://www.terraform.io/docs/providers/aws/r/subnet.html resource \u0026quot;aws_subnet\u0026quot; \u0026quot;public_1a\u0026quot; { # å…ˆç¨‹ä½œæˆã—ãŸVPCã‚’å‚ç…§ã—ã€ãã®VPCå†…ã«Subnetã‚’ç«‹ã¦ã‚‹ vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; # Subnetã‚’ä½œæˆã™ã‚‹AZ availability_zone = \u0026quot;ap-northeast-1a\u0026quot; cidr_block = \u0026quot;10.0.1.0/24\u0026quot; tags = { Name = \u0026quot;${var.prefix}-public-1a\u0026quot; } } resource \u0026quot;aws_subnet\u0026quot; \u0026quot;public_1c\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; availability_zone = \u0026quot;ap-northeast-1c\u0026quot; cidr_block = \u0026quot;10.0.2.0/24\u0026quot; tags = { Name = \u0026quot;${var.prefix}-public-1c\u0026quot; } } resource \u0026quot;aws_subnet\u0026quot; \u0026quot;public_1d\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; availability_zone = \u0026quot;ap-northeast-1d\u0026quot; cidr_block = \u0026quot;10.0.3.0/24\u0026quot; tags = { Name = \u0026quot;${var.prefix}-public-1d\u0026quot; } } # Private Subnets resource \u0026quot;aws_subnet\u0026quot; \u0026quot;private_1a\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; availability_zone = \u0026quot;ap-northeast-1a\u0026quot; cidr_block = \u0026quot;10.0.10.0/24\u0026quot; tags = { Name = \u0026quot;${var.prefix}-private-1a\u0026quot; } } resource \u0026quot;aws_subnet\u0026quot; \u0026quot;private_1c\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; availability_zone = \u0026quot;ap-northeast-1c\u0026quot; cidr_block = \u0026quot;10.0.20.0/24\u0026quot; tags = { Name = \u0026quot;${var.prefix}-private-1c\u0026quot; } } resource \u0026quot;aws_subnet\u0026quot; \u0026quot;private_1d\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; availability_zone = \u0026quot;ap-northeast-1d\u0026quot; cidr_block = \u0026quot;10.0.30.0/24\u0026quot; tags = { Name = \u0026quot;${var.prefix}-private-1d\u0026quot; } } # Internet Gateway # https://www.terraform.io/docs/providers/aws/r/internet_gateway.html resource \u0026quot;aws_internet_gateway\u0026quot; \u0026quot;main\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; tags = { Name = \u0026quot;${var.prefix}-igw\u0026quot; } } # Elasti IP # NAT Gateway ã«ã¯1ã¤ã® Elastic IP ãŒå¿…è¦ãªã®ã§ä½œæˆ # https://www.terraform.io/docs/providers/aws/r/eip.html resource \u0026quot;aws_eip\u0026quot; \u0026quot;nat_1a\u0026quot; { vpc = true tags = { Name = \u0026quot;${var.prefix}-eip-for-natgw-1a\u0026quot; } } # NAT Gateway # https://www.terraform.io/docs/providers/aws/r/nat_gateway.html resource \u0026quot;aws_nat_gateway\u0026quot; \u0026quot;nat_1a\u0026quot; { subnet_id = \u0026quot;${aws_subnet.public_1a.id}\u0026quot; # NAT Gatewayã‚’é…ç½®ã™ã‚‹Subnetã‚’æŒ‡å®š allocation_id = \u0026quot;${aws_eip.nat_1a.id}\u0026quot; # ç´ä»˜ã‘ã‚‹Elasti IP tags = { Name = \u0026quot;${var.prefix}-natgw-1a\u0026quot; } } resource \u0026quot;aws_eip\u0026quot; \u0026quot;nat_1c\u0026quot; { vpc = true tags = { Name = \u0026quot;${var.prefix}-eip-for-natgw-1c\u0026quot; } } resource \u0026quot;aws_nat_gateway\u0026quot; \u0026quot;nat_1c\u0026quot; { subnet_id = \u0026quot;${aws_subnet.public_1c.id}\u0026quot; allocation_id = \u0026quot;${aws_eip.nat_1c.id}\u0026quot; tags = { Name = \u0026quot;${var.prefix}-natgw-1c\u0026quot; } } resource \u0026quot;aws_eip\u0026quot; \u0026quot;nat_1d\u0026quot; { vpc = true tags = { Name = \u0026quot;${var.prefix}-eip-for-natgw-1d\u0026quot; } } resource \u0026quot;aws_nat_gateway\u0026quot; \u0026quot;nat_1d\u0026quot; { subnet_id = \u0026quot;${aws_subnet.public_1d.id}\u0026quot; allocation_id = \u0026quot;${aws_eip.nat_1d.id}\u0026quot; tags = { Name = \u0026quot;${var.prefix}-natgw-1d\u0026quot; } } # Route Table # https://www.terraform.io/docs/providers/aws/r/route_table.html resource \u0026quot;aws_route_table\u0026quot; \u0026quot;public\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; tags = { Name = \u0026quot;${var.prefix}-public-route-table\u0026quot; } } # Route # https://www.terraform.io/docs/providers/aws/r/route.html resource \u0026quot;aws_route\u0026quot; \u0026quot;public\u0026quot; { destination_cidr_block = \u0026quot;0.0.0.0/0\u0026quot; route_table_id = \u0026quot;${aws_route_table.public.id}\u0026quot; gateway_id = \u0026quot;${aws_internet_gateway.main.id}\u0026quot; } # Association # https://www.terraform.io/docs/providers/aws/r/route_table_association.html resource \u0026quot;aws_route_table_association\u0026quot; \u0026quot;public_1a\u0026quot; { subnet_id = \u0026quot;${aws_subnet.public_1a.id}\u0026quot; route_table_id = \u0026quot;${aws_route_table.public.id}\u0026quot; } resource \u0026quot;aws_route_table_association\u0026quot; \u0026quot;public_1c\u0026quot; { subnet_id = \u0026quot;${aws_subnet.public_1c.id}\u0026quot; route_table_id = \u0026quot;${aws_route_table.public.id}\u0026quot; } resource \u0026quot;aws_route_table_association\u0026quot; \u0026quot;public_1d\u0026quot; { subnet_id = \u0026quot;${aws_subnet.public_1d.id}\u0026quot; route_table_id = \u0026quot;${aws_route_table.public.id}\u0026quot; } # Route Table (Private) # https://www.terraform.io/docs/providers/aws/r/route_table.html resource \u0026quot;aws_route_table\u0026quot; \u0026quot;private_1a\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; tags = { Name = \u0026quot;${var.prefix}--private-1a\u0026quot; } } resource \u0026quot;aws_route_table\u0026quot; \u0026quot;private_1c\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; tags = { Name = \u0026quot;${var.prefix}--private-1c\u0026quot; } } resource \u0026quot;aws_route_table\u0026quot; \u0026quot;private_1d\u0026quot; { vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; tags = { Name = \u0026quot;${var.prefix}--private-1d\u0026quot; } } # Route (Private) # https://www.terraform.io/docs/providers/aws/r/route.html resource \u0026quot;aws_route\u0026quot; \u0026quot;private_1a\u0026quot; { destination_cidr_block = \u0026quot;0.0.0.0/0\u0026quot; route_table_id = \u0026quot;${aws_route_table.private_1a.id}\u0026quot; nat_gateway_id = \u0026quot;${aws_nat_gateway.nat_1a.id}\u0026quot; } resource \u0026quot;aws_route\u0026quot; \u0026quot;private_1c\u0026quot; { destination_cidr_block = \u0026quot;0.0.0.0/0\u0026quot; route_table_id = \u0026quot;${aws_route_table.private_1c.id}\u0026quot; nat_gateway_id = \u0026quot;${aws_nat_gateway.nat_1c.id}\u0026quot; } resource \u0026quot;aws_route\u0026quot; \u0026quot;private_1d\u0026quot; { destination_cidr_block = \u0026quot;0.0.0.0/0\u0026quot; route_table_id = \u0026quot;${aws_route_table.private_1d.id}\u0026quot; nat_gateway_id = \u0026quot;${aws_nat_gateway.nat_1d.id}\u0026quot; } # Association (Private) # https://www.terraform.io/docs/providers/aws/r/route_table_association.html resource \u0026quot;aws_route_table_association\u0026quot; \u0026quot;private_1a\u0026quot; { subnet_id = \u0026quot;${aws_subnet.private_1a.id}\u0026quot; route_table_id = \u0026quot;${aws_route_table.private_1a.id}\u0026quot; } resource \u0026quot;aws_route_table_association\u0026quot; \u0026quot;private_1c\u0026quot; { subnet_id = \u0026quot;${aws_subnet.private_1c.id}\u0026quot; route_table_id = \u0026quot;${aws_route_table.private_1c.id}\u0026quot; } resource \u0026quot;aws_route_table_association\u0026quot; \u0026quot;private_1d\u0026quot; { subnet_id = \u0026quot;${aws_subnet.private_1d.id}\u0026quot; route_table_id = \u0026quot;${aws_route_table.private_1d.id}\u0026quot; } ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µã®è¨­å®š æ¬¡ã¯ ALB ã®å®šç¾©ã‚’ä½œæˆã—ã¾ã™ã€‚\nalb.tf ã«ä»¥ä¸‹ã®ã¨ãŠã‚Šå®šç¾©ã—ã¾ã™ã€‚\n# SecurityGroup # https://www.terraform.io/docs/providers/aws/r/security_group.html resource \u0026quot;aws_security_group\u0026quot; \u0026quot;alb\u0026quot; { name = \u0026quot;${var.prefix}-alb\u0026quot; description = \u0026quot;${var.prefix} alb\u0026quot; vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ egress { from_port = 0 to_port = 0 protocol = \u0026quot;-1\u0026quot; cidr_blocks = [\u0026quot;0.0.0.0/0\u0026quot;] } tags = { Name = \u0026quot;${var.prefix}-alb\u0026quot; } } # SecurityGroup Rule # https://www.terraform.io/docs/providers/aws/r/security_group.html resource \u0026quot;aws_security_group_rule\u0026quot; \u0026quot;alb_http\u0026quot; { security_group_id = \u0026quot;${aws_security_group.alb.id}\u0026quot; # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã¸ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ type = \u0026quot;ingress\u0026quot; from_port = 80 to_port = 80 protocol = \u0026quot;tcp\u0026quot; cidr_blocks = [\u0026quot;0.0.0.0/0\u0026quot;] } # ALB # https://www.terraform.io/docs/providers/aws/d/lb.html resource \u0026quot;aws_lb\u0026quot; \u0026quot;main\u0026quot; { load_balancer_type = \u0026quot;application\u0026quot; name = \u0026quot;${var.prefix}\u0026quot; security_groups = [\u0026quot;${aws_security_group.alb.id}\u0026quot;] subnets = [\u0026quot;${aws_subnet.public_1a.id}\u0026quot;, \u0026quot;${aws_subnet.public_1c.id}\u0026quot;, \u0026quot;${aws_subnet.public_1d.id}\u0026quot;] } # Listener # https://www.terraform.io/docs/providers/aws/r/lb_listener.html resource \u0026quot;aws_lb_listener\u0026quot; \u0026quot;main\u0026quot; { # HTTPã§ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’å—ã‘ä»˜ã‘ã‚‹ port = \u0026quot;80\u0026quot; protocol = \u0026quot;HTTP\u0026quot; # ALBã®arnã‚’æŒ‡å®šã—ã¾ã™ã€‚ load_balancer_arn = \u0026quot;${aws_lb.main.arn}\u0026quot; # \u0026quot;ok\u0026quot; ã¨ã„ã†å›ºå®šãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¨­å®šã™ã‚‹ default_action { type = \u0026quot;fixed-response\u0026quot; fixed_response { content_type = \u0026quot;text/plain\u0026quot; status_code = \u0026quot;200\u0026quot; message_body = \u0026quot;ok\u0026quot; } } } ECSã®è¨­å®š ecs.tf ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\nresource \u0026quot;aws_iam_role\u0026quot; \u0026quot;ecs_task_execution_role\u0026quot; { name = \u0026quot;ecs_task_execution_role\u0026quot; assume_role_policy = \u0026lt;\u0026lt;EOF { \u0026quot;Version\u0026quot;: \u0026quot;2012-10-17\u0026quot;, \u0026quot;Statement\u0026quot;: [ { \u0026quot;Sid\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;Effect\u0026quot;: \u0026quot;Allow\u0026quot;, \u0026quot;Principal\u0026quot;: { \u0026quot;Service\u0026quot;: [ \u0026quot;ecs-tasks.amazonaws.com\u0026quot; ] }, \u0026quot;Action\u0026quot;: \u0026quot;sts:AssumeRole\u0026quot; } ] } EOF } resource \u0026quot;aws_iam_role_policy_attachment\u0026quot; \u0026quot;ecs-task-execution-policy\u0026quot; { role = \u0026quot;${aws_iam_role.ecs_task_execution_role.name}\u0026quot; policy_arn = \u0026quot;arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy\u0026quot; } resource \u0026quot;aws_iam_role_policy_attachment\u0026quot; \u0026quot;ecr-read-policy\u0026quot; { role = \u0026quot;${aws_iam_role.ecs_task_execution_role.name}\u0026quot; policy_arn = \u0026quot;arn:aws:iam::aws:policy/AmazonSSMReadOnlyAccess\u0026quot; } # Task Definition # https://www.terraform.io/docs/providers/aws/r/ecs_task_definition.html resource \u0026quot;aws_ecs_task_definition\u0026quot; \u0026quot;main\u0026quot; { family = \u0026quot;${var.prefix}\u0026quot; # ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ¼ãƒ³ã®é¸æŠ requires_compatibilities = [\u0026quot;FARGATE\u0026quot;] # ECSã‚¿ã‚¹ã‚¯ãŒä½¿ç”¨å¯èƒ½ãªãƒªã‚½ãƒ¼ã‚¹ã®ä¸Šé™ # ã‚¿ã‚¹ã‚¯å†…ã®ã‚³ãƒ³ãƒ†ãƒŠã¯ã“ã®ä¸Šé™å†…ã«ä½¿ç”¨ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’åã‚ã‚‹å¿…è¦ãŒã‚ã‚Š # ãƒ¡ãƒ¢ãƒªãŒä¸Šé™ã«é”ã—ãŸå ´åˆOOM Killer ã«ã‚¿ã‚¹ã‚¯ãŒã‚­ãƒ«ã•ã‚Œã‚‹ cpu = \u0026quot;256\u0026quot; memory = \u0026quot;512\u0026quot; # ECSã‚¿ã‚¹ã‚¯ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‰ãƒ©ã‚¤ãƒ # Fargateã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯\u0026quot;awsvpc\u0026quot;æ±ºã‚æ‰“ã¡ network_mode = \u0026quot;awsvpc\u0026quot; # ECRã‹ã‚‰Docker Imageã‚’PULLã™ã‚‹ãŸã‚ã®æ¨©é™ execution_role_arn = \u0026quot;${aws_iam_role.ecs_task_execution_role.arn}\u0026quot; # èµ·å‹•ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã®å®šç¾© # ã€è§£èª¬1ã€‘JSONã§ã‚³ãƒ³ãƒ†ãƒŠã‚’å®šç¾©ã—ã¾ã™ # ã€è§£èª¬2ã€‘JSONå†…ã® environment ã§ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™ã€‚ # environment ã§ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ›ã‚¹ãƒˆã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚ # æ©Ÿå¯†æƒ…å ±ï¼ˆæ¬¡ã®é …ç›®ã§è¨­å®šã—ã¾ã™ï¼‰ã¨ã—ã¦ç™»éŒ²ã™ã‚‹ã‹è¿·ã„ã¾ã—ãŸãŒã€ # æ©Ÿå¯†æƒ…å ±ã ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‚’çµŒç”±ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ # æ‰‹å‹•è¨­å®šãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ç’°å¢ƒå¤‰æ•°ã«ã—ã¾ã—ãŸã€‚ # ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã«å…¥ã£ã¦ã‚‹ã®ã§å¤§ä¸ˆå¤«ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ # ã€è§£èª¬3ã€‘JSONå†…ã® secrets ã§æ©Ÿå¯†æƒ…å ±ã‚’è¨­å®šã—ã¾ã™ã€‚ # ä»Šå›ã¯ã‚ˆãä½¿ã„ãã†ãªã‚‚ã®ã‚’é©å½“ã«å®šç¾©ã—ã¾ã—ãŸã€‚ # æ©Ÿå¯†æƒ…å ± ã¯ System Manager ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‹ã‚‰æŒã£ã¦ãã¾ã™ã€‚ container_definitions = \u0026lt;\u0026lt;EOL [ { \u0026quot;name\u0026quot;: \u0026quot;\u0026lt;your repository name\u0026gt;\u0026quot;, \u0026quot;image\u0026quot;: \u0026quot;\u0026lt;your image name\u0026gt;\u0026quot;, \u0026quot;portMappings\u0026quot;: [ { \u0026quot;containerPort\u0026quot;: 8080, \u0026quot;hostPort\u0026quot;: 8080 } ], \u0026quot;environment\u0026quot;: [ { \u0026quot;name\u0026quot;: \u0026quot;MYSQL_HOST\u0026quot;, \u0026quot;value\u0026quot;: \u0026quot;${aws_rds_cluster.this.endpoint}\u0026quot; } ], \u0026quot;secrets\u0026quot;: [ { \u0026quot;name\u0026quot;: \u0026quot;MYSQL_PASSWORD\u0026quot;, \u0026quot;valueFrom\u0026quot;: \u0026quot;arn:aws:ssm:ap-northeast-1:910114278227:parameter/MYSQL_PASSWORD\u0026quot; }, { \u0026quot;name\u0026quot;: \u0026quot;MYSQL_USER\u0026quot;, \u0026quot;valueFrom\u0026quot;: \u0026quot;arn:aws:ssm:ap-northeast-1:910114278227:parameter/MYSQL_USER\u0026quot; }, { \u0026quot;name\u0026quot;: \u0026quot;MYSQL_DATABASE\u0026quot;, \u0026quot;valueFrom\u0026quot;: \u0026quot;arn:aws:ssm:ap-northeast-1:910114278227:parameter/MYSQL_DATABASE\u0026quot; }, { \u0026quot;name\u0026quot;: \u0026quot;AWS_ACCESS_KEY\u0026quot;, \u0026quot;valueFrom\u0026quot;: \u0026quot;arn:aws:ssm:ap-northeast-1:910114278227:parameter/ACCESS_KEY\u0026quot; }, { \u0026quot;name\u0026quot;: \u0026quot;AWS_SECRET_KEY\u0026quot;, \u0026quot;valueFrom\u0026quot;: \u0026quot;arn:aws:ssm:ap-northeast-1:910114278227:parameter/SECRET_KEY\u0026quot; }, { \u0026quot;name\u0026quot;: \u0026quot;S3_BUCKET_NAME\u0026quot;, \u0026quot;valueFrom\u0026quot;: \u0026quot;arn:aws:ssm:ap-northeast-1:910114278227:parameter/S3_BUCKET_NAME\u0026quot; }, { \u0026quot;name\u0026quot;: \u0026quot;AUTH_SECRET\u0026quot;, \u0026quot;valueFrom\u0026quot;: \u0026quot;arn:aws:ssm:ap-northeast-1:910114278227:parameter/AUTH_SECRET\u0026quot; } ] } ] EOL } # ECS Cluster # https://www.terraform.io/docs/providers/aws/r/ecs_cluster.html resource \u0026quot;aws_ecs_cluster\u0026quot; \u0026quot;main\u0026quot; { name = \u0026quot;${var.prefix}\u0026quot; } # ELB Target Group # https://www.terraform.io/docs/providers/aws/r/lb_target_group.html resource \u0026quot;aws_lb_target_group\u0026quot; \u0026quot;main\u0026quot; { name = \u0026quot;${var.prefix}\u0026quot; # ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã™ã‚‹VPC vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; # ALBã‹ã‚‰ECSã‚¿ã‚¹ã‚¯ã®ã‚³ãƒ³ãƒ†ãƒŠã¸ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’æŒ¯ã‚Šåˆ†ã‘ã‚‹è¨­å®š port = 8080 protocol = \u0026quot;HTTP\u0026quot; target_type = \u0026quot;ip\u0026quot; # ã‚³ãƒ³ãƒ†ãƒŠã¸ã®æ­»æ´»ç›£è¦–è¨­å®š health_check = { port = 8080 path = \u0026quot;/health\u0026quot; } } # ALB Listener Rule # https://www.terraform.io/docs/providers/aws/r/lb_listener_rule.html resource \u0026quot;aws_lb_listener_rule\u0026quot; \u0026quot;main\u0026quot; { # ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹ãƒªã‚¹ãƒŠãƒ¼ listener_arn = \u0026quot;${aws_lb_listener.main.arn}\u0026quot; # å—ã‘å–ã£ãŸãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã¸å—ã‘æ¸¡ã™ action { type = \u0026quot;forward\u0026quot; target_group_arn = \u0026quot;${aws_lb_target_group.main.id}\u0026quot; } # ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã¸å—ã‘æ¸¡ã™ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®æ¡ä»¶ condition { field = \u0026quot;path-pattern\u0026quot; values = [\u0026quot;*\u0026quot;] } } # SecurityGroup # https://www.terraform.io/docs/providers/aws/r/security_group.html resource \u0026quot;aws_security_group\u0026quot; \u0026quot;ecs\u0026quot; { name = \u0026quot;${var.prefix}-ecs\u0026quot; description = \u0026quot;${var.prefix} ecs\u0026quot; # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’é…ç½®ã™ã‚‹VPC vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯è¨­å®š # ä»Šå›ã®å ´åˆDockerHubã¸ã®Pullã«ä½¿ç”¨ã™ã‚‹ã€‚ egress { from_port = 0 to_port = 0 protocol = \u0026quot;-1\u0026quot; cidr_blocks = [\u0026quot;0.0.0.0/0\u0026quot;] } tags = { Name = \u0026quot;${var.prefix}-ecs\u0026quot; } } # SecurityGroup Rule # https://www.terraform.io/docs/providers/aws/r/security_group.html resource \u0026quot;aws_security_group_rule\u0026quot; \u0026quot;ecs\u0026quot; { security_group_id = \u0026quot;${aws_security_group.ecs.id}\u0026quot; # ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯è¨­å®š type = \u0026quot;ingress\u0026quot; # TCPã§ã®80ãƒãƒ¼ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ from_port = 80 to_port = 8080 protocol = \u0026quot;tcp\u0026quot; # åŒä¸€VPCå†…ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿è¨±å¯ cidr_blocks = [\u0026quot;10.0.0.0/16\u0026quot;] } # ECS Service # https://www.terraform.io/docs/providers/aws/r/ecs_service.html resource \u0026quot;aws_ecs_service\u0026quot; \u0026quot;main\u0026quot; { name = \u0026quot;${var.prefix}\u0026quot; # ä¾å­˜é–¢ä¿‚ã®è¨˜è¿°ã€‚ # \u0026quot;aws_lb_listener_rule.main\u0026quot; ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆãŒå®Œäº†ã™ã‚‹ã®ã‚’å¾…ã£ã¦ã‹ã‚‰å½“è©²ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆã‚’é–‹å§‹ã™ã‚‹ã€‚ # \u0026quot;depends_on\u0026quot; ã¯ \u0026quot;aws_ecs_service\u0026quot; ãƒªã‚½ãƒ¼ã‚¹å°‚ç”¨ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã¯ãªãã€Terraformã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã®ãŸã‚ä»–ã®\u0026quot;resource\u0026quot;ã§ã‚‚ä½¿ç”¨å¯èƒ½ depends_on = [\u0026quot;aws_lb_listener_rule.main\u0026quot;] # å½“è©²ECSã‚µãƒ¼ãƒ“ã‚¹ã‚’é…ç½®ã™ã‚‹ECSã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®æŒ‡å®š cluster = \u0026quot;${aws_ecs_cluster.main.name}\u0026quot; # ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ¼ãƒ³ã¨ã—ã¦Fargateã‚’ä½¿ç”¨ã™ã‚‹ launch_type = \u0026quot;FARGATE\u0026quot; # ECSã‚¿ã‚¹ã‚¯ã®èµ·å‹•æ•°ã‚’å®šç¾© desired_count = \u0026quot;1\u0026quot; # èµ·å‹•ã™ã‚‹ECSã‚¿ã‚¹ã‚¯ã®ã‚¿ã‚¹ã‚¯å®šç¾© task_definition = \u0026quot;${aws_ecs_task_definition.main.arn}\u0026quot; # ECSã‚¿ã‚¹ã‚¯ã¸è¨­å®šã™ã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è¨­å®š network_configuration = { # ã‚¿ã‚¹ã‚¯ã®èµ·å‹•ã‚’è¨±å¯ã™ã‚‹ã‚µãƒ–ãƒãƒƒãƒˆ subnets = [\u0026quot;${aws_subnet.private_1a.id}\u0026quot;, \u0026quot;${aws_subnet.private_1c.id}\u0026quot;, \u0026quot;${aws_subnet.private_1d.id}\u0026quot;] # ã‚¿ã‚¹ã‚¯ã«ç´ä»˜ã‘ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ— security_groups = [\u0026quot;${aws_security_group.ecs.id}\u0026quot;] } # ECSã‚¿ã‚¹ã‚¯ã®èµ·å‹•å¾Œã«ç´ä»˜ã‘ã‚‹ELBã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ— load_balancer = [ { target_group_arn = \u0026quot;${aws_lb_target_group.main.arn}\u0026quot; container_name = \u0026quot;\u0026lt;your container name\u0026gt;\u0026quot; container_port = \u0026quot;8080\u0026quot; }, ] } æ©Ÿå¯†æƒ…å ±ã‚’æ¸¡ã™ã¨ã“ã‚ã«é–¢ã—ã¦ã¯ ã“ã¡ã‚‰ ã®è¨˜äº‹ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚\næ©Ÿå¯†æƒ…å ±ã¨ã—ã¦è¨­å®šã™ã‚‹å€¤ã¯ System Manager ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«ã‚»ãƒƒãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nRDSã®è¨­å®š æœ€å¾Œã« rds.tf ã‚’ä»¥ä¸‹ã®ã¨ãŠã‚Šå®šç¾©ã—ã¾ã™ã€‚\n# SSM Parameter data source # https://www.terraform.io/docs/providers/aws/d/ssm_parameter.html data \u0026quot;aws_ssm_parameter\u0026quot; \u0026quot;database_name\u0026quot; { name = \u0026quot;MYSQL_DATABASE\u0026quot; } data \u0026quot;aws_ssm_parameter\u0026quot; \u0026quot;database_user\u0026quot; { name = \u0026quot;MYSQL_USER\u0026quot; } data \u0026quot;aws_ssm_parameter\u0026quot; \u0026quot;database_password\u0026quot; { name = \u0026quot;MYSQL_PASSWORD\u0026quot; } # ã€è§£èª¬ã€‘locals ã¯åå‰ã®ã¨ãŠã‚Šãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã§ã™ã€‚ # variables ã ã¨ `${}` å±•é–‹ã§ããªã„ã®ã§ã“ã¡ã‚‰ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚ # ä»–ã«ã‚„ã‚Šæ–¹ãŒã‚ã‚Œã°æ•™ãˆã¦ã»ã—ã„ã§ã™ã€‚ locals { name = \u0026quot;${var.prefix}-rds-mysql\u0026quot; } resource \u0026quot;aws_security_group\u0026quot; \u0026quot;this\u0026quot; { name = \u0026quot;${local.name}\u0026quot; description = \u0026quot;${local.name}\u0026quot; vpc_id = \u0026quot;${aws_vpc.main.id}\u0026quot; egress { from_port = 0 to_port = 0 protocol = \u0026quot;-1\u0026quot; cidr_blocks = [\u0026quot;0.0.0.0/0\u0026quot;] } tags = { Name = \u0026quot;${local.name}\u0026quot; } } resource \u0026quot;aws_security_group_rule\u0026quot; \u0026quot;mysql\u0026quot; { security_group_id = \u0026quot;${aws_security_group.this.id}\u0026quot; type = \u0026quot;ingress\u0026quot; from_port = 3306 to_port = 3306 protocol = \u0026quot;tcp\u0026quot; cidr_blocks = [\u0026quot;10.0.0.0/16\u0026quot;] } resource \u0026quot;aws_db_subnet_group\u0026quot; \u0026quot;this\u0026quot; { name = \u0026quot;${local.name}\u0026quot; description = \u0026quot;${local.name}\u0026quot; subnet_ids = [ \u0026quot;${aws_subnet.private_1a.id}\u0026quot;, \u0026quot;${aws_subnet.private_1c.id}\u0026quot;, \u0026quot;${aws_subnet.private_1d.id}\u0026quot;, ] } # RDS Cluster # https://www.terraform.io/docs/providers/aws/r/rds_cluster.html resource \u0026quot;aws_rds_cluster\u0026quot; \u0026quot;this\u0026quot; { cluster_identifier = \u0026quot;${local.name}\u0026quot; db_subnet_group_name = \u0026quot;${aws_db_subnet_group.this.name}\u0026quot; vpc_security_group_ids = [\u0026quot;${aws_security_group.this.id}\u0026quot;] engine = \u0026quot;aurora-mysql\u0026quot; port = \u0026quot;3306\u0026quot; database_name = \u0026quot;${data.aws_ssm_parameter.database_name.value}\u0026quot; master_username = \u0026quot;${data.aws_ssm_parameter.database_user.value}\u0026quot; master_password = \u0026quot;${data.aws_ssm_parameter.database_password.value}\u0026quot; # RDSã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å‰Šé™¤æ™‚ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã®å–å¾—å¼·åˆ¶ã‚’ç„¡åŠ¹åŒ– skip_final_snapshot = true # ä½¿ç”¨ã™ã‚‹ Parameter Group ã‚’æŒ‡å®š db_cluster_parameter_group_name = \u0026quot;${aws_rds_cluster_parameter_group.this.name}\u0026quot; } # RDS Cluster Instance # https://www.terraform.io/docs/providers/aws/r/rds_cluster_instance.html resource \u0026quot;aws_rds_cluster_instance\u0026quot; \u0026quot;this\u0026quot; { identifier = \u0026quot;${local.name}\u0026quot; cluster_identifier = \u0026quot;${aws_rds_cluster.this.id}\u0026quot; engine = \u0026quot;aurora-mysql\u0026quot; instance_class = \u0026quot;db.t3.small\u0026quot; } # RDS Cluster Parameter Group # https://www.terraform.io/docs/providers/aws/r/rds_cluster_parameter_group.html # æ—¥æœ¬æ™‚é–“ã«å¤‰æ›´ \u0026amp; æ—¥æœ¬èªå¯¾å¿œã®ãŸã‚ã«æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ resource \u0026quot;aws_rds_cluster_parameter_group\u0026quot; \u0026quot;this\u0026quot; { name = \u0026quot;${local.name}\u0026quot; family = \u0026quot;aurora-mysql5.7\u0026quot; parameter { name = \u0026quot;time_zone\u0026quot; value = \u0026quot;Asia/Tokyo\u0026quot; } parameter { name = \u0026quot;character_set_client\u0026quot; value = \u0026quot;utf8mb4\u0026quot; } parameter { name = \u0026quot;character_set_connection\u0026quot; value = \u0026quot;utf8mb4\u0026quot; } parameter { name = \u0026quot;character_set_database\u0026quot; value = \u0026quot;utf8mb4\u0026quot; } parameter { name = \u0026quot;character_set_results\u0026quot; value = \u0026quot;utf8mb4\u0026quot; } parameter { name = \u0026quot;character_set_server\u0026quot; value = \u0026quot;utf8mb4\u0026quot; } } # terraform applyã‚³ãƒãƒ³ãƒ‰å®Œäº†æ™‚ã«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¡¨ç¤º # ã€è§£èª¬ã€‘ã‚‚ã—ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚‚æ©Ÿå¯†æƒ…å ±ã¨ã—ã¦æ‰±ã†ã®ã§ã‚ã‚Œã° # ã“ã“ã§è¡¨ç¤ºã•ã‚ŒãŸã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã«æ ¼ç´ã™ã‚Œã°ã‚ˆã„ã€‚ # ä»Šå›ã¯ç´¹ä»‹ã®ãŸã‚ã«ä½¿ç”¨ã€‚ output \u0026quot;rds_endpoint\u0026quot; { value = \u0026quot;${aws_rds_cluster.this.endpoint}\u0026quot; } ãƒ†ã‚¹ãƒˆ ä¸Šè¨˜ã§ä½œæˆã—ã¦ããŸ tfãƒ•ã‚¡ã‚¤ãƒ«ãŸã¡ã‚’åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ ¼ç´ã—ã€\nãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nAWS_ACCESS_KEY_ID=\u0026lt;your access key\u0026gt; AWS_SECRET_ACCESS_KEY=\u0026lt;your secret access key\u0026gt; terraform apply\nã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã¯ IAM ã‹ã‚‰å–å¾—ã—ã¦ãã ã•ã„ã€‚\nterraform ã‚³ãƒãƒ³ãƒ‰ãŒå…¥ã£ã¦ãªã„äººã¯ brew ã‚„ã‚‰ãªã‚“ã‚„ã‚‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŠé¡˜ã„ã—ã¾ã™ã€‚\nå®Ÿè¡Œã—ã¦ï¼ˆã‹ãªã‚Šæ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ãŒï¼‰ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ï¼\nå‰Šé™¤ã‚‚ã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nAWS_ACCESS_KEY_ID=\u0026lt;your access key\u0026gt; AWS_SECRET_ACCESS_KEY=\u0026lt;your secret access key\u0026gt; terraform destroy\nã“ã¡ã‚‰ã‚‚ã‹ãªã‚Šæ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ãŒã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒªã‚½ãƒ¼ã‚¹ãŒå‰Šé™¤ã•ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚\ntfãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè¡Œé † tfãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰å–å¾—ã—ãŸå€¤ã‚’ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã§ä½¿ç”¨ã™ã‚‹å ´é¢ãŒã‚ã‚Šã¾ã—ãŸã€‚\nã“ã“ã§æ°—ã«ãªã‚‹ã®ãŒ tfãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè¡Œé †ç•ªã§ã™ã€‚\nå®Ÿè¡Œé †ç•ªæ¬¡ç¬¬ã§ã¯ã€å–å¾—ã—ãŸã„å€¤ãŒã¾ã ã§ãã¦ã„ãªã„ã¨ã„ã†ã“ã¨ã‚‚èµ·ã“ã‚Šãã†ã§ã™ã€‚\nã“ã‚Œã«é–¢ã—ã¦ã€çµè«–ã‹ã‚‰è¨€ã†ã¨åƒ•ãŸã¡ãŒé †ç•ªã‚’è€ƒãˆã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\ntfãƒ•ã‚¡ã‚¤ãƒ«ã‚’é©å½“ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«çªã£è¾¼ã‚“ã ã ã‘ã§ã™ãŒã€\nterraform å´ã§ã‚ˆã—ãªã«é †ç•ªã‚’æ±ºã‚ã¦ã‚„ã£ã¦ãã‚Œã¾ã™ã€‚\nã™ã”ã„ã€‚\nã¾ã¨ã‚ Terraformã™ã”ã„ã€‚\nè‡ªå‹•ã§ã“ã“ã¾ã§ã§ãã¦ã—ã¾ã†ã€‚\nã—ã‹ã‚‚ã€ã‚³ãƒ¼ãƒ‰ã§å®šç¾©ã™ã‚‹ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã§ãã‚‹ã€‚\nå·®åˆ†ãƒã‚§ãƒƒã‚¯ã§ãã‚‹ã€‚\nã€Œåˆ†ã‹ã‚‹ã€ã“ã„ã¤å¼·ã„ã€‚ã€\nä»Šå›ã¯ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã—ãŸã ã‘ã§ã™ãŒã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ã¨ã‹ã‚‚ã§ãã‚‹ã‚ˆã†ãªã®ã§ä»Šå¾Œã‚„ã£ã¦ã„ãã¾ã™ã€‚\n","ref":"/blog/terraform_ecs/"},{"title":"ã€Android + Kotlin + Firebaseã€‘Androidã‚¢ãƒ—ãƒªã«ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã‚’å®Ÿè£…ã—ã¦ã¿ãŸ","date":"","description":"","body":"åƒ•ãŒã²ã£ã‹ã‹ã£ãŸå ´æ‰€ã¯ ã€Œã¤ã¾ã¥ããƒã‚¤ãƒ³ãƒˆã€ ã¨ã„ã†ç« ã«ã¾ã¨ã‚ã¦ã„ã‚‹ã®ã§\nãªã«ã‹å›°ã£ãŸã¨ãã¯ãã“ã‚’ä¸€åº¦è¦‹ã¦ã¿ã¦ãã ã•ã„ã€‚\ntl;dr Firebaseä½¿ã£ã¦Androidã‚¢ãƒ—ãƒªã«ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã‚’å®Ÿè£…ã—ãŸ ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§è¡¨ç¤ºæ–¹æ³•ãŒç•°ãªã‚‹ ã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ é–‹ç™ºç’°å¢ƒ macOS Mojave 10.14.4 Android Studio 3.4.1 Gradle 3.4.1 Java 1.8.0_202 Kotlin 1.3.21 Firebaseã«ç™»éŒ² Firebaseã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã¯ç™»éŒ²ãŒå¿…è¦ã§ã™ã€‚\nGoogleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã‚‹æ–¹ãªã‚‰å…¬å¼ã‚µã‚¤ãƒˆ ã‹ã‚‰ç°¡å˜ã«ç™»éŒ²ã§ãã¾ã™\nFirebaseã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç™»éŒ²ãƒšãƒ¼ã‚¸ ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç™»éŒ²ã—ã¾ã™ã€‚\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¯ç‰¹ã«æŒ‡å®šã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã”è‡ªç”±ã«ã©ã†ãã€‚\nã‚¢ãƒ—ãƒªæƒ…å ±ã‚’ç™»éŒ²ã™ã‚‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé¸æŠå¾Œã®ãƒ›ãƒ¼ãƒ ç”»é¢ã‚ˆã‚Š ã€ŒProject Overviewã€ ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚\nç”»é¢ã®æŒ‡ç¤ºã«å¾“ã£ã¦é€²ã‚ã¦ã„ã¦ãã ã•ã„ã€‚\nãƒ‡ãƒãƒƒã‚°ç”¨ã®ç½²åè¨¼æ˜æ›¸ SHA-1 ã®å–å¾—æ–¹æ³• ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ\nMac/Linux\nkeytool -list -v \\ -alias androiddebugkey -keystore ~/.android/debug.keystore Windows\nkeytool -list -v \\ -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›\nãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ android ã§ã™ã€‚\nè¡¨ç¤ºã•ã‚Œã‚‹ SHA-1 ã‚’ãƒ¡ãƒ¢\nã²ã¨ã¨ãŠã‚Šä½œæ¥­ãŒé€²ã‚€ã¨ã€â†“ã“ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nè‡ªåˆ†ã®ç’°å¢ƒã§ã¯ã€ç™»éŒ²ã—ãŸã‚¢ãƒ—ãƒªãŒFirebaseã¨é€šä¿¡ã§ãã¦ã„ã‚‹ã‹ã®ãƒã‚§ãƒƒã‚¯ã«å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã—ãŸã€‚\nã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ã‚‚ã¡ã‚ƒã‚“ã¨é€šä¿¡ã—ã¦ãã‚Œã‚‹ã‹ä¸å®‰ã ã£ãŸã®ã§ã™ãŒå¤§ä¸ˆå¤«ã§ã—ãŸã€‚\nFirebase é–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ  ã‚¢ãƒ—ãƒªæƒ…å ±ã®ç™»éŒ²å·¥ç¨‹ã«ãŠã„ã¦ã€ app/build.gradle ã‚’è§¦ã£ãŸã¨æ€ã„ã¾ã™ãŒã€åŠ ãˆã¦ã€ä»¥ä¸‹ã®è¿½è¨˜ãŒå¿…è¦ã§ã™ã€‚\ndependencies { // ... çœç•¥ implementation 'com.google.firebase:firebase-messaging:18.0.0' } ãƒãƒ¼ã‚¸ãƒ§ãƒ³17.1.0 ä»¥é™ã«é–¢ã—ã¦ã€ ã“ã¡ã‚‰ã®è¨˜äº‹ ã«ã‚ã‚‹ã¨ãŠã‚Šã€å¤§ããªå¤‰æ›´ãŒåŠ ã‚ã£ã¦ã„ã¾ã™ã€‚\næ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚\né€šçŸ¥æ™‚ã®è¦‹ãŸç›®ã®è¨­å®šï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‹•ä½œæ™‚ï¼‰ PUSHé€šçŸ¥ã®è¦‹ãŸç›®ã¯ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¨ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§é•ã„ã¾ã™ã€‚\nãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã®PUSHé€šçŸ¥ã¯è‡ªåˆ†ã®ã‚¢ãƒ—ãƒªã®å‡¦ç†ã‚’é€šã‚Šã¾ã™ãŒã€\nãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã¯ã‚¢ãƒ—ãƒªã§å®šç¾©ã—ãŸå‡¦ç†ã‚’é€šã‚Šã¾ã›ã‚“ã€‚\nã¾ãšã¯ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã®è¦‹ãŸç›®ã‚’è¨­å®šã—ã¦ã„ãã¾ã™ã€‚\nAndroidManifest.xml ã«ä¸‹è¨˜ã®ã¨ãŠã‚Šè¿½è¨˜ã—ã¦ãã ã•ã„ã€‚\n\u0026lt;application // ... çœç•¥ \u0026gt; // ... çœç•¥ \u0026lt;meta-data android:name=\u0026quot;com.google.firebase.messaging.default_notification_channel_id\u0026quot; android:value=\u0026quot;@string/channel_id\u0026quot;/\u0026gt; \u0026lt;meta-data android:name=\u0026quot;com.google.firebase.messaging.default_notification_icon\u0026quot; android:resource=\u0026quot;@drawable/ic_logo\u0026quot; /\u0026gt; \u0026lt;meta-data android:name=\u0026quot;com.google.firebase.messaging.default_notification_color\u0026quot; android:resource=\u0026quot;@color/background\u0026quot; /\u0026gt; // ... çœç•¥ ã“ã“ã§ãƒãƒ£ãƒ³ãƒãƒ«IDã¨é€šçŸ¥ã‚¢ã‚¤ã‚³ãƒ³ã€è‰²ã‚’æ±ºå®šã—ã¾ã™ã€‚\nå„è‡ªã§è‡ªç”±ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚\nãƒãƒ£ãƒ³ãƒãƒ«ID ã¯ Android 8.0ï¼ˆAPI ãƒ¬ãƒ™ãƒ« 26ï¼‰ä»¥é™ã§è¨­å®šãŒå¿…é ˆã¨ãªã‚Šã¾ã—ãŸã€‚\nãƒãƒ£ãƒ³ãƒãƒ«ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»»æ„ã®é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\nå‚è€ƒã‚µã‚¤ãƒˆ â˜… Android 8.0 æœªæº€ã§ã‚ã‚Œã°æ°—ã«ã—ãªãã¦å¤§ä¸ˆå¤«ã§ã™ã€‚\nå‹•ä½œãƒ†ã‚¹ãƒˆ ä»¥ä¸Šã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã®é€šçŸ¥ã¯å—ã‘å–ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\nCloud Messaging ç”»é¢ã«è¡Œãã€ã€ŒSend your first messageã€ã‹ã‚‰é€šçŸ¥ã‚’ä½œæˆã—ã¾ã™ã€‚\né€šçŸ¥ã®ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®šã—ã¾ã™ã€‚\nã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¯è‡ªåˆ†ã®ã‚¢ãƒ—ãƒªã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚\nã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ Now ã§ã™ã€‚\nä»Šå›ã¯ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã¯ãªã«ã‚‚è§¦ã‚Šã¾ã›ã‚“ã€‚\nãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒãƒ£ãƒ³ãƒãƒ«IDã ã‘è¨­å®šã—ã¾ã™ï¼ˆAndroid8.0ä»¥ä¸Šã®äººã®ã¿ï¼‰\nã€Œç¢ºèªã€ \u0026gt; ã€Œå…¬é–‹ã€ ã§é€šçŸ¥ãŒé€ã‚‰ã‚Œã¾ã™ã€‚\nAndroidå´ã§é€šçŸ¥ã‚’å—ã‘å–ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚\næ³¨æ„ã¨ã—ã¦ã¯ã€ç¾çŠ¶ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã®å‡¦ç†ã—ã‹è¨˜è¿°ã—ã¦ã„ãªã„ã®ã§\nã‚¢ãƒ—ãƒªã‚’é–‹ã„ã¦ã„ã‚‹ã¨é€šçŸ¥ã‚’å—ã‘å–ã‚Œã¾ã›ã‚“ã€‚\nã‚¢ãƒ—ãƒªã‚’é–‰ã˜ãŸçŠ¶æ…‹ã§é€šçŸ¥ã‚’é€ã‚Šã¾ã—ã‚‡ã†ã€‚\nã™ã‚‹ã¨â€¦\né€šçŸ¥ãŒæ¥ã¾ã—ãŸã­ï¼ éŸ³ã‚‚ã¤ã„ã¦ã„ã¾ã™ã€‚\n\u0026lt;img src=\u0026quot;https://tech.yyh-gl.dev/img/2019/05/android_push/bar.png\u0026quot; width=\u0026quot;250\u0026quot;\u0026gt; \u0026lt;img src=\u0026quot;https://tech.yyh-gl.dev/img/2019/05/android_push/notification_center.png\u0026quot; width=\u0026quot;250\u0026quot;\u0026gt; ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã«ã‚‚ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ï¼ˆé³¥ã®ãƒãƒ¼ã‚¯ã§ã™ï¼‰ã€‚\nã§ã‚‚ã€ã‚¢ãƒ—ãƒªç«‹ã¡ä¸Šã’ãŸçŠ¶æ…‹ï¼ˆãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰ã ã¨é€šçŸ¥æ¥ãªã„ã§ã™ã‚ˆã­ï¼Ÿ\nè¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\né€šçŸ¥æ™‚ã®è¦‹ãŸç›®ã®è¨­å®šï¼ˆãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‹•ä½œæ™‚ï¼‰ å„è‡ªã®é©å½“ãªå ´æ‰€ã«ä»¥ä¸‹ã® Service ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚\npackage \u0026lt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å\u0026gt; import android.app.Notification import android.app.NotificationChannel import android.app.NotificationManager import android.app.PendingIntent import android.content.Context import android.content.Intent import android.media.RingtoneManager import android.os.Build import androidx.core.app.NotificationCompat import androidx.core.app.NotificationCompat.PRIORITY_MAX import com.google.firebase.messaging.FirebaseMessagingService import com.google.firebase.messaging.RemoteMessage import java.util.* class PushNotificationListenerService: FirebaseMessagingService() { // æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ãŒç”Ÿæˆã•ã‚ŒãŸæ™‚ã®å‡¦ç† // ä¸­ã§ã‚µãƒ¼ãƒã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’é€ä¿¡ã™ã‚‹å‡¦ç†ãªã©ã‚’å®šç¾© override fun onNewToken(p0: String?) { super.onNewToken(p0) // ãƒãƒ£ãƒ³ãƒãƒ«idã‚’è¨­å®š addChannelId() } // é€šçŸ¥ã‚’å—ä¿¡ã—ãŸã¨ãã®å‡¦ç† override fun onMessageReceived(message: RemoteMessage?) { super.onMessageReceived(message) // ä»Šå›ã¯é€šçŸ¥ã‹ã‚‰ã‚¿ã‚¤ãƒˆãƒ«ã¨æœ¬æ–‡ã‚’å–å¾— val title: String = message?.notification?.title.toString() val text: String = message?.notification?.body.toString() // é€šçŸ¥è¡¨ç¤º sendNotification(title, text) } // é€šçŸ¥è¡¨ç¤º ãŠã‚ˆã³ è¦‹ãŸç›®ã®è¨­å®š private fun sendNotification(title: String, text: String) { // é€šçŸ¥ã‚¿ãƒƒãƒ—æ™‚ã«é·ç§»ã™ã‚‹ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’æŒ‡å®š val intent = Intent(this, AllTimelineActivity::class.java) intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP) // ä½•åº¦ã‚‚é·ç§»ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ï¼ˆ1åº¦ã ã‘ï¼ï¼‰ val pendingIntent: PendingIntent = PendingIntent.getActivity(this,0, intent, PendingIntent.FLAG_ONE_SHOT) // é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¨­å®šï¼ˆæ”¹è¡Œè¡¨ç¤ºã«å¯¾å¿œï¼‰ val inboxStyle = NotificationCompat.InboxStyle() val messageArray: List\u0026lt;String\u0026gt; = text.split(\u0026quot;\\n\u0026quot;) for (msg: String in messageArray) { inboxStyle.addLine(msg) } // é€šçŸ¥éŸ³ã®è¨­å®š val defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION) // é€šçŸ¥ã®è¦‹ãŸç›®ã‚’è¨­å®š val notificationBuilder = NotificationCompat.Builder(this, resources.getString(R.string.channel_id)) .setContentTitle(title) .setContentText(text) // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ã‚¤ã‚³ãƒ³ .setSmallIcon(R.drawable.ic_notification_icon) // ä¸Šã§è¨­å®šã—ãŸpendingIntentã‚’è¨­å®š .setContentIntent(pendingIntent) // å„ªå…ˆåº¦ã‚’æœ€å¤§åŒ– .setPriority(PRIORITY_MAX) // é€šçŸ¥éŸ³ã‚’å‡ºã™ã‚ˆã†ã«è¨­å®š .setSound(defaultSoundUri) // é€šçŸ¥ã‚’å®Ÿæ–½ // UUIDã‚’ä»˜ä¸ã™ã‚‹ã“ã¨ã§å„é€šçŸ¥ã‚’ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ– val notificationManager: NotificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager val uuid = UUID.randomUUID().hashCode() notificationManager.notify(uuid, notificationBuilder.build()) // Android 8.0 ä»¥ä¸Šã¯ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®š å¿…é ˆ // strings.xml ã« channel_id ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ if (Build.VERSION.SDK_INT \u0026gt;= Build.VERSION_CODES.O) { notificationBuilder.setChannelId(resources.getString(R.string.channel_id)) } } // ãƒãƒ£ãƒ³ãƒãƒ«ã®è¨­å®š private fun addChannelId() { if (Build.VERSION.SDK_INT \u0026gt;= Build.VERSION_CODES.O) { val manager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager // ãƒ˜ãƒƒãƒ‰ã‚¢ãƒƒãƒ—é€šçŸ¥ã‚’å‡ºã™å ´åˆã¯ãƒãƒ£ãƒ³ãƒãƒ«ã®é‡è¦åº¦ã‚’æœ€å¤§ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ val channel = NotificationChannel( resources.getString(R.string.channel_id), resources.getString(R.string.channel_name), NotificationManager.IMPORTANCE_HIGH ) // ãƒ­ãƒƒã‚¯ç”»é¢ã«ãŠã‘ã‚‹è¡¨ç¤ºãƒ¬ãƒ™ãƒ« channel.lockscreenVisibility = Notification.VISIBILITY_PUBLIC // ãƒãƒ£ãƒ³ãƒãƒ«ç™»éŒ² manager.createNotificationChannel(channel) } } } ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã¯ æœ¬ã‚µã‚¤ãƒˆ ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚\nå¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æƒ…å ±éƒ¨åˆ†ã‚’æ›¸ãæ›ãˆãŸã‚Šã—ã¦ã„ã¾ã™ã€‚\nAndroidManifest ã‚’ä¿®æ­£ â†‘ã§å®Ÿè£…ã—ãŸ Service ã‚’ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã«ç™»éŒ²ã—ã€ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nAndroidManifest.xml ã«ä»¥ä¸‹ã®è¨­å®šã‚’è¿½è¨˜ã—ã¾ã™ã€‚\n\u0026lt;application // ... çœç•¥ \u0026gt; \u0026lt;service android:name=\u0026quot;.PushNotificationListenerService\u0026quot;\u0026gt; \u0026lt;intent-filter\u0026gt; \u0026lt;action android:name=\u0026quot;com.google.firebase.MESSAGING_EVENT\u0026quot; /\u0026gt; \u0026lt;/intent-filter\u0026gt; \u0026lt;/service\u0026gt; // ... çœç•¥ \u0026lt;/application\u0026gt; android:name ã¯å„è‡ªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¨ãƒ•ã‚¡ã‚¤ãƒ«åã«åˆã‚ã›ã¦å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚\nå‹•ä½œãƒ†ã‚¹ãƒˆ ä»¥ä¸Šã§ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã«ãŠã‘ã‚‹é€šçŸ¥ã®è¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸã€‚\né€šçŸ¥ã‚’å—ã‘å–ã‚Œã‚‹ã‹ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã®ãƒ†ã‚¹ãƒˆã¨åŒæ§˜ã®æ‰‹é †ã§ Cloud Messaging ã‹ã‚‰é€šçŸ¥ã‚’é€ã‚Šã¾ã™ã€‚\nã™ã‚‹ã¨â€¦\nç„¡äº‹è¡¨ç¤ºã§ãã¾ã—ãŸã­ï¼\nã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã«ã‚‚ã‚¢ã‚¤ã‚³ãƒ³ãŒå‡ºã¦ã„ã¾ã™ã€‚\nã‚¢ãƒ—ãƒªç”»é¢ã¯è¦‹ã›ã‚Œãªã„ã®ã§éš ã—ã¦ã„ã¾ã™\nã¡ã‚‡ã£ã¨ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãªã®ã‹åˆ†ã‹ã‚Šã¥ã‚‰ã„ã¨æ€ã„ã¾ã™ãŒã€ ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã™ã€‚\nã¤ã¾ã¥ããƒã‚¤ãƒ³ãƒˆ ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¨ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã©ã¡ã‚‰ã«ãŠã„ã¦ã‚‚ã€é€šçŸ¥ãŒã†ã¾ãè¡¨ç¤ºã•ã‚Œãªã„ã¨ããŒã‚ã‚Šã¾ã—ãŸã€‚\nå…·ä½“çš„ã«ã¯\nãã‚‚ãã‚‚é€šçŸ¥ãŒã“ãªã„ ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã«ã¦ç”»é¢ä¸Šéƒ¨ã‹ã‚‰é€šçŸ¥ãŒã´ã“ã£ã¦å‡ºã¦ã“ãªã„ ãªã©ã§ã™ã€‚\nåŸå› ã§ã™ãŒã€åƒ•ã®çµè«–ã¯ ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ãƒ†ã‚¹ãƒˆã—ã¦ã„ãŸã“ã¨ ã§ã™ã€‚\nã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§é€šçŸ¥ã‚’å—ã‘å–ã‚Œãªã„çŠ¶æ³ã«ãŠã„ã¦ã€å®Ÿæ©Ÿã§ã‚‚é€šçŸ¥ã‚’å—ã‘å–ã£ã¦ã¿ãŸã¨ã“ã‚ã€\nå®Ÿæ©Ÿã§ã¯æ­£å¸¸ã«é€šçŸ¥ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\nã¿ãªã•ã‚“ã‚‚ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ã•ã„ã¯ãŠæ°—ã‚’ã¤ã‘ãã ã•ã„ã€‚\nï¼ˆãã‚Œã«ã—ã¦ã‚‚ãªã‚“ã§ç„¡ç†ã ã£ãŸã‚“ã ã‚ã†ã‹â€¦ ã¾ãŸèª¿ã¹ã¦ã¿ã‚ˆã†ï¼‰\nã¾ã¨ã‚ PUSHé€šçŸ¥å®Ÿè£…ã„ã‹ã‹ãŒã ã£ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ\nåƒ•çš„ã«ã¯ã¨ã¦ã‚‚ç°¡å˜ã§é©šãã—ã‹ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nFirebaseã•ã¾ã•ã¾ã§ã™ã­ã€‚\nå®Ÿéš›ã®æ¥­å‹™ã«ä½¿ãˆã‚‹ã‹ã¨è¨€ã‚ã‚Œã‚‹ã¨ã€ã¾ãŸè©±ãŒé•ã£ã¦ãã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã€ã€\nå‚è€ƒã‚µã‚¤ãƒˆ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã€Androidã€‘FCMã‚’ä½¿ã£ãŸpushé€šçŸ¥ã®å®Ÿè£…æ–¹æ³• - æ ªå¼ä¼šç¤¾Villnessï¼ˆãƒ´ã‚£ãƒ«ãƒã‚¹ï¼‰ ","ref":"/blog/android_push/"},{"title":"ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°çµ„ç¹”è«–ã¸ã®æ‹›å¾…ã€‘ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã®æŠ€è¡“","date":"","description":"","body":"æ¦‚è¦ ä»Šå›ã¯ã€åºƒæœ¨ å¤§åœ°ã•ã‚“ãŒæ›¸ã‹ã‚ŒãŸ ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°çµ„ç¹”è«–ã¸ã®æ‹›å¾… ä¸ç¢ºå®Ÿæ€§ã«å‘ãåˆã†æ€è€ƒã¨çµ„ç¹”ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã€ ã¨ã„ã†æœ¬ã‹ã‚‰ã€\n2ç« ã€Œãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã®æŠ€è¡“ã€ã«ã¤ã„ã¦ã¾ã¨ã‚ã¾ã™ã€‚\nï¼ˆåˆæŠ•ç¨¿ã®å†…å®¹ãŒæŠ€è¡“ç³»ã˜ã‚ƒãªãã¦ãƒãƒ¼ãƒ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆç³»ã‹ã‚ˆã¨ã‹è¨€ã‚ãªã„ã§ãã ã•ã„ã­ï¼‰\næœ€åˆã«è¦šãˆã¦ãŠã„ã¦ã»ã—ã„ã“ã¨ ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¯ã€è‡ªå¾‹çš„ãªäººæã‚’è‚²ã‚€ãŸã‚ã«è¡Œã†ã€‚\nãã®ãŸã‚ã«ã€ä¸‹è¨˜3ç‚¹ã®çŠ¶æ…‹ã«ãƒ¡ãƒ³ãƒ†ã‚£è‡ªèº«ã‹ã‚‰ãªã‚Œã‚‹ã‚ˆã†ã«å°ãã€‚\nè‡ªåˆ†ã®æ°—ãŒã¤ã‹ãªã‹ã£ãŸå•é¡Œã«æ°—ãŒã¤ãã‚ˆã†ã«ãªã‚‹ èªçŸ¥ã®æ­ªã¿ã«ã‚ˆã‚‹æ„Ÿæƒ…ã¨å•é¡Œã®ç™’ç€ã‚’åˆ‡ã‚Šé›¢ã›ã‚‹ ç­”ãˆã§ã¯ãªãã€æ¬¡ã®ä¸€æ‰‹ã‚’ç”Ÿã¿å‡ºã™è¡Œå‹•ãŒå–ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ ã“ã‚Œã‚‰ãŒã¨ã¦ã‚‚é‡è¦ã§ã™ã€‚\nä»¥ä¸‹ã„ã‚ã„ã‚ãªè©±ãŒå‡ºã¦ãã¾ã™ãŒã€çµå±€ã¯ä¸Šè¨˜3ç‚¹ã®çŠ¶æ…‹ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®æ–¹æ³•ã§ã™ã€‚\nã“ã“ã‚’ã—ã£ã‹ã‚Šã¨æ„è­˜ã—ã¦èª­ã‚“ã§ã„ãŸã ã‘ã‚Œã°ã€\nã‚ˆã‚Šä¸€å±¤ç†è§£ãŒæ·±ã¾ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nä»¥ä¸‹ã¾ã¨ã‚ ï¼ˆâ˜…ãƒãƒ¼ã‚¯ã¯å€‹äººçš„è§£é‡ˆãƒ»æ„Ÿæƒ³ã§ã™ï¼‰\nãã‚‚ãã‚‚ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¨ã¯ ç›¸æ‰‹ã‚’ä¸Šã‹ã‚‰æŠ¼ã—ä»˜ã‘ã‚‹ã‚ˆã†ãªæ•™è‚²æ–¹æ³•ã§ã¯ãªã„ ç›¸æ‰‹ã®è€ƒãˆæ–¹ã‚’å°‘ã—ãšã¤å¤‰ãˆã‚‹ã“ã¨ã§ã€å•é¡Œè§£æ±ºã®åŠ›ã‚’è‚²ã‚€æ‰‹æ³• å¯¾è©±ã‚’é€šã˜ã¦ã€ä»¥ä¸‹ã®2ç‚¹ã‚’è¡Œã„ã€ç›¸æ‰‹ã‚’æˆé•·ã•ã›ã‚‹ã€‚\næ­ªã‚“ã èªçŸ¥ã‚’è£œæ­£ æ¬¡ã®è¡Œå‹•ã‚’ä¿ƒé€² ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¨èãã¨ã€\nå¤§å­¦ã§ä½•å¹´ã‚‚å­¦ã°ãªã„ã¨èº«ã«ç€ã‘ã‚‰ã‚Œãªã„ã‚ˆã†ãªæŠ€è¡“ã§ã‚ã‚‹ã¨æ€ã„ãŒã¡ã ãŒã€\nä½“å¾—ã™ã‚Œã°ã ã‚Œã§ã‚‚ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚\nã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã«ãŠã‘ã‚‹ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã®é‡è¦æ€§ ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã¯çŸ¥è­˜ãŒå…¨ã¦ã§ã¯ãªã„ ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã§ã¯æŠ€è¡“çš„ãªèª²é¡ŒãŒã‚ˆãå–ã‚Šä¸Šã’ã‚‰ã‚Œã‚‹ãŒã€\næŠ€è¡“çš„ãªèª²é¡Œã¨ã„ã†ã®ã¯å¿ƒç†çš„ãªèª²é¡Œã¨å¯†æ¥ã«é–¢ä¿‚ã—ã¦ã„ã‚‹ã€‚\nä¾‹ãˆã°ã€\nã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã¯ãƒãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ â˜… æŠ€è¡“çš„ãªèª²é¡Œè§£æ±ºã ã‘ã§ãªãã€äººé–“é–¢ä¿‚ã¨ã‹ã‚‚ã‚ã‚‹ã£ã¦ã“ã¨ã‹ãª\nå„å€‹äººã®é–‹ç™ºã«ãŠã‘ã‚‹å•é¡Œè§£æ±ºã¯ã€è‡ªåˆ†è‡ªèº«ã¨ã®å¯¾è©±ã«ã‚ˆã£ã¦åˆ¶å¾¡ã™ã‚‹ã‚‚ã® â˜… è‡ªèº«ã‚’åˆ¶ã™ã‚‚ã®ãŒã‚¨ãƒ©ãƒ¼ã‚’åˆ¶ã™\nä¸Šè¨˜ã®ã‚ˆã†ã«ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã«ã¯å¿ƒç†çš„ãªèª²é¡Œã‚‚å­˜åœ¨ã™ã‚‹ã€‚\nãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–‹ç™ºã§ã¯ ä¸ç¢ºå®Ÿæ€§ã‚’æ’é™¤ã™ã‚‹ ã“ã¨ãŒã¨ã¦ã‚‚é‡è¦ã§ã‚ã‚‹ã€‚\nã—ãŸãŒã£ã¦ã€ä¸ç¢ºå®Ÿæ€§ã®ã²ã¨ã¤ã§ã‚ã‚‹å¿ƒç†çš„ãªèª²é¡Œã¯æ’é™¤ã™ã¹ãå¯¾è±¡ã§ã‚ã‚‹ã€‚\nâ˜… ã ã‹ã‚‰ã€ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ãŒé‡è¦ãªã‚“ã§ã™ã­ã€‚\nãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¯ è‡ªã‚‰è€ƒãˆã‚‹äººæã‚’ä½œã‚‹ ãŸã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ è‡ªç«‹å‹äººæã¨ä¾å­˜å‹äººæ è‡ªã‚‰è€ƒãˆã‚‹äººæã‚’è‡ªç«‹å‹äººæã€ãã†ã§ãªã„äººæã‚’ä¾å­˜å‹äººæã¨ã™ã‚‹ã¨ã€\nãã‚Œãã‚Œä¸‹è¨˜ã®ã‚ˆã†ãªç‰¹å¾´ãŒã‚ã‚‹ã€‚\nè‡ªç«‹å‹äººæ è‡ªã‚‰å•é¡Œã‚’ç™ºè¦‹ã—ã€è§£æ±ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ å•é¡Œã«ã¤ã„ã¦ã€è‡ªåˆ†ã”ã¨ã¨ã—ã¦æ‰ãˆã¦ã„ã‚‹ å•é¡Œã®æ ¹æœ¬çš„åŸå› ã¯è‡ªåˆ†ã«ã‚ã‚‹ã¨è€ƒãˆã‚‹ æ”¹å–„ã®ãŸã‚ã«è¡Œå‹•ã§ãã‚‹ ä¾å­˜å‹äººæ å•é¡Œã‚’ä¸ãˆã‚‰ã‚Œã¦ã‹ã‚‰è€ƒãˆã‚‹ å•é¡Œã¨è§£æ±ºç­–ã‚’æ¸¡ã•ã‚Œã¦ã‹ã‚‰å‹•ã‘ã‚‹ å•é¡Œã®æ ¹æœ¬çš„åŸå› ã¯ä»–äººã«ã‚ã‚‹ã¨è€ƒãˆã‚‹ æ”¹å–„ã®ãŸã‚ã«è¡Œå‹•ã§ããšã€ä»–äººã®ã›ã„ã«ã—ã¦ã—ã¾ã† ä¸¡äººæã®å¢ƒç•Œç·š å¤šãã®äººã¯æ™‚ã«ã¯è‡ªç«‹å‹äººæã€ã—ã‹ã—ã€ã‚ã‚‹å ´é¢ã§ã¯ä¾å­˜å‹äººæã«ãªã£ã¦ã—ã¾ã†ã€‚\nãã‚ŒãŒæ™®é€šã§ã‚ã‚‹ã€‚\nå¤§äº‹ãªã®ã¯ã€ ä¸Šå¸ã¨éƒ¨ä¸‹ã¨ã„ã†é–¢ä¿‚ã«ãŠã‘ã‚‹æœŸå¾…å€¤ã‚’åˆã‚ã›ã¦ãŠãã“ã¨ã€‚\nã¤ã¾ã‚Šã€ä¸Šå¸ãŒ ã€Œã“ã“ã¾ã§ã¯è‡ªå¾‹çš„ã«è€ƒãˆã‚‹ã®ãŒè‡ªåˆ†ã®ä»•äº‹ã ã€ã¨è€ƒãˆã‚‹æœŸå¾…å€¤ã¨ã€\néƒ¨ä¸‹ã®ã€Œã“ã“ã¾ã§ã¯è‡ªå¾‹çš„ã«è€ƒãˆã‚‹ã®ãŒè‡ªåˆ†ã®ä»•äº‹ã ã€ã¨è€ƒãˆã‚‹2ã¤ã®æœŸå¾…å€¤ãŒä¸€è‡´ã•ã›ã¦ãŠãã“ã¨ãŒé‡è¦ã¨ã„ã†ã“ã¨ã€‚\nâ˜… è‡ªåˆ†çš„ã«ã¯ã“ã“ãŒã¨ã¦ã‚‚å¤§äº‹ã ã¨æ€ã£ãŸã€‚å…¨éƒ¨è‡ªå¾‹çš„ã«è€ƒãˆã‚‹ãªã‚“ã¦ç„¡ç†ã ã¨æ€ã†ã€‚äººé–“ã ã‚‚ã®ã€‚ã§ã‚‚ã€ä¸Šå¸ã¨éƒ¨ä¸‹ã€ã•ã‚‰ã«ã¯ä¼æ¥­ã¨ç¤¾å“¡ã®é–¢ä¿‚æ€§ã¯ã“ã®æœŸå¾…å€¤ã‚’åˆã‚ã›ã‚‹ã“ã¨ãŒã¨ã¦ã‚‚é‡è¦ã ã¨æ€ã†ã€‚\nã—ãŸãŒã£ã¦ã€2ã¤ã®æœŸå¾…å€¤ã«å·®ç•°ãŒã‚ã‚‹ã¾ã¾ã«ã€\nä¸Šå¸ã¯éƒ¨ä¸‹ã‚’è‡ªå¾‹çš„ã§ãªã„ã¨åˆ¤æ–­ã™ã‚‹ã®ã¯èª¤ã£ã¦ã„ã‚‹ã—ã€\néƒ¨ä¸‹ã‚‚ä¸Šå¸ã‚’ç†ä¸å°½ãªã“ã¨ã‚’è¨€ã†äººã¨åˆ¤æ–­ã—ã¦ã¯ã„ã‘ãªã„ã€‚\nã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆã‚¾ãƒ¼ãƒ³ äººã¯ä¸ãˆã‚‰ã‚ŒãŸå½¹å‰²ã«å¯¾ã—ã¦ã€è‡ªåˆ†ã®æ€è€ƒã‚’é–‰ã˜ã¦ã—ã¾ã†ã¨ã„ã†ç‰¹å¾´ã‚’æŒã¤ã€‚\nãã—ã¦ã€ä¸ãˆã‚‰ã‚ŒãŸå½¹å‰²ã®ä¸­ã§ã€è‡ªåˆ†è‡ªèº«ãŒå¿ƒåœ°ã‚ˆãã„ã‚‰ã‚Œã‚‹æ€è€ƒã‚„è¡Œå‹•ã®ç¯„å›²ã®ã“ã¨ã‚’\nã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆã‚¾ãƒ¼ãƒ³ã¨ã„ã†ã€‚\nä¾‹ãˆã°ã€ä¸ãˆã‚‰ã‚ŒãŸä»•äº‹ã¯è‡ªå¾‹çš„ã«å®Œç’§ã«ã“ãªã™äººã‚‚ã€\né¸æŒ™ã¯ä»–ã®äººãŒæŠ•ç¥¨ã—ã¦ãã‚Œã‚‹ã‹ã‚‰ã„ã„ã‚„ã¨ä¾å­˜çš„ã«ãªã‚‹ãªã©ã€‚\nâ˜… é›£ã—ã„ã“ã¨ã‚’è¨€ã£ã¦ã„ã‚‹ã‚ˆã†ã«èã“ãˆã‚‹ãŒã€ çµå±€ã®ã¨ã“ã‚ã€è‡ªåˆ†ã®å½¹è·ã‚„å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸã‚¿ã‚¹ã‚¯ã®ç¯„å›²å†…ã®ä»•äº‹ã¯ã—ã£ã‹ã‚Šã¨ã‚„ã‚‹ãŒã€ ç¯„å›²å¤–ã®ã¨ã“ã‚ã«é–¢ã—ã¦ã¯ä¸€åˆ‡ã‚„ã‚‰ãªã„ã€ã£ã¦ã“ã¨ã ã¨æ€ã†ã€‚\näººã¯ã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆã‚¾ãƒ¼ãƒ³ã‚’ãªã‹ãªã‹å¤‰ãˆã‚‹ã“ã¨ãŒã§ããªã„ã€‚\nã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆã‚¾ãƒ¼ãƒ³ãŒå¤‰ã‚ã‚‹ç¬é–“ è‡ªç«‹å‹ â†’ ä¾å­˜å‹ ä¾‹ãˆã°ã€è‡ªå¾‹çš„ã«ã„ã‚ã„ã‚ãªææ¡ˆã‚’ã—ã¦ç†±æ„ã«ç‡ƒãˆã¦ã„ãŸäººãŒã€\nä½•åº¦ã‚‚ææ¡ˆã‚’å´ä¸‹ã•ã‚Œã€ç†±æ„ã‚’å¤±ã„ã€\næœ€çµ‚çš„ã«ä½•ã‚’ã—ã¦ã‚‚ç„¡é§„ã ã¨è€ƒãˆã‚‹ã‚ˆã†ã«ãªã£ãŸçµæœã€\nä¾å­˜å‹äººæã«ãªã‚‹ã“ã¨ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã€‚\nã“ã®ã‚ˆã†ã«è² ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒªã‚µã‚¤ã‚¯ãƒ«ã®çµæœã€\nç”Ÿã¾ã‚Œã¦ã—ã¾ã†ç„¡æ°—åŠ›ã‚’ã€Œå­¦ç¿’æ€§ç„¡æ°—åŠ›ã€ã¨ã„ã†ã€‚\nä¾å­˜å‹ â†’ è‡ªç«‹å‹ é€†ã«ã€è‡ªã‚‰å‹•ã„ãŸçµæœã€è©•ä¾¡ã•ã‚ŒãŸã‚Šã€å‘¨å›²ã‹ã‚‰ã®å°Šæ•¬ã‚’é›†ã‚ã‚‹ãªã©ã€\næ­£ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ä¸­ã«ã€Œè‡ªå¾‹çš„ã«å‹•ãã“ã¨ã¯æ¥½ã—ã„ã€ã¨ã„ã£ãŸæ°—æŒã¡ãŒèŠ½ç”Ÿãˆã€\nè‡ªç«‹å‹äººæã«ãªã‚‹ã“ã¨ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã€‚\nã“ã®ã¨ãæ„Ÿã˜ãŸã€Œè‡ªå¾‹çš„ã«å‹•ãã“ã¨ã¯æ¥½ã—ã„ã€ã¨ã„ã†æ°—æŒã¡ã‚’ã€Œè‡ªå·±åŠ¹åŠ›æ„Ÿã€ã¨ã„ã†ã€‚\nâ˜… ã¤ã¾ã‚Šã€æ­£ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚µã‚¤ã‚¯ãƒ«ãŒã—ã£ã‹ã‚Šã¨å›ã‚Œã°ã€è‡ªç«‹å‹äººæãŒå¢—ãˆã¦ãã‚‹ã®ã‹â€¦ã©ã†ã™ã‚Œã°æ­£ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚µã‚¤ã‚¯ãƒ«ã‚’å›ã›ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã‚“ã ã‚ã†ã€‚\nç„¡æ„è­˜ã«å¯èƒ½æ€§ã‚’ç‹­ã‚ã¦ã—ã¾ã†äººã€… äººã¯èª°ã—ã‚‚è‡ªåˆ†è‡ªèº«ã®æ€è€ƒã®ç¯„å›²ã‚’ç„¡æ„è­˜ã«ç‹­ã‚ã¦ã—ã¾ã„ã€\nãã®çµæœæœ€é©ãªè§£æ±ºç­–ãŒè¦‹ãˆãªããªã£ã¦ã—ã¾ã†ã€‚\nã™ãªã‚ã¡ã€é–‰ã˜ãŸä¸–ç•Œã®ä¸­ã§ã®åˆç†æ€§ï¼ˆé™å®šåˆç†æ€§ï¼‰ã«äººã€…ã¯ç¸›ã‚‰ã‚Œã¦ã„ã‚‹ã€‚\näººã¯é–‰ã˜ãŸä¸–ç•Œã®ä¸­ã§è€ƒãˆã‚‹ã“ã¨ã¯ã€Œå¿ƒåœ°ã‚ˆã„ã€ã¨è€ƒãˆã‚‹ã€‚\nâ˜… ä¸ãˆã‚‰ã‚ŒãŸä»•äº‹ä»¥å¤–ã«å¤‰ã«æ‰‹ã‚’å‡ºã—ãŸã‚‰ã€ã‚„ã£ã‹ã„ã”ã¨ãŒå¢—ãˆã‚‹ã—ã€ ã ã£ãŸã‚‰ã€ä½•ã‚‚ã—ãªã„ã§ãŠã“ã†ã£ã¦ãªã‚‹ã‚ˆã­\nãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã«ã‚ˆã‚‹ä¸–ç•Œï¼ˆå¯èƒ½æ€§ï¼‰ã®æ‹¡å¼µ ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¨ã¯ã€å¯¾è©±ã«ã‚ˆã£ã¦æ€è€ƒã®ç¯„å›²ã‚’é™å®šã™ã‚‹æ ã‚’å–ã‚Šå¤–ã—ã€\nãã®äººãŒè‡ªã‚‰ã®åŠ›ã§å•é¡Œè§£æ±ºã§ãã‚‹ã‚ˆã†ã«ä¿ƒã™æ–¹æ³•ã§ã‚ã‚‹ã€‚\nãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã‚’è¡Œã†äººã¯ã€è‡ªå¾‹çš„ãªæ€è€ƒã‚’è¡Œã†ã“ã¨ã®å¿«æ„Ÿï¼ˆè‡ªå·±åŠ¹åŠ›æ„Ÿï¼‰ãŒã€\nä¾å­˜çš„ãªæ€è€ƒã‚’è¡Œã†å¿«æ„Ÿï¼ˆã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆã‚¾ãƒ¼ãƒ³ï¼‰ã‚’ä¸Šå›ã‚‹ã‚ˆã†ã«å°ãã€‚\nåŠ¹æœçš„ãªãƒ¡ãƒ³ã‚¿ãƒ¼ã¨ãƒ¡ãƒ³ãƒ†ã‚£ã®é–¢ä¿‚æ€§ ãƒ¡ãƒ³ã‚¿ãƒ¼ï¼šãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹äºº\nãƒ¡ãƒ³ãƒ†ã‚£ï¼šãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã‚’å—ã‘ã‚‹äºº\nä»¥ä¸‹ã®3ç‚¹ãŒå®ˆã‚Œã¦ã„ã‚‹ä¸Šã§è¡Œã†ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ãŒæœ€ã‚‚åŠ¹æœçš„\nï¼ˆé ­æ–‡å­—ã‚’ã¨ã£ã¦ HRTï¼ˆãƒãƒ¼ãƒˆï¼‰ã¨å‘¼ã°ã‚Œã‚‹ï¼‰\nè¬™è™šï¼ˆHumilityï¼‰ï¼šãŠäº’ã„ã«å¼±ã•ã‚’è¦‹ã›ã‚‰ã‚Œã‚‹ æ•¬æ„ï¼ˆRespectï¼‰ï¼šãŠäº’ã„ã«æ•¬æ„ã‚’æŒã£ã¦ã„ã‚‹ ä¿¡é ¼ï¼ˆTrustï¼‰ï¼šãŠäº’ã„ã«ãƒ¡ãƒ³ãƒ†ã‚£ï¼ˆè‡ªèº«ï¼‰ã®æˆé•·æœŸå¾…ã‚’ã‚‚ã£ã¦ã„ã‚‹ å½¢ã ã‘ã®ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°åˆ¶åº¦ã¯ä¸è¦ å½¢ã ã‘ã®ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¯ã€\nãƒ¡ãƒ³ã‚¿ãƒ¼ãŒã€Œãªã«ã‹èª²é¡Œã‚’æŒ‡æ‘˜ã™ã‚‹ã€å ´ã«ãªã£ã¦ã—ã¾ã†ã“ã¨ãŒå¤šã„ã€‚\nç†æƒ³ã®ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¯ã€èª²é¡Œã«ä¸€ç·’ã«å‘ãåˆã„æˆé•·ã‚’æ”¯æ´ã™ã‚‹ã¨ã„ã†ã‚³ãƒŸãƒƒãƒˆãŒå¿…è¦ã€‚\nãã‚ŒãŒãƒ¡ãƒ³ãƒ†ã‚£ã«ä¼ã‚ã‚‰ãªã‘ã‚Œã°ã€ãƒ¡ãƒ³ã‚¿ãƒ¼è‡ªä½“ãŒæˆé•·ã‚’é˜»å®³ã™ã‚‹å¯èƒ½æ€§ãŒå‡ºã¦ãã‚‹ã€‚\næˆé•·ã®æ‰‹åŠ©ã‘ã«ãŠã„ã¦é‡è¦ãªã“ã¨ ãƒ¡ãƒ³ã‚¿ãƒ¼ãŒãƒ¡ãƒ³ãƒ†ã‚£ã®æˆé•·ã‚’æ‰‹åŠ©ã‘ã™ã‚‹ãŸã‚ã«ã¯ã€æ¬¡ã®3ç‚¹ã‚’ã—ã£ã‹ã‚Šã‚„ã‚‹ã“ã¨ãŒå¿…è¦ã€‚\nèª²é¡Œã‚’èªè­˜ã•ã›ã‚‹ ã€Œèª²é¡ŒãŒã‚ã‚‹ã‚ˆã€ã§ã¯ãªãã€ã€Œã“ã‚Œã¯å¤§ä¸ˆå¤«ï¼Ÿã€ã¨èãã“ã¨ã§ã€ãƒ¡ãƒ³ãƒ†ã‚£è‡ªèº«ã«èª²é¡Œã‚’ç™ºè¦‹ã•ã›ã‚‹ èª²é¡Œè§£æ±ºã¸ã®ãƒ’ãƒ³ãƒˆã‚’ä¸ãˆã‚‹ èª²é¡Œè§£æ±ºã¾ã§ã®é“ã®ã‚Šã‚’ä¸€æ°—ã«ã§ã¯ãªãã€ä¸€æ­©ãšã¤ç¢ºå®Ÿã«æ­©ã„ã¦ã„ã‚‹å®Ÿæ„Ÿã‚’ä¸ãˆã‚‹ èª²é¡Œè§£æ±ºã—ãŸããªã‚‹ã‚ˆã†ã«ã™ã‚‹ å°ã•ãªæˆé•·å®Ÿæ„Ÿã«åŠ ãˆã¦ã€å¤§ããªç›®æ¨™é”æˆã‚„ã‚´ãƒ¼ãƒ«ã®èªè­˜ã‚’åˆã‚ã›ã‚‹ ä»–è€…èª¬å¾— ã§ã¯ãªã è‡ªå·±èª¬å¾— ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¨ãƒ†ã‚£ãƒ¼ãƒãƒ³ã‚°ï¼ˆç›´æ¥ç‰©äº‹ã‚’æ•™ãˆã‚‹ã“ã¨ï¼‰ã‚’æ¯”ã¹ã¦å„ªã‚Œã¦ã„ã‚‹ç‚¹ã¯ã€\nãƒ¡ãƒ³ãƒ†ã‚£ã«å¿œç”¨åŠ›ãŒã¤ãã“ã¨ã§ã‚ã‚‹ã€‚\nãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã§ã¯ã€ãƒ¡ãƒ³ãƒ†ã‚£ãŒè€ƒãˆã€è‡ªã‚‰çŸ¥è­˜ã‚’ç²å¾—ã—ã‚‹ã“ã¨ã‚’ä¿ƒã™ãŸã‚ã€å¿œç”¨åŠ›ãŒèº«ã«ã¤ãã€‚\nã‚ˆã£ã¦ã€ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¯äººã«ä¸ãˆã‚‰ã‚ŒãŸèª¬å¾—ã«ã‚ˆã‚‹çŸ¥è­˜ï¼ˆä»–è€…èª¬å¾—ï¼‰ã‚ˆã‚Šã‚‚ã€\nè‡ªã‚‰æ°—ã¥ã„ãŸã“ã¨ï¼ˆè‡ªå·±èª¬å¾—ï¼‰ã‚’é‡è¦–ã™ã‚‹ã€‚\nãƒ¡ãƒ³ã‚¿ãƒ¼ã«ã‚ˆã‚‹è‡ªå·±èª¬å¾—ã®ä¿ƒé€² ãƒ¡ãƒ³ã‚¿ãƒ¼ã¯ç­”ãˆã‚’è¨€ã†ã®ã§ã¯ãªãè³ªå•ã‚’ç¹°ã‚Šè¿”ã™ã€‚\nãã—ã¦ã€ãã‚Œã‚‰ã®è³ªå•ã‹ã‚‰ãƒ¡ãƒ³ãƒ†ã‚£è‡ªèº«ãŒç­”ãˆã‚’å°ãå‡ºã™ã€‚\nã“ã‚ŒãŒé‡è¦ã€‚\nã€Œè€ƒãˆã‚‹ã€ã¨ã€Œæ‚©ã‚€ã€ã®é•ã„ ã€Œè€ƒãˆã‚‹ã€ã¨ã€Œæ‚©ã‚€ã€ã¯ã©ã¡ã‚‰ã‚‚å•é¡Œã«ç›´é¢ã—ã¦ã„ã‚‹ã¨ãã«èµ·ã“ã‚‹è¡Œå‹•ã§ã‚ã‚‹ãŒä»¥ä¸‹ã®ã‚ˆã†ãªé•ã„ãŒã‚ã‚‹ã€‚\nè€ƒãˆã‚‹ å•é¡Œã«å¯¾ã—ã¦ã€Œæ¬¡ã«ã‚„ã‚‹ã¹ãè¡Œå‹•ã€ãŒã¯ã£ãã‚Šã—ã¦ã„ã‚‹ãŸã‚ã€\nãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«èª²é¡Œã‚’æ›¸ãå‡ºã—é ­ã‚’æ•´ç†ã™ã‚‹ãªã©ã¨ã„ã£ãŸå•é¡Œè§£æ±ºã®ãŸã‚ã®è¡Œå‹•ã‚’å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\næ‚©ã‚€ å•é¡Œã«å¯¾ã—ã¦ã€Œæ¬¡ã«ã‚„ã‚‹ã¹ãè¡Œå‹•ã€ãŒã¯ã£ãã‚Šã—ã¦ã„ãªã„ãŸã‚ã€\nåŸºæœ¬çš„ã«ã¯æ‰‹ãŒæ­¢ã¾ã£ã¦ã—ã¾ã†ã€‚\næ‰‹ãŒæ­¢ã¾ã£ã¦ã„ã‚‹çŠ¶æ³ãŒç¶šãã‚ˆã†ã§ã‚ã‚Œã°ã€ãã‚Œã¯æ‚©ã‚“ã§ã„ã‚‹äººã§ã‚ã‚‹ã€‚\nãƒ¡ãƒ³ãƒ†ã‚£ãŒè¡Œå‹•ã§ãã¦ã„ãªã„ã¨ãã«ã€\nãƒ¡ãƒ³ã‚¿ãƒ¼ã¯ ã€Œæ‚©ã¿ã€ã‚’èãå‡ºã—ã€æ°—ã¥ãã‚’ä¿ƒã—ã¦ã€Œè€ƒãˆã‚‹ã€ã«å¤‰ãˆã‚‹ å¿…è¦ãŒã‚ã‚‹ã€‚\nãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã®åŸºæœ¬æŠ€è¡“ ã€Œå‚¾è´ã€ ã‚ˆãæ‚©ã¿ç›¸è«‡ã§ã€Œè©±ã—ãŸã‚‰ã™ã£ãã‚Šã—ãŸã€ã¨ã„ã†æ„Ÿæƒ³ãŒã§ã‚‹ã®ã¯ã€\näººãŒè©±ã‚’ã™ã‚‹ã¨ãã¯ã€å¿…ãšè©±ã™ã“ã¨ã‚’æ•´ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€\näººã«è©±ã™ã“ã¨ã§è‡ªç„¶ã¨é ­ã®ä¸­ãŒæ•´ç†ã§ãã‚‹ã‹ã‚‰ã§ã‚ã‚‹ã€‚\nã¤ã¾ã‚Šã€ä½•ã«å›°ã£ã¦ã„ã‚‹ã®ã‹ãŒæ˜ç¢ºã«ãªã‚Šã€æ¬¡ã«ã‚„ã‚‹ã¹ãã“ã¨ãŒè¦‹ãˆã¦ãã‚‹ã€‚\nâ˜…ã€Œæ‚©ã‚€ã€ã‹ã‚‰ã€Œè€ƒãˆã‚‹ã€ã«å¤‰ã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚\nã‚‚ã—ã‹ã—ã¦ã€æ‚©ã¿ç›¸è«‡ã£ã¦ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã‚‹ã ã‘â€¦ï¼Ÿ\nå‚¾è´ æ‚©ã¿ç›¸è«‡ã®ä¾‹ã®ã‚ˆã†ã«ã€äººã®è©±ã‚’èã„ã¦ã‚ã’ã‚‹ã“ã¨ã§ã€ãã®äººã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ãŒå¯èƒ½ã€‚\nã—ã‹ã—ã€ã€ŒãŸã è©±ã‚’èãã“ã¨ã€ã¨ã€Œå‚¾è´ã€ã«ã¯é•ã„ãŒã‚ã‚‹ã€‚\nãŸã è©±ã‚’èãã“ã¨\nç‰¹ã«ç›®çš„ã¨ã„ã†ã‚‚ã®ã¯ãªãã€è‡ªåˆ†ã®æ„è­˜ã‚’å‡ºã—ã¦ã—ã¾ã„ãŒã¡ è‡ªåˆ†ã®æ„è¦‹ã‚’è¨€ã† è‡ªåˆ†ã®èˆˆå‘³ã®ã‚ã‚‹ã“ã¨ã‚’è³ªå•ã™ã‚‹ è‡ªåˆ†ã«èˆˆå‘³ã®ãªã„ã“ã¨ã«ã¯èˆˆå‘³ãŒãªã•ãã†ãªç´ æŒ¯ã‚Šã‚’ã™ã‚‹ å‚¾è´\nç›¸æ‰‹ã®æ€è€ƒãŒæ•´ç†ã•ã‚Œã€å‰å‘ãã«è€ƒãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«æ”¯æ´ã™ã‚‹ã“ã¨ãŒç›®çš„ ç›¸æ‰‹ã®æ„Ÿæƒ…ã¸ã®å…±æ„Ÿã‚’è¨€å‹•ã§è¡¨ã™ ç›¸æ‰‹ã®è©±ã®å†…å®¹ã‚’å¯è¦–åŒ–ã™ã‚‹ ç›¸æ‰‹ã®æ€è€ƒã®ç›²ç‚¹ã‚’æ¢ç´¢ã—ãªãŒã‚‰è³ªå•ã‚’ã™ã‚‹ è©±ã‚’èãã®ãŒä¸Šæ‰‹ã„äººã¨ã¯ã€ ç›¸æ‰‹ã®ç«‹å ´ã«ãªã£ã¦è©±ã‚’èãã“ã¨ãŒã§ãã‚‹çœŸæ‘¯ã•ãŒã‚ã‚‹äººã§ã™ã€‚\nå‚¾è´ã§é‡è¦ãªè¦ç´  ã—ãã•ãƒ»ã†ãªãšããƒ»åº§ã‚Šæ–¹ è¡¨æƒ… ã‚ã„ã¥ã¡ æ°—ãŒä»˜ã‹ãªã„ä¿¡å·ã‚’æŒ‡æ‘˜ã—ã¦ã‚‚ã‚‰ã† ï¼ˆâ˜… ç´°ã‹ãªæ°—é£ã„ã‚’ã—ã‚ˆã†ã£ã¦ã“ã¨ã§ã™ã‹ã­ï¼‰ PCã§ãƒ¡ãƒ¢ã‚’å–ã‚‹å‰ã«ä¸€è¨€ã„ã£ã¦ãŠããªã© å…±æ„Ÿã¨åŒæ„Ÿã®é•ã„ åŒæ„Ÿã¯ç›¸æ‰‹ã¨åŒã˜æ°—æŒã¡ã«ãªã‚‹ã“ã¨ã€‚\nå…±æ„Ÿã¨ã¯ç›¸æ‰‹ã‚’ç†è§£ã™ã‚‹ã“ã¨ã€‚\nå‚¾è´ã§é‡è¦ãªã®ã¯å…±æ„Ÿã§ã‚ã‚Šã€ã€Œãªã‚‹ã»ã©ã€ã ã‹ã‚‰ã‚ãªãŸã¯ä»Šãã®ã‚ˆã†ãªæ„Ÿæƒ…ãªã®ã§ã™ã­ã€ã¨\nç›¸æ‰‹ã‚’ç†è§£ã—ã¦ã‚ã’ã‚‹ã“ã¨ãŒå¤§äº‹ã€‚\nâ˜… ã‚ã¡ã‚ƒãã¡ã‚ƒãªã‚‹ã»ã©ã£ã¦æ€ã£ãŸã€‚\nç¢ºã‹ã«è©±ã‚’èãã®ãŒã†ã¾ã„äººã¯ã‚ˆãå…±æ„Ÿã—ã¦ãã‚Œã‚‹ã€‚\nå•é¡Œã®å¯è¦–åŒ–ã¨æ˜æ™°åŒ– å•é¡Œã®å¯è¦–åŒ–ã¨æ˜æ™°åŒ–ã¯ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã¨ãƒ¡ãƒ³ãƒ†ã‚£ã®å¯¾è©±ã‚’é€šã˜ã¦ã€\nç°¡å˜ãªå•é¡Œã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã‚ã‚‹ã€‚\nå¯è¦–åŒ– å‚¾è´ã«ã‚ˆã‚Šã‚ã‚‹ç¨‹åº¦å•é¡Œã®å½¢ãŒè¦‹ãˆã¦ããŸã‚‰ã€æ¬¡ã¯å•é¡Œã‚’å¯è¦–åŒ–ã™ã‚‹ã€‚\nå•é¡Œã®å¯è¦–åŒ–ã«ã‚ˆã‚Šã€ãƒ¡ãƒ³ãƒ†ã‚£ã¯è‡ªåˆ†ãŒæŠ±ãˆã¦ã„ã‚‹å•é¡Œã‚’å®¢è¦³è¦–ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\næ˜æ™°åŒ– å¯è¦–åŒ–ã®éç¨‹ã§ã€æ„Ÿæƒ…çš„ã«å›ºåŸ·ã—ã¦ã—ã¾ã£ã¦ã„ã‚‹è¦ç´ ã‚’å¼•ãå‰¥ãŒã—ã€\næœ¬æ¥ã®å•é¡ŒãŒä½•ã§ã‚ã‚‹ã®ã‹ã‚’ã¯ã£ãã‚Šã•ã›ã‚‹ã€‚\nå¯è¦–åŒ–ã¨æ˜æ™°åŒ–ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ ãƒ» äº‹å®Ÿã¨æ„è¦‹ã‚’åˆ†ã‘ã‚‹ å¯è¦–åŒ–å¯¾è±¡ã¯äº‹å®Ÿã ã‘ã§ã‚ˆã„\nãƒ» ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒã‚¤ãƒ³ãƒˆã‚’ä½œã‚‹ é›£ã—ã„å•é¡Œã‚‚å•é¡Œã®ç¯„å›²ã‚’é™å®šã—ã€ã²ã¨ã¤ãšã¤å¯¾å‡¦ã—ã¦ã„ã\nãƒ» æ¯”è¼ƒå¯èƒ½ãªå•é¡Œã«å¤‰æ› è¤‡æ•°ã®é¸æŠè‚¢ãŒã‚ã‚‹å ´åˆã«ã€Œæ¯”è¼ƒã™ã‚‹è»¸ã€ã‚’ç¤ºã—ã¦ã‚ã’ã‚‹ã“ã¨ã§ã€è§£æ±ºå¯èƒ½ãªå•é¡Œã«å¤‰ãˆã‚‹\nèªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ã¨ãƒªãƒ•ãƒ¬ãƒŸãƒ³ã‚° èªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ  äººã¯ç‰©äº‹ã‚’èªçŸ¥ã™ã‚‹æ çµ„ã¿ã‚’æŒã£ã¦ãŠã‚Šã€ãã®æ çµ„ã®ä¸­ã§ã—ã‹æƒ…å ±ã‚’å‡¦ç†ã§ããªã„ã€‚\nä¾‹ãˆã°ã€å®¶ã®éµã‚’ãªãã—ãŸã¨ãã€‚æœ¬å½“ã¯ãƒã‚±ãƒƒãƒˆã«å…¥ã£ã¦ã„ã‚‹ã®ã«ã€ç„¦ã‚Šã‹ã‚‰è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ããªã„ã€‚\nã“ã®ã‚ˆã†ãªèªçŸ¥ã®æ çµ„ã¿ã‚’ èªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ  ã¨ã„ã†ã€‚\nã“ã®èªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ãŒé‚ªé­”ã—ã¦ã€å•é¡Œã‚’è§£ã‘ãªã„å•é¡ŒåŒ–ã—ã¦ã—ã¾ã†äººãŒå¤šã„ã€‚\nã“ã®ã‚ˆã†ãªã¨ãã«ã¯ã€å¾Œè¿°ã™ã‚‹ãƒªãƒ•ãƒ¬ãƒŸãƒ³ã‚°ã«ã‚ˆã‚ŠèªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’å¤‰ãˆã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\nâ˜… èªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’å¤‰ãˆã‚‹ã“ã¨ã§ã€ã€Œè§£ã‘ãªã„å•é¡Œã€ã‚’ã€Œè§£ã‘ã‚‹å•é¡Œã€ã«å¤‰æ›å¯èƒ½\nãƒªãƒ•ãƒ¬ãƒŸãƒ³ã‚° èªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ã¯ç°¡å˜ã«å¤‰ãˆã‚‹ã“ã¨ãŒå¯èƒ½ã§ã‚ã‚‹ã€‚\nä¾‹ãˆã°ã€å…ˆã»ã©ã®éµã‚’ãªãã—ãŸã¨ãã®ä¾‹ã§ã€éµãŒç·‘è‰²ã ã¨ã—ãŸã‚‰ã€\nã€Œä»Šã€ã‚ãªãŸã®å‘¨ã‚Šã«ã‚ã‚‹ç·‘è‰²ã®ã‚‚ã®ã‚’æ¢ã—ã¦ãã ã•ã„ã€ã¨ã„ãˆã°ã€\nã•ã£ãã¾ã§æ°—ã«ã—ã¦ã„ãªã‹ã£ãŸç·‘è‰²ã®ã‚‚ã®ãŒç›®ã«å…¥ã£ã¦ãã‚‹ã‚ˆã†ã«ãªã‚Šã€éµãŒè¦‹ã¤ã‹ã‚‹ã ã‚ã†ã€‚\nã“ã®ã‚ˆã†ã«ã€å¯¾è©±ã«ã‚ˆã£ã¦èªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ã¯å¤‰ãˆã‚‹ã“ã¨ãŒå¯èƒ½ã§ã‚ã‚Šã€\nå¯¾è©±ã«ã‚ˆã‚‹èªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ã®å¤‰æ›´ã‚’ãƒªãƒ•ãƒ¬ãƒ¼ãƒŸãƒ³ã‚°ã¨ã„ã†ã€‚\næƒ…å ±ã®éå¯¾ç§°æ€§ã®è§£æ¶ˆ æƒ…å ±ã®éå¯¾ç§°æ€§ã¨ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªçŠ¶æ³ã®ã“ã¨ã‚’ã„ã†ã€‚\nè‡ªåˆ†ã¯åˆ†ã‹ã£ã¦ã„ã‚‹ãŒã€ç›¸æ‰‹ã¯åˆ†ã‹ã£ã¦ã„ãªã„ ç›¸æ‰‹ã¯åˆ†ã‹ã£ã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã‘ã©ã€è‡ªåˆ†ã¯ã‚ã‹ã£ã¦ã„ãªã„ ã“ã‚Œã‚’è§£æ¶ˆã™ã‚‹ã«ã¯ã€\nè‡ªåˆ†ãŒæŒã¤æƒ…å ±ã‚’ç›¸æ‰‹ã«ä¼ãˆã‚‹ ç›¸æ‰‹ãŒæŒã¤æƒ…å ±ã‚’è‡ªåˆ†ãŒèã ã¨ã„ã†ã“ã¨ã‚’ã—ã£ã‹ã‚Šã™ã‚‹ã€‚\nï¼ˆä¸Šè¨˜ã®è¡Œå‹•ã¯ã‚ãŸã‚Šã¾ãˆã®ã“ã¨ã§ã™ãŒã€\nã€Œä¸Šå¸ã¯å„ªç§€ãªäººã ã‹ã‚‰åˆ†ã‹ã£ã¦ã„ã‚‹ã«é•ã„ãªã„ã€ã¨ã„ã£ãŸèªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ãŒé‚ªé­”ã—ã¦ãªã‹ãªã‹ã§ãã¾ã›ã‚“ã€‚ï¼‰\nèª²é¡Œã®åˆ†é›¢ 1ã¤ã®èª²é¡Œã«è¦‹ãˆã¦ã‚‚ã€æœ¬å½“ã¯è¤‡æ•°ã®èª²é¡Œã®é›†åˆä½“ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚\nã“ã®ã¨ããƒ¡ãƒ³ã‚¿ãƒ¼ã¯ãƒ¡ãƒ³ãƒ†ã‚£ã®æ€è€ƒã®ç¯„å›²ã‚’ã‚¯ãƒªã‚¢ã«é™å®šã—ã¦ã‚ã’ã‚‹ã€‚\nã¤ã¾ã‚Šã€ã†ã¾ãå•é¡Œã‚’åˆ†å‰²ã—ã¦ã‚ã’ã‚‹ã“ã¨ãŒå¤§äº‹\nå¿ƒç†çš„å®‰å…¨æ€§ å¿ƒç†çš„å®‰å…¨æ€§ã¨ã¯ ä¸‹è¨˜2ã¤ãŒå®ˆã‚‰ã‚Œã¦ã„ã‚‹çŠ¶æ³\nå¯¾äººãƒªã‚¹ã‚¯ã‚’å–ã£ã¦ã‚‚å•é¡Œãªã„ã¨ã„ã†ä¿¡å¿µãŒãƒãƒ¼ãƒ ã§å…±æœ‰ã•ã‚Œã¦ã„ã‚‹ è‡ªåˆ†ã®ã‚­ãƒ£ãƒªã‚¢ã‚„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ã‚»ãƒ«ãƒ•ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ãƒã‚¬ãƒ†ã‚£ãƒ–ãªå½±éŸ¿ã‚’ä¸ãˆã‚‹æã‚ŒãŒãªãã€è‡ªåˆ†ã‚’è¡¨ç¾ã—åƒãã“ã¨ãŒã§ãã‚‹ â˜… å¯¾äººãƒªã‚¹ã‚¯ã‚’ç©æ¥µçš„ã«å–ã‚Œã‚‹ç’°å¢ƒãŒå¤§äº‹ãªã‚“ã§ã™ã­\nãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã‚’è¡Œã†ã†ãˆã§ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã¨ãƒ¡ãƒ³ãƒ†ã‚£é–“ã®å¿ƒç†çš„å®‰å…¨æ€§ã¯ã¨ã¦ã‚‚é‡è¦ã€‚\nå¿ƒç†çš„å®‰å…¨æ€§ãŒé«˜ã¾ã‚‹ã¨ã©ã†ãªã‚‹ã®ã‹ å¿ƒç†çš„å®‰å…¨æ€§ã‚’é«˜ã‚ã‚‹ã¨æ¬¡ã®ã‚ˆã†ãªå½±éŸ¿ãŒãƒãƒ¼ãƒ ã«ç¾ã‚Œã‚‹ã€‚\nç‡ç›´ã«è©±ã™ã‚ˆã†ã«ãªã‚‹ è€ƒãˆãŒæ˜æ™°ã«ãªã‚‹ æ„ç¾©ã‚ã‚‹å¯¾ç«‹ãŒå¾ŒæŠ¼ã—ã•ã‚Œã‚‹ å¤±æ•—ãŒç·©å’Œã•ã‚Œã‚‹ å¤±æ•—ã®å ±å‘ŠãŒã—ã‚„ã™ããªã‚‹ ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¿ƒã•ã‚Œã‚‹ ä»Šã¾ã§ã®å‰æã«ã¨ã‚‰ã‚ã‚Œãšã€å‰µé€ çš„ãªæ„è¦‹ãŒå‡ºã‚‹ çµ„ç¹”å†…ã®éšœå®³ã§ãªãç›®æ¨™ã«é›†ä¸­ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ çµ„ç¹”å†…ã®ç†ä¸å°½ã‚’æ°—ã«ã™ã‚‹å¿…è¦ãŒãªããªã‚‹ è²¬ä»»æ„ŸãŒå‘ä¸Šã™ã‚‹ å¿ƒç†çš„å®‰å…¨æ€§ã¨è²¬ä»» ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã«ãŠã„ã¦é‡è¦ãªã®ã¯ ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¾ãƒ¼ãƒ³ ã§ã‚ã‚‹ã€‚\nãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¾ãƒ¼ãƒ³ã¨ã¯ã€å¯¾äººãƒªã‚¹ã‚¯ã‚’å–ã‚Šã¤ã¤ã€ç™ºå±•çš„è­°è«–ãŒã§ãã‚‹çŠ¶æ³ã€‚\nãƒ¡ãƒ³ã‚¿ãƒ¼ã¯ãƒ¡ãƒ³ãƒ†ã‚£ã‚’ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¾ãƒ¼ãƒ³ã«å°ãã“ã¨ãŒå¤§äº‹ã€‚\nè‡ªå·±ä¸»å¼µã¨åŒèª¿åœ§åŠ› ã‚¢ãƒ¡ãƒªã‚«ã§ã¯ã€åˆé ­æ•™è‚²ã‹ã‚‰è‡ªå·±ä¸»å¼µã‚’ã—ã£ã‹ã‚Šã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ãŠã‚Šã€\nè‡ªåˆ†ã®è€ƒãˆã‚’ã—ã£ã‹ã‚Šã¨è©±ã™é€±é–“ãŒèº«ã«ã¤ã„ã¦ã„ã‚‹ã€‚\nä¸€æ–¹ã§ã€æ—¥æœ¬ã¯ã§ãã‚‹é™ã‚Šå‘¨å›²ã¨åŒèª¿ã—ã‚ˆã†ã¨ã™ã‚‹ã€‚\nã¤ã¾ã‚Šã€åŒèª¿åœ§åŠ›ãŒå¼·ã„æ°‘æ—ã§ã‚ã‚‹ã€‚\nåŒèª¿åœ§åŠ›ã®å¼·ã„ã‚°ãƒ«ãƒ¼ãƒ—ã§ã¯ã€æ„è¦‹ãŒå¯¾ç«‹ã™ã‚‹ã“ã¨ã‚’ã€Œä»²ãŒæ‚ªã„ã€ã¨æ‰ãˆãŒã¡ã§ã‚ã‚‹ã€‚\nã“ã®ã‚ˆã†ãªé›°å›²æ°—ãŒè”“å»¶ã™ã‚‹ã¨ã€å¿ƒç†çš„å®‰å…¨æ€§ã‚’è„…ã‹ã•ãªã„ãŸã‚ã«æ„è¦‹ã‚’æ®ºã—ã¦ã—ã¾ã†ã€‚\nã“ã®ã‚ˆã†ãªçŠ¶æ³ã¯ç”Ÿç”£æ€§ãŒä¸‹ãŒã£ã¦ã—ã¾ã†åŸå› ã«ãªã‚ŠãŒã¡ãªã®ã§æ”¹å–„ãŒå¿…è¦ã§ã‚ã‚‹ã€‚\nâ˜… æ—¥æœ¬äººã«ã¯åŒèª¿åœ§åŠ›ãŒã—ã¿ã¤ã„ã¦ã—ã¾ã£ã¦ã„ã‚‹ã‹ã‚‰ã€ã“ã®é›°å›²æ°—ã‚’å–ã‚Šé™¤ãã®ã¯ã¨ã¦ã‚‚é›£ã—ãã†\nãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã«ãŠã‘ã‚‹å¿ƒç†çš„å®‰å…¨æ€§ ãƒ¡ãƒ³ã‚¿ãƒ¼ã¨ãƒ¡ãƒ³ãƒ†ã‚£ã¯å¿ƒç†çš„å®‰å…¨æ€§ãŒé«˜ã„ã€\nã¤ã¾ã‚Šå¯¾äººãƒªã‚¹ã‚¯ã‚’ç©æ¥µçš„ã«å–ã‚Œã‚‹é–¢ä¿‚æ€§ã§ã‚ã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ã€‚\nã—ãŸãŒã£ã¦ã€ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã‚’åŠ¹æœçš„ã«ã™ã‚‹ãŸã‚ã«ä¸‹è¨˜ã®ã“ã¨ã‚’å®Ÿæ–½ã™ã‚‹ã€‚\nãƒ¡ãƒ³ãƒ†ã‚£ã®å¼±ã•ã€ãƒ¡ãƒ³ãƒ†ã‚£ã®å¤±æ•—ã‚’é–‹ç¤ºã—ã¦ã‚‚ã‚‰ã† ãƒ¡ãƒ³ã‚¿ãƒ¼ã®å¼±ã•ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã®å¤±æ•—ã‚’é–‹ç¤ºã™ã‚‹ ãƒ¡ãƒ³ã‚¿ãƒ¼ã¯å®Œç’§ãªäººé–“ã˜ã‚ƒãªãã¦ã‚ˆã„ã€‚\nã€Œã“ã†ã„ã†å¤±æ•—ã‚’ã—ãŸã‘ã©ã€ãã“ã‹ã‚‰ã“ã†ã„ã†ã“ã¨ã‚’å­¦ã³ã€ã“ã†ã—ãŸã‚‰ã†ã¾ãã„ã£ã¦æˆé•·ã§ããŸã€\nã¨ã„ã†å§¿ã‚’è¦‹ã›ã‚Œã°ã‚ˆã„ã€‚\nã“ã®ã‚ˆã†ãªè¦‹ã›æ–¹ï¼ˆä¼ãˆæ–¹ï¼‰ã‚’ ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚° ã¨ã„ã†ã€‚\nã‚¢ã‚¯ãƒãƒ¬ãƒƒã‚¸ãƒ¡ãƒ³ãƒˆï¼ˆæ‰¿èªï¼‰ ãƒ¡ãƒ³ã‚¿ãƒ¼ã¯ãƒ¡ãƒ³ãƒ†ã‚£ã‚’ã€Œæ‰¿èªã€ã—ã¦ã‚ã’ã‚‹ã“ã¨ãŒå¤§äº‹ã€‚\næ‰¿èªã¨ã¯ã€ãƒ¡ãƒ³ãƒ†ã‚£ãŒã—ãŸè¡Œå‹•ã«å¯¾ã—ã¦ã€ç†è§£ã—ã€å—ã‘å…¥ã‚Œã€æ„Ÿè¬ã‚’ä¼ãˆã‚‹ã“ã¨ã§ã‚ã‚Šã€\nè¤’ã‚ã‚‹ã“ã¨ã§ã¯ãªã„ã€‚\nã‚¢ã‚¯ãƒãƒ¬ãƒƒã‚¸ãƒ¡ãƒ³ãƒˆã®ç¨®é¡ å­˜åœ¨æ‰¿èª ç›¸æ‰‹ã®å­˜åœ¨ã‚’æ‰¿èªã™ã‚‹ï¼ˆä¾‹ï¼šã‚ã„ã•ã¤ ã‚„ é ‘å¼µã£ã¦ã„ã‚‹æ§˜å­ã‚’è¦‹ã¦ã€è‚©ã‚’å©ã„ã¦åŠ±ã¾ã™ ãªã©ï¼‰ å‚¾è´ã‚‚ç›¸æ‰‹ã®å­˜åœ¨ã‚’æ‰¿èªã™ã‚‹ã²ã¨ã¤ã®æ–¹æ³• è¡Œå‹•æ‰¿èª è¡Œå‹•ã«å¯¾ã—ã¦æ‰¿èªã™ã‚‹ï¼ˆä¾‹ï¼šã€Œçµè«–ã‹ã‚‰è©±ã™ã‚ˆã†ã«ãªã£ãŸã€ã¨è¨€ã†ï¼‰ çµæœæ‰¿èª ã€Œè¤’ã‚ã‚‹ã€ã«è¿‘ã„ãŒã€ã‚ˆã‚Šåºƒã„ç¯„å›²ã§æ‰¿èªã‚’æ‰ãˆã¦ä¼ãˆã‚‹ï¼ˆä¾‹ï¼šã€Œã€œã€œã¯ã™ã”ã„æˆæœã ã­ã€ã¨è¨€ã†ï¼‰ ã¤ã¾ã‚Šã€ã‚ã„ã•ã¤ã‚„ç„¡è¦–ã—ãªã„ã€æ„Ÿè¬ã‚’ä¼ãˆã‚‹ãªã©ã¨ã„ã£ãŸå½“ãŸã‚Šå‰ã®ã“ã¨ã—ã‹ãªã„ã€‚\nå½“ãŸã‚Šå‰ã‚’ãã¡ã‚“ã¨ã—ã‚ˆã†ã¨ã„ã†è©±ã€‚\nçµæœãŒå‡ºãªã„ã¨æ‰¿èªã§ããªã„ï¼Ÿ ã€ŒçµæœãŒå‡ºãªã„ã¨æ‰¿èªã§ããªã„ã€ã¨ã„ã†ã®ã¯é–“é•ã„ã§ã‚ã‚‹ã€‚\nçµæœã‚ˆã‚Šã‚‚è¡Œå‹•ã€è¡Œå‹•ã ã‘ã§ãªãå­˜åœ¨ã¸ã®æ‰¿èªãŒé‡è¦ã€‚\nã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚° ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°ã®å®šç¾©ã‚’æ˜æ–‡åŒ–ã™ã‚‹ã¨ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ãƒ¡ãƒ³ãƒ†ã‚£ã«å¯¾ã—ã¦ã®è‡ªå·±é–‹ç¤ºã¨è¡¨ç¾ã§ãã‚‹ã€‚\nã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°ã§é‡è¦ãªã®ã¯ã€ãƒ¡ãƒ³ãƒ†ã‚£ã«ã€Œãƒ¡ãƒ³ã‚¿ãƒ¼ã‚‚è‡ªåˆ†ã¨åŒã˜äººé–“ã§ã‚ã‚‹ã€ã¨ã„ã†ç†è§£ã‚’ç²å¾—ã™ã‚‹ã“ã¨ã€‚\nã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°ã®æ³¨æ„ç‚¹ éå»ã®è‡ªæ…¢è©±ã«ãªã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚\nãã®ãŸã‚ã«ã€ä»¥ä¸‹ã®ã“ã¨ã‚’ã—ã£ã‹ã‚Šã¨ã‚„ã‚‹ã€‚\nåŒ…ã¿éš ã•ãšäº‹å®Ÿã‚’ä¼ãˆã‚‹ ãã®æ™‚ã®æ„Ÿæƒ…ã‚’ä¼ãˆã‚‹ ä¼ãˆãŸã„ä¾¡å€¤è¦³ã‚’æ˜ç¢ºã«ã™ã‚‹ è¿”å ±æ€§ã®åŸç†ã‚’åˆ©ç”¨ã™ã‚‹ è¿”å ±æ€§åŸç†ï¼šç›¸æ‰‹ã«ãªã«ã‹æ–½ã—ã¦ã‚‚ã‚‰ã£ãŸã‚‰ã€ãã‚Œã«å¯¾ã—ã¦è‡ªåˆ†ã‚‚ä½•ã‹ãŠè¿”ã—ã‚’ã—ãŸããªã‚‹å¿ƒç† ãƒ¡ãƒ³ã‚¿ãƒ¼ã¯è‡ªå·±é–‹ç¤ºã™ã‚‹ã“ã¨ã§ã€ãƒ¡ãƒ³ãƒ†ã‚£ãŒè‡ªå·±é–‹ç¤ºã—ãŸããªã‚‹ã‚ˆã†ã«ã™ã‚‹ â˜… è‡ªå·±é–‹ç¤ºã£ã¦è‡ªæ…¢è©±ï¼ˆæ­¦å‹‡ä¼ï¼‰ã«ãªã‚ŠãŒã¡ã ã‹ã‚‰æ°—ã‚’ã¤ã‘ãªã„ã¨\nã€ŒYouãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ã¨ã€ŒIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ Youãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã¯ã€ä¸»èªãŒã€Œã‚ãªãŸã€ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‚\nIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã¯ã€ä¸»èªãŒã€Œã‚ãŸã—ã€ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‚\nYouãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ç›¸æ‰‹ã«èª¤è§£ã‚’ç”Ÿã¿ã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚ã‚‹ã€‚\nä¾‹ãˆã°ã€ã€Œãªãœï¼ˆã‚ãªãŸã¯ï¼‰é…ã‚ŒãŸã®ï¼Ÿã€ã¨ä¼ãˆãŸã¨ãã«ã€\né™å¤–ã«ã€Œãªãœèª¬æ˜ã‚‚ãªãé…ã‚ŒãŸã®ï¼Ÿã€ã¨è²¬ã‚ã‚‹ã‚ˆã†ãªãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ãŒç”Ÿã¾ã‚Œã¦ã—ã¾ã†ã€‚\nã“ã‚Œã‚’Iãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¤‰ãˆã‚‹ã¨ã€ã€Œé€£çµ¡ãŒãªã‹ã£ãŸã‹ã‚‰ã€ï¼ˆã‚ãŸã—ã¯ï¼‰å¿ƒé…ã—ãŸã‚ˆã€ã¨ãªã‚Šã€\nè²¬ã‚ã‚‹ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã¯æ¸›ã‚Šã€å­˜åœ¨ã‚’æ‰¿èªã—ã¦ã„ã‚‹ã€‚\nã‚¸ãƒ§ãƒãƒªã®çª“ æˆé•·ã¨ã¯é–‹æ”¾ã®çª“ã‚’åºƒã’ã‚‹ï¼ˆã¤ã¾ã‚Šã€æœªçŸ¥ã®çª“=è‡ªåˆ†ã«å‡ºä¼šã†ï¼‰ã“ã¨ã€‚\nãƒ¡ãƒ³ãƒ†ã‚£ã¯ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ã‘ã‚‹ã“ã¨ã§ã€\nç›²ç‚¹ã®çª“ï¼ˆè‡ªåˆ†ãŒåˆ†ã‹ã£ã¦ã„ãªã„ã“ã¨ï¼‰ã‚’é–‹æ”¾ã®çª“ï¼ˆè‡ªåˆ†ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ã“ã¨ï¼‰ã«å¤‰ãˆã‚‹ã“ã¨ãŒå¯èƒ½ã€‚\nã•ã‚‰ã«ã€ãƒ¡ãƒ³ãƒ†ã‚£ã®è‡ªå·±é–‹ç¤ºã«ã‚ˆã‚Šç§˜å¯†ã®çª“ï¼ˆè‡ªåˆ†ã ã‘ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ã“ã¨ï¼‰ã‚’\nç›²ç‚¹ã®çª“ï¼ˆè‡ªåˆ†ã‚‚ä»–äººã‚‚åˆ†ã‹ã£ã¦ã„ã‚‹ã“ã¨ï¼‰ã«ã«å¤‰ãˆã‚‹ã“ã¨ãŒå¯èƒ½ã€‚\nãƒ¡ãƒ³ã‚¿ãƒ¼ã¯ã€Œã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°ã€ã‚„ã€Œã‚¢ã‚¯ãƒãƒ¬ãƒƒã‚¸ãƒ¡ãƒ³ãƒˆã€ã€\nã€Œå‚¾è´ã€ã€ã€Œãƒªãƒ•ãƒ¬ãƒ¼ãƒŸãƒ³ã‚°ã€ã«ã‚ˆã‚Šã€ãƒ¡ãƒ³ãƒ†ã‚£ãŒãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ã‘ã‚„ã™ãã€\nè‡ªå·±é–‹ç¤ºã•ã‚ŒãŸçŠ¶æ…‹ã¸ã¨å°ãã€‚\nå†…å¿ƒã¯è¦‹ãˆãªã„ãŒã€è¡Œå‹•ã¯è¦‹ãˆã‚‹ ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã®æœ€çµ‚å·¥ç¨‹ã¯ã€Œã“ã‚Œã‹ã‚‰ã©ã†ã™ã‚‹ã‹ã€ã§ã‚ã‚‹ã€‚\nãã®ã¨ãã«æ³¨æ„ã™ã¹ãã¯ã€å†…å¿ƒçš„ãªè¦ç´ ã‚’ä»‹å…¥ã•ã›ãªã„ã“ã¨ã§ã‚ã‚‹ã€‚\nä»–äººã®å†…å¿ƒã¯çµ¶å¯¾ã«è¦‹ãˆãªã„ã®ã§ã€å†…å¿ƒã‹ã‚‰ãã®äººãŒæ¬¡ã®ç›®æ¨™ã«å‘ã‘ãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’\nã¡ã‚ƒã‚“ã¨èµ·ã“ã›ã¦ã„ã‚‹ã‹ãªã‚“ã¦ã“ã¨ã¯çµ¶å¯¾ã«åˆ¤æ–­ã§ããªã„ã€‚\nå¤§äº‹ãªã®ã¯æ¬¡ã®ç›®æ¨™ã«å‘ã‘ã¦ è¡Œå‹•ã‚’èµ·ã“ã›ã¦ã„ã‚‹ã‹ ã§ã‚ã‚‹ã€‚\nã—ãŸãŒã£ã¦ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã¯ æ¬¡ã®è¡Œå‹•ã‚’ä¿ƒã™ ã‚ˆã†ãªæŒ‡å°ã‚’ã—ãªã‘ã‚Œã°ã„ã‘ãªã„ã€‚\nâ˜… å†…å¿ƒã¯è¦‹ãˆãªã„ã€‚ã¾ã•ã«ãã®ã¨ãŠã‚Šã€‚ã§ã‚‚ã€ç¾ä»£ã«ã¯ã¾ã ã¾ã æ ¹æ€§è«–ã¨ã‹å­˜åœ¨ã—ã¾ã™ã‚ˆã­ã€‚æ°—ã‚’ã¤ã‘ãªã„ã¨ã€‚\nSMARTãªè¡Œå‹• ã€Œã“ã‚Œã‹ã‚‰ã©ã†ã™ã‚‹ã‹ã€ã«ã¤ã„ã¦ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã¨ãƒ¡ãƒ³ãƒ†ã‚£ã®èªè­˜ã‚’åˆã‚ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\nã“ã®ã¨ãæ³¨æ„ã™ã¹ããªã®ãŒã€\nã€Œè‡ªåˆ†ã®è¨€è‘‰ã¯è‡ªåˆ†ã®æ€ã£ãŸã‚ˆã†ã«ç›¸æ‰‹ã«ä¼ã‚ã£ã¦ã„ã‚‹ã¯ãšã€ã¨æ€ã‚ãªã„ã“ã¨ã§ã‚ã‚‹ã€‚\nçµ¶å¯¾ã«æ­£ã—ãä¼ã‚ã‚‰ãªã„ã€‚\nãƒ¡ãƒ³ã‚¿ãƒ¼ã¨ãƒ¡ãƒ³ãƒ†ã‚£é–“ã§èªè­˜ã®å·®ç•°ã‚’ç”Ÿã¾ãªã„ãŸã‚ã«ã¯ã€SMARTåŸå‰‡ ã‚’æ„è­˜ã™ã‚‹ã¨ã‚ˆã„ã€‚\nSpecificï¼ˆå…·ä½“çš„ãªï¼‰ï¼šæŠ½è±¡çš„ãªè¡¨ç¾ã¯ä½¿ã‚ãªã„ Measureableï¼ˆæ¸¬å®šå¯èƒ½ãªï¼‰ï¼šæ¬¡ã®è¡Œå‹•ãŒè¡Œã‚ã‚ŒãŸã‹ã©ã†ã‹ã€ã©ã®ã‚ˆã†ã«ç¢ºèªã™ã‚‹ã‹æ±ºã‚ã‚‹ Achievableï¼ˆåˆ°é”å¯èƒ½ãªï¼‰ï¼šé”æˆå¯èƒ½ãªç›®æ¨™ã ã‘ã‚’è¨­å®šã™ã‚‹ Relatedï¼ˆé–¢é€£ã—ãŸï¼‰ï¼šãƒ¡ãƒ³ãƒ†ã‚£ã®èª²é¡Œã¨ç›®æ¨™è¡Œå‹•ã®é–¢ä¿‚æ€§ã‚’ãƒ¡ãƒ³ãƒ†ã‚£è‡ªèº«ãŒèª¬æ˜ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ Time-Boundï¼ˆæ™‚é–“åˆ¶é™ã®ã‚ã‚‹ï¼‰ï¼šæœŸé™ã‚’å®šã‚ã‚‹ èƒ½åŠ›ã¨ç¿’æ…£ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹ äººã®æˆé•·ã¯ä¸Šå›³ã®ã‚ˆã†ã«ã€Œè¡Œå‹•ãƒ»ç¿’æ…£ãƒ»èƒ½åŠ›ãƒ»æˆæœã€ã®4ã¤ã®äº‹æŸ„ã®ãƒ«ãƒ¼ãƒ—ã§ã‚ã‚‹ã€‚\nã“ã®4ã¤ã®è¦ç´ ã®ã†ã¡åŸºæœ¬çš„ã«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã®ã¯ã€Œè¡Œå‹•ã¨ç¿’æ…£ã€ã®ã¿ã§ã‚ã‚‹ã€‚\nã—ãŸãŒã£ã¦ã€ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã§ã¯è¡Œå‹•ã¨ç¿’æ…£ã®æˆé•·ã‚’ä¿ƒã™ã€‚\nâ˜… è¡Œå‹•ãŒç¿’æ…£åŒ–ã™ã‚‹ã¨ã“ã‚ã¾ã§è¦‹ã¦ã‚ã’ã‚‹ã“ã¨ãŒå¤§äº‹ãªã‚“ã§ã™ã­\næˆé•·ã¯è¡Œå‹•å¤‰åŒ–ã®å…ˆã«ã‚ã‚‹ çµå±€ã®ã¨ã“ã‚æˆé•·ã¯è¡Œå‹•ã—ãªã„ã¨èµ·ãå¾—ãªã„ã€‚\nã§ã¯ã€ãªãœè¡Œå‹•ã§ããªã„ã®ã‹ã€‚\nãã‚Œã¯ã€Œè¡Œå‹•ã‚’ä¿ƒé€²ã™ã‚‹åŠ›ã€ã‚ˆã‚Šã€Œè¡Œå‹•ã‚’é˜»å®³ã™ã‚‹åŠ›ã€ãŒå‹ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã‚ã‚‹ã€‚\nãƒ¡ãƒ³ã‚¿ãƒ¼ã¯è¡Œå‹•ã‚’ä¿ƒé€²ã™ã‚‹åŠ›ã‚’å¼·ã‚ã‚‹ãŸã‚ã«ä¸‹è¨˜ã®ã‚ˆã†ãªè¡Œå‹•ã‚’è¡Œã†ã¹ãã§ã‚ã‚‹ã€‚\nãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®æ©Ÿä¼šã‚’å¢—ã‚„ã™ é©åˆ‡ã«æ‰¿èªã™ã‚‹ ã€Œè¡Œå‹•ã‚’é˜»å®³ã™ã‚‹è¦å› ã€ã¯ç’°å¢ƒã‚„æ§‹é€ ã‚’å¤‰ãˆã‚‹ãŸã‚ã®è¡Œå‹•ã«å¤‰æ›ã—ã¦ã‚ã’ã‚‹ é©åˆ‡ãªç›®æ¨™ã‚’æ±ºã‚ã‚‹ è‡ªåˆ†ã®æ°—ãŒã¤ã‹ãªã‹ã£ãŸå•é¡Œã«æ°—ãŒã¤ãã‚ˆã†ã«ãªã‚‹ èªçŸ¥ã®æ­ªã¿ã«ã‚ˆã‚‹æ„Ÿæƒ…ã¨å•é¡Œã®ç™’ç€ã‚’åˆ‡ã‚Šé›¢ã›ã‚‹ ç­”ãˆã§ã¯ãªãã€æ¬¡ã®ä¸€æ‰‹ã‚’ç”Ÿã¿å‡ºã™è¡Œå‹•ãŒå–ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã®ã‚´ãƒ¼ãƒ«ã§ã‚ã‚‹ä¸Šè¨˜3ç‚¹ã®çŠ¶æ…‹ã«å°ããŸã‚ã«ã¯ã€\né©åˆ‡ãªã‚´ãƒ¼ãƒ«è¨­å®šãŒå¿…è¦ã§ã‚ã‚‹ã€‚\nã‚´ãƒ¼ãƒ«ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€èªçŸ¥ãƒ•ãƒ¬ãƒ¼ãƒ ã«å¤‰åŒ–ãŒèµ·ãã€è¦‹ãˆãªã‹ã£ãŸã‚‚ã®ãŒè¦‹ãˆã¦ãã‚‹ã€‚\nãŸã ã—ã€é—‡é›²ã«ã‚´ãƒ¼ãƒ«ã‚’æ±ºã‚ã‚Œã°ã‚ˆã„ã‚ã‘ã§ã¯ãªã„ã€‚\nå¾Œè¿°ã™ã‚‹ã‚´ãƒ¼ãƒ«ã®ãƒ¬ãƒ™ãƒ«ãŒä¼´ã£ã¦ã„ãªã„ã¨ã„ã‘ãªã„ã€‚\nã‚´ãƒ¼ãƒ«ã®ãƒ¬ãƒ™ãƒ« ã‚´ãƒ¼ãƒ«ã«ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šãƒ¬ãƒ™ãƒ«ãŒã‚ã‚‹ã€‚\nãƒ¬ãƒ™ãƒ«0 é¡˜æœ›ï¼šæ¼ ç„¶ã¨æ€ã£ã¦ã„ã‚‹ãƒ¬ãƒ™ãƒ«ã®ã‚´ãƒ¼ãƒ« ä¾‹ï¼šãŠé‡‘æŒã¡ã ã£ãŸã‚‰ãªã ãƒ¬ãƒ™ãƒ«1 ç¾©å‹™ï¼šé”æˆã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨èª°ã‹ã«æŠ¼ã—ä»˜ã‘ã‚‰ã‚ŒãŸã‚´ãƒ¼ãƒ« ä¾‹ï¼šãŠé‡‘æŒã¡ã«ãªã‚‰ãªã„ã¨ã„ã‘ãªã„ ãƒ¬ãƒ™ãƒ«2 æ¬²æ±‚ï¼šé”æˆã—ãŸã„ã¨è‡ªåˆ†ã§æ€ã£ã¦æ±ºã‚ãŸã‚´ãƒ¼ãƒ« ä¾‹ï¼šãŠé‡‘æŒã¡ã«ãªã‚ŠãŸã„ ãƒ¬ãƒ™ãƒ«3 æ„æ€ï¼šé”æˆã—ã‚ˆã†ã¨æ±ºæ„ã‚’ã‚‚ã£ã¦æ±ºã‚ãŸã‚´ãƒ¼ãƒ« ä¾‹ï¼šãŠé‡‘æŒã¡ã«ãªã‚‹ã ãƒ¬ãƒ™ãƒ«4 å¿…ç„¶ï¼šé”æˆã—ã¦ã„ã‚‹ã¨ã„ã†ç¢ºä¿¡ã‚’ã‚‚ã£ã¦è¡Œå‹•ã§ãã¦ã„ã‚‹ã‚´ãƒ¼ãƒ« ä¾‹ï¼šãŠé‡‘æŒã¡ã«ãªã£ã¦ã„ã‚‹ ã¯ã˜ã‚ã¯æ¼ ç„¶ã¨ã—ãŸå¤¢ã§ã‚ã£ã¦ã‚‚ã€ãƒ¬ãƒ™ãƒ«ãŒä¸ŠãŒã£ã¦ã„ãã¨ã¨ã‚‚ã«\nå¤¢ãŒã¯ã£ãã‚Šã¨ã—ã€æ¬¡ã«å–ã‚‹ã¹ãè¡Œå‹•ãŒæ˜ç¢ºã«ãªã£ã¦ãã‚‹ã€‚\nãƒ¬ãƒ™ãƒ«3ã§ã¯è¡Œå‹•ãŒå¤‰ã‚ã‚Šå§‹ã‚ã‚‹ã€‚\nãƒ¬ãƒ™ãƒ«4ã¾ã§ä¸ŠãŒã£ã¦ãã‚‹ã¨ã€ç¶™ç¶šçš„ãªè¡Œå‹•ã€ã¤ã¾ã‚Šç¿’æ…£ãŒå¤‰åŒ–ã—å§‹ã‚ã‚‹ã€‚\nãƒ¡ãƒ³ã‚¿ãƒ¼ã¯ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹æ‰‹åŠ©ã‘ã‚’è¡Œã†ã€‚\nã‚»ãƒ«ãƒ•ãƒã‚¹ã‚¿ãƒªãƒ¼ ã‚´ãƒ¼ãƒ«ã®è¨­å®šã€ã™ãªã‚ã¡ã€æœªæ¥ã®è‡ªåˆ†ã‚’è¨­å®šã—ã€\næœªæ¥ã®è‡ªåˆ†ã‹ã‚‰è¦‹ã¦è‡ªèº«ã‚’ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ã‚’ã€Œã‚»ãƒ«ãƒ•ãƒã‚¹ã‚¿ãƒªãƒ¼ã€ã¨ã„ã†ã€‚\nã¤ã¾ã‚Šã€å°†æ¥ã®è‡ªåˆ†ã‹ã‚‰è¦‹ã¦ã€ä»Šã®è‡ªåˆ†ã«è¶³ã‚Šãªã„ã‚‚ã®ã‚’è¦‹ã¤ã‘ã€\nãã“ã‚’è£œã†ã‚ˆã†ã«è¡Œå‹•ã™ã‚‹ã“ã¨ã§ã‚ã‚‹ã€‚\nãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã¯ã€ã“ã®ã‚»ãƒ«ãƒ•ãƒã‚¹ã‚¿ãƒªãƒ¼ã‚’ä¼šå¾—ã™ã‚‹ã“ã¨ã§å®Œçµã™ã‚‹ã€‚\nãƒ¡ãƒ³ãƒ†ã‚£ãŒã‚»ãƒ«ãƒ•ãƒã‚¹ã‚¿ãƒªãƒ¼ã‚’ä¼šå¾—ã™ã‚Œã°ã€ã‚‚ã†ãƒ¡ãƒ³ã‚¿ãƒ¼ã¯å¿…è¦ãªã„ã€‚\nè‡ªèµ°å¯èƒ½ï¼è‡ªç«‹å¯èƒ½ãªäººæã®èª•ç”Ÿã§ã‚ã‚‹ã€‚\nä»¥ä¸‹æ„Ÿæƒ³\nçµå±€ã®ã¨ã“ã‚ã€äººãŒæˆé•·ã™ã‚‹ã«ã¯ãã®äººè‡ªèº«ãŒè¡Œå‹•ã‚’èµ·ã“ã™ã—ã‹ãªã„ã‚ã‘ã§ã™ãŒã€\nã€Œã˜ã‚ƒã‚ã©ã†ã‚„ã£ã¦è¡Œå‹•ã‚’ä¿ƒã™ã®ã‹ã€ã¨ã„ã£ãŸã“ã¨ã¯ã‚ã¾ã‚Šè€ƒãˆãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\næœ¬æ›¸ã¯ã€è«–ç†çš„ã«ã©ã†ã‚„ã£ã¦è¡Œå‹•ã‚’èµ·ã“ã›ã‚‹ã‚ˆã†ã«å°ãã®ã‹ã€\nãã®æ‰‹æ³•ã‚’äº‹ç´°ã‹ã«èª¬æ˜ã•ã‚Œã¦ãŠã‚Šã€èª¬å¾—åŠ›ã®ã‚ã‚‹å†…å®¹ã§ã—ãŸã€‚\nä»Šå›ã¯2ç« ã®ã€Œãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã®æŠ€è¡“ã€ã ã‘ã‚’èª­ã¿ã¾ã—ãŸãŒã€\nä»Šå¾Œä»–ã®ç« ã«é–¢ã—ã¦ã‚‚ã¾ã¨ã‚ã¦è¨˜äº‹ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n","ref":"/blog/engineering_organization_theory_mentoring/"},{"title":"Hello Wolrd","date":"","description":"ã€ä¸€æ–‡ã¾ã¨ã‚ã€‘æŠ€è¡“ãƒ–ãƒ­ã‚°ã¯ã˜ã‚ã¾ã™","body":"æŠ€è¡“ãƒ–ãƒ­ã‚°ã¯ã˜ã‚ã¾ã™ ä¸å®šæœŸã§å­¦ã‚“ã ã“ã¨ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¦ã„ãã¾ã™ã€‚\nã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®ãƒã‚¿ã‚’ä¸­å¿ƒã«ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚„ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰ï¼‰ã®è©±ã‚‚æ›¸ã„ã¦ã„ãäºˆå®šã§ã™ã€‚\nã¾ã•ã‹ã‚Šå¤§æ­“è¿ã§ã™ã€‚\nè‡ªå·±ç´¹ä»‹ 19æ–°å’ã¨ã—ã¦ç¤¾ä¼šäºº1å¹´ç›®ã‚’å§‹ã‚ãŸã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã™ã€‚\nå­¦ç”Ÿæ™‚ä»£ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚„ã‚¢ãƒ«ãƒã‚¤ãƒˆã§\nECã‚µãƒ¼ãƒ“ã‚¹ã‚„ã‚¹ãƒãƒ›ã‚²ãƒ¼ãƒ ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãªã©ã‚’é–‹ç™ºã—ã¦ã„ã¾ã—ãŸã€‚\nç¾åœ¨ã¯ã€ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ç›®æŒ‡ã—ã¦ã€æ—¥ã€…ä¿®è¡Œä¸­ã€‚\nï¼ˆãƒ¡ã‚¤ãƒ³ã¯ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ï¼‰\nå­¦ã‚“ã ã“ã¨ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹å ´ã¨ã—ã¦\næœ¬ãƒ–ãƒ­ã‚°ã‚’å§‹ã‚ã¾ã—ãŸã€‚\né ‘å¼µã‚Šã¾ã™\n","ref":"/blog/hello_world/"},{"title":"Contact","date":"","description":"","body":"","ref":"/contact/"}]